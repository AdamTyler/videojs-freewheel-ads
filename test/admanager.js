/* eslint-disable */
/*
 v3.0.3-1c411297, 2020-03-12T09:11:27Z */
 var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(D,fa,U){D!=Array.prototype&&D!=Object.prototype&&(D[fa]=U.value)};$jscomp.getGlobal=function(D){return"undefined"!=typeof window&&window===D?D:"undefined"!=typeof global&&null!=global?global:D};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
 $jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var D=0;return function(fa){return $jscomp.SYMBOL_PREFIX+(fa||"")+D++}}();
 $jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var D=$jscomp.global.Symbol.iterator;D||(D=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[D]&&$jscomp.defineProperty(Array.prototype,D,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
 $jscomp.arrayIterator=function(D){var fa=0;return $jscomp.iteratorPrototype(function(){return fa<D.length?{done:!1,value:D[fa++]}:{done:!0}})};$jscomp.iteratorPrototype=function(D){$jscomp.initSymbolIterator();D={next:D};D[$jscomp.global.Symbol.iterator]=function(){return this};return D};
 $jscomp.polyfill=function(D,fa,U,c){if(fa){U=$jscomp.global;D=D.split(".");for(c=0;c<D.length-1;c++){var Na=D[c];Na in U||(U[Na]={});U=U[Na]}D=D[D.length-1];c=U[D];fa=fa(c);fa!=c&&null!=fa&&$jscomp.defineProperty(U,D,{configurable:!0,writable:!0,value:fa})}};
 $jscomp.polyfill("Array.prototype.fill",function(D){return D?D:function(D,U,c){var fa=this.length||0;0>U&&(U=Math.max(0,fa+U));if(null==c||c>fa)c=fa;c=Number(c);0>c&&(c=Math.max(0,fa+c));for(U=Number(U||0);U<c;U++)this[U]=D;return this}},"es6","es3");
 $jscomp.iteratorFromArray=function(D,fa){$jscomp.initSymbolIterator();D instanceof String&&(D+="");var U=0,c={next:function(){if(U<D.length){var Na=U++;return{value:fa(Na,D[Na]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(D){return D?D:function(){return $jscomp.iteratorFromArray(this,function(D){return D})}},"es6","es3");
 $jscomp.polyfill("Object.getOwnPropertySymbols",function(D){return D?D:function(){return[]}},"es6","es5");$jscomp.polyfill("Reflect.ownKeys",function(D){return D?D:function(D){var fa=[],c=Object.getOwnPropertyNames(D);D=Object.getOwnPropertySymbols(D);for(var Na=0;Na<c.length;Na++)("jscomp_symbol_"==c[Na].substring(0,14)?D:fa).push(c[Na]);return fa.concat(D)}},"es6","es5");$jscomp.polyfill("Math.sign",function(D){return D?D:function(D){D=Number(D);return 0===D||isNaN(D)?D:0<D?1:-1}},"es6","es3");
 $jscomp.polyfill("String.fromCodePoint",function(D){return D?D:function(D){for(var fa="",c=0;c<arguments.length;c++){var Na=Number(arguments[c]);if(0>Na||1114111<Na||Na!==Math.floor(Na))throw new RangeError("invalid_code_point "+Na);65535>=Na?fa+=String.fromCharCode(Na):(Na-=65536,fa+=String.fromCharCode(Na>>>10&1023|55296),fa+=String.fromCharCode(Na&1023|56320))}return fa}},"es6","es3");
 $jscomp.polyfill("Number.isFinite",function(D){return D?D:function(D){return"number"!==typeof D?!1:!isNaN(D)&&Infinity!==D&&-Infinity!==D}},"es6","es3");$jscomp.polyfill("Number.isInteger",function(D){return D?D:function(D){return Number.isFinite(D)?D===Math.floor(D):!1}},"es6","es3");$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");
 $jscomp.polyfill("Array.prototype.entries",function(D){return D?D:function(){return $jscomp.iteratorFromArray(this,function(D,U){return[D,U]})}},"es6","es3");$jscomp.polyfill("Object.is",function(D){return D?D:function(D,U){return D===U?0!==D||1/D===1/U:D!==D&&U!==U}},"es6","es3");
 $jscomp.polyfill("Array.prototype.includes",function(D){return D?D:function(D,U){var c=this;c instanceof String&&(c=String(c));var fa=c.length;for(U=U||0;U<fa;U++)if(c[U]==D||Object.is(c[U],D))return!0;return!1}},"es7","es3");
 $jscomp.checkStringArgs=function(D,fa,U){if(null==D)throw new TypeError("The 'this' value for String.prototype."+U+" must not be null or undefined");if(fa instanceof RegExp)throw new TypeError("First argument to String.prototype."+U+" must not be a regular expression");return D+""};$jscomp.polyfill("String.prototype.includes",function(D){return D?D:function(D,U){return-1!==$jscomp.checkStringArgs(this,D,"includes").indexOf(D,U||0)}},"es6","es3");
 (function(){var D="SDK_"+"6.35.0-4ef6e682-202004081534".replace(/[^\w]/g,"_"),fa="undefined"!=typeof window?window:"undefined"!=typeof GLOBAL?GLOBAL:this;fa.tv=fa.tv||{};fa.tv.freewheel=fa.tv.freewheel||{};fa.tv.freewheel[D]=function(D){!function f(b,c,d){function e(h,g){if(!c[h]){if(!b[h]){var l="function"==typeof require&&require;if(!g&&l)return l(h,!0);if(k)return k(h,!0);g=Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g;}g=c[h]={exports:{}};b[h][0].call(g.exports,function(c){return e(b[h][1][c]||
 c)},g,g.exports,f,b,c,d)}return c[h].exports}for(var k="function"==typeof require&&require,h=0;h<d.length;h++)e(d[h]);return e}({1:[function(b,c,d){function f(b){for(var c=0,d=[],f=0|b.length/3;0<f--;){var e=(b[c]<<16)+(b[c+1]<<8)+b[c+2];c+=3;d.push(h.charAt(63&e>>18));d.push(h.charAt(63&e>>12));d.push(h.charAt(63&e>>6));d.push(h.charAt(63&e))}2==b.length-c?(e=(b[c]<<16)+(b[c+1]<<8),d.push(h.charAt(63&e>>18)),d.push(h.charAt(63&e>>12)),d.push(h.charAt(63&e>>6)),d.push("=")):1==b.length-c&&(e=b[c]<<
 16,d.push(h.charAt(63&e>>18)),d.push(h.charAt(63&e>>12)),d.push("=="));return d.join("")}function e(b){for(var c=0,d=[],f=0|b.length/4;0<f--;){var e=(l[b.charCodeAt(c)]<<18)+(l[b.charCodeAt(c+1)]<<12)+(l[b.charCodeAt(c+2)]<<6)+l[b.charCodeAt(c+3)];d.push(255&e>>16);d.push(255&e>>8);d.push(255&e);c+=4}return d&&("="==b.charAt(c-2)?(d.pop(),d.pop()):"="==b.charAt(c-1)&&d.pop()),d}var k={encode:function(b){for(var c=[],d=0;d<b.length;++d){var f=b.charCodeAt(d);128>f?c.push(f):(2048>f?c.push(192|f>>6):
 (65536>f?c.push(224|f>>12):(c.push(240|f>>18),c.push(128|63&f>>12)),c.push(128|63&f>>6)),c.push(128|63&f))}return c},decode:function(b){for(var c=[],d=0;d<b.length;){var f=b[d++];128>f||(224>f?f=(31&f)<<6:(240>f?f=(15&f)<<12:(f=(7&f)<<18,f|=(63&b[d++])<<12),f|=(63&b[d++])<<6),f|=63&b[d++]);c.push(String.fromCharCode(f))}return c.join("")}};var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var l=function(){for(var b=[],c=0;c<h.length;++c)b[h.charCodeAt(c)]=c;return b[61]=0,b}();
 var p={encode:function(b){for(var c=[],d=0;d<b.length;++d)c.push(b.charCodeAt(d));return c},decode:function(b){for(b=0;b<s.length;++b)a[b]=String.fromCharCode(a[b]);return a.join("")}};b=function(b){b=e(b);return new Uint8Array(b)};c=function(b){b=p.encode(b);return f(b)};var n=function(b){b=k.encode(b);return f(b)};var m=function(b){b=e(b);return k.decode(b)};void 0!==d&&(d.decode=m,d.decodeArray=b,d.encode=n,d.encodeASCII=c)},{}],2:[function(b,c,d){!function(b){function c(b){var c=b;return r.hasOwnProperty(b)&&
 (c=r[b]),String.fromCharCode(c)}function d(b){for(var c=[],d=0;d<b.length;d++)c.push(b[d].toString(16));return c}function f(b,c,d,f,e){this.foreground=b||"white";this.underline=c||!1;this.italics=d||!1;this.background=f||"black";this.flash=e||!1}function e(b,c,d,e,h,g){this.uchar=b||" ";this.penState=new f(c,d,e,h,g)}function p(){this.chars=[];for(var b=0;32>b;b++)this.chars.push(new e);this.pos=0;this.currPenState=new f}function n(){this.rows=[];for(var b=0;15>b;b++)this.rows.push(new p);this.currRow=
 14;this.nrRollUpRows=null;this.reset()}function m(b,c){this.chNr=b;this.outputFilter=c;this.mode=null;this.verbose=0;this.displayedMemory=new n;this.nonDisplayedMemory=new n;this.lastOutputScreen=new n;this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.cueStartTime=this.mode=null}function t(b,c,d){this.field=b||1;this.outputs=[c,d];this.channels=[new m(1,c),new m(2,d)];this.currChNr=-1;this.lastCmdB=this.lastCmdA=null;this.bufferedData=[];this.lastTime=this.startTime=
 null;this.dataCounters={padding:0,char:0,cmd:0,other:0}}var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,
 173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},q={17:2,18:4,21:6,22:8,23:10,19:13,20:15},v={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},R={25:2,26:4,29:6,30:8,31:10,27:13,28:15},K="white green blue cyan red yellow magenta black transparent".split(" "),
 H={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(b){this.time=b},log:function(b,c){this.verboseLevel>=this.verboseFilter[b]&&console.log(this.time+" ["+b+"] "+c)}};f.prototype={reset:function(){this.foreground="white";this.italics=this.underline=!1;this.background="black";this.flash=!1},setStyles:function(b){for(var c=["foreground","underline","italics","background","flash"],d=0;d<c.length;d++){var f=c[d];b.hasOwnProperty(f)&&(this[f]=b[f])}},
 isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(b){return this.foreground===b.foreground&&this.underline===b.underline&&this.italics===b.italics&&this.background===b.background&&this.flash===b.flash},copy:function(b){this.foreground=b.foreground;this.underline=b.underline;this.italics=b.italics;this.background=b.background;this.flash=b.flash},toString:function(){return"color="+this.foreground+", underline="+
 this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};e.prototype={reset:function(){this.uchar=" ";this.penState.reset()},setChar:function(b,c){this.uchar=b;this.penState.copy(c)},setPenState:function(b){this.penState.copy(b)},equals:function(b){return this.uchar===b.uchar&&this.penState.equals(b.penState)},copy:function(b){this.uchar=b.uchar;this.penState.copy(b.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};p.prototype=
 {equals:function(b){for(var c=!0,d=0;32>d;d++)if(!this.chars[d].equals(b.chars[d])){c=!1;break}return c},copy:function(b){for(var c=0;32>c;c++)this.chars[c].copy(b.chars[c])},isEmpty:function(){for(var b=!0,c=0;32>c;c++)if(!this.chars[c].isEmpty()){b=!1;break}return b},setCursor:function(b){this.pos!==b&&(this.pos=b);0>this.pos?(H.log("ERROR","Negative cursor position "+this.pos),this.pos=0):32<this.pos&&(H.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(b){var c=
 this.pos+b;if(1<b)for(b=this.pos+1;b<c+1;b++)this.chars[b].setPenState(this.currPenState);this.setCursor(c)},backSpace:function(){this.moveCursor(-1);this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(b){144<=b&&this.backSpace();var d=c(b);32<=this.pos?H.log("ERROR","Cannot insert "+b.toString(16)+" ("+d+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(d,this.currPenState),this.moveCursor(1))},clearFromPos:function(b){for(;32>b;b++)this.chars[b].reset()},
 clear:function(){this.clearFromPos(0);this.pos=0;this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var b=[],c=!0,d=0;32>d;d++){var f=this.chars[d].uchar;" "!==f&&(c=!1);b.push(f)}return c?"":b.join("")},setPenStyles:function(b){this.currPenState.setStyles(b);this.chars[this.pos].setPenState(this.currPenState)}};n.prototype={reset:function(){for(var b=0;15>b;b++)this.rows[b].clear();this.currRow=14},equals:function(b){for(var c=!0,d=0;15>
 d;d++)if(!this.rows[d].equals(b.rows[d])){c=!1;break}return c},copy:function(b){for(var c=0;15>c;c++)this.rows[c].copy(b.rows[c])},isEmpty:function(){for(var b=!0,c=0;15>c;c++)if(!this.rows[c].isEmpty()){b=!1;break}return b},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(b){this.rows[this.currRow].insertChar(b)},setPen:function(b){this.rows[this.currRow].setPenStyles(b)},moveCursor:function(b){this.rows[this.currRow].moveCursor(b)},
 setCursor:function(b){H.log("INFO","setCursor: "+b);this.rows[this.currRow].setCursor(b)},setPAC:function(b){H.log("INFO","pacData = "+JSON.stringify(b));var c=b.row-1;this.nrRollUpRows&&c<this.nrRollUpRows-1&&(c=this.nrRollUpRows-1);this.currRow=c;c=this.rows[this.currRow];if(null!==b.indent){var d=Math.max(b.indent-1,0);c.setCursor(b.indent);b.color=c.chars[d].penState.foreground}this.setPen({foreground:b.color,underline:b.underline,italics:b.italics,background:"black",flash:!1})},setBkgData:function(b){H.log("INFO",
 "bkgData = "+JSON.stringify(b));this.backSpace();this.setPen(b);this.insertChar(32)},setRollUpRows:function(b){this.nrRollUpRows=b},rollUp:function(){if(null!==this.nrRollUpRows){H.log("TEXT",this.getDisplayText());var b=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];b.clear();this.rows.splice(this.currRow,0,b);H.log("INFO","Rolling up")}else H.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(b){b=b||!1;for(var c=[],d="",f=-1,e=0;15>e;e++){var h=this.rows[e].getTextString();
 h&&(f=e+1,b?c.push("Row "+f+': "'+h+'"'):c.push(h.trim()))}return 0<c.length&&(d=b?"["+c.join(" | ")+"]":c.join("\n")),d},getTextAndFormat:function(){return this.rows}};m.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null;this.displayedMemory.reset();this.nonDisplayedMemory.reset();this.lastOutputScreen.reset();this.currRollUpRow=this.displayedMemory.rows[14];this.writeScreen=this.displayedMemory;this.lastCueEndTime=this.cueStartTime=this.mode=
 null},getHandler:function(){return this.outputFilter},setHandler:function(b){this.outputFilter=b},setPAC:function(b){this.writeScreen.setPAC(b)},setBkgData:function(b){this.writeScreen.setBkgData(b)},setMode:function(b){b!==this.mode&&(this.mode=b,H.log("INFO","MODE="+b),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=
 null),this.mode=b)},insertChars:function(b){for(var c=0;c<b.length;c++)this.writeScreen.insertChar(b[c]);H.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0));"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(H.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){H.log("INFO","RCL - Resume Caption Loading");this.setMode("MODE_POP-ON")},cc_BS:function(){H.log("INFO","BS - BackSpace");
 "MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){H.log("INFO","DER- Delete to End of Row");this.writeScreen.clearToEndOfRow();this.outputDataUpdate()},cc_RU:function(b){H.log("INFO","RU("+b+") - Roll Up");this.writeScreen=this.displayedMemory;this.setMode("MODE_ROLL-UP");this.writeScreen.setRollUpRows(b)},cc_FON:function(){H.log("INFO","FON - Flash On");this.writeScreen.setPen({flash:!0})},
 cc_RDC:function(){H.log("INFO","RDC - Resume Direct Captioning");this.setMode("MODE_PAINT-ON")},cc_TR:function(){H.log("INFO","TR");this.setMode("MODE_TEXT")},cc_RTD:function(){H.log("INFO","RTD");this.setMode("MODE_TEXT")},cc_EDM:function(){H.log("INFO","EDM - Erase Displayed Memory");this.displayedMemory.reset();this.outputDataUpdate()},cc_CR:function(){H.log("CR - Carriage Return");this.writeScreen.rollUp();this.outputDataUpdate()},cc_ENM:function(){H.log("INFO","ENM - Erase Non-displayed Memory");
 this.nonDisplayedMemory.reset()},cc_EOC:function(){if(H.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var b=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.writeScreen=this.nonDisplayedMemory=b;H.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(b){H.log("INFO","TO("+b+") - Tab Offset");this.writeScreen.moveCursor(b)},cc_MIDROW:function(b){var c={flash:!1};(c.underline=1==b%2,c.italics=46<=b,c.italics)?c.foreground=
 "white":c.foreground="white green blue cyan red yellow magenta".split(" ")[Math.floor(b/2)-16];H.log("INFO","MIDROW: "+JSON.stringify(c));this.writeScreen.setPen(c)},outputDataUpdate:function(){var b=H.time;null!==b&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(b,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,b,
 this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:b):this.cueStartTime=b,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(b){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,b,this.displayedMemory),this.cueStartTime=b))}};t.prototype={getHandler:function(b){return this.channels[b].getHandler()},setHandler:function(b,c){this.channels[b].setHandler(c)},addData:function(b,c){var f,
 e,h=!1;this.lastTime=b;H.setTime(b);for(var g=0;g<c.length;g+=2)if(f=127&c[g],e=127&c[g+1],16<=f&&31>=f&&f===this.lastCmdA&&e===this.lastCmdB)this.lastCmdB=this.lastCmdA=null,H.log("DEBUG","Repeated command ("+d([f,e])+") is dropped");else if(0!=f||0!=e){if(H.log("DATA","["+d([c[g],c[g+1]])+"] -> ("+d([f,e])+")"),!(b=(b=(b=(b=this.parseCmd(f,e))||this.parseMidrow(f,e))||this.parsePAC(f,e))||this.parseBackgroundAttributes(f,e)))if(h=this.parseChars(f,e))this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-
 1].insertChars(h):H.log("WARNING","No channel found yet. TEXT-MODE?");b?this.dataCounters.cmd+=2:h?this.dataCounters.char+=2:(this.dataCounters.other+=2,H.log("WARNING","Couldn't parse cleaned data "+d([f,e])+" orig: "+d([c[g],c[g+1]])))}else this.dataCounters.padding+=2},parseCmd:function(b,c){if(!((20===b||21===b||28===b||29===b)&&32<=c&&47>=c||(23===b||31===b)&&33<=c&&35>=c))return!1;var d=20===b||21===b||23===b?1:2;var f=this.channels[d-1];return 20===b||21===b||28===b||29===b?32===c?f.cc_RCL():
 33===c?f.cc_BS():34===c?f.cc_AOF():35===c?f.cc_AON():36===c?f.cc_DER():37===c?f.cc_RU(2):38===c?f.cc_RU(3):39===c?f.cc_RU(4):40===c?f.cc_FON():41===c?f.cc_RDC():42===c?f.cc_TR():43===c?f.cc_RTD():44===c?f.cc_EDM():45===c?f.cc_CR():46===c?f.cc_ENM():47===c&&f.cc_EOC():f.cc_TO(c-32),this.lastCmdA=b,this.lastCmdB=c,this.currChNr=d,!0},parseMidrow:function(b,c){var f;if((17===b||25===b)&&32<=c&&47>=c){if((f=17===b?1:2)!==this.currChNr)return H.log("ERROR","Mismatch channel in midrow parsing"),!1;f=this.channels[f-
 1];return f.insertChars([32]),f.cc_MIDROW(c),H.log("DEBUG","MIDROW ("+d([b,c])+")"),this.lastCmdA=b,this.lastCmdB=c,!0}return!1},parsePAC:function(b,c){if(!((17<=b&&23>=b||25<=b&&31>=b)&&64<=c&&127>=c||(16===b||24===b)&&64<=c&&95>=c))return!1;var d=23>=b?1:2;var f=this.interpretPAC(64<=c&&95>=c?1==d?u[b]:v[b]:1==d?q[b]:R[b],c);return this.channels[d-1].setPAC(f),this.lastCmdA=b,this.lastCmdB=c,this.currChNr=d,!0},interpretPAC:function(b,c){var d=c;b={color:null,italics:!1,indent:null,underline:!1,
 row:b};return d=95<c?c-96:c-64,b.underline=1==(1&d),13>=d?b.color="white green blue cyan red yellow magenta white".split(" ")[Math.floor(d/2)]:15>=d?(b.italics=!0,b.color="white"):b.indent=4*Math.floor((d-16)/2),b},parseChars:function(b,f){var e=null,h=null,g=null;17<=(g=25<=b?(e=2,b-8):(e=1,b))&&19>=g?(h=17===g?f+80:18===g?f+112:f+144,H.log("INFO","Special char '"+c(h)+"' in channel "+e),h=[h],this.lastCmdA=b,this.lastCmdB=f):32<=b&&127>=b&&(h=0===f?[b]:[b,f],this.lastCmdA=null,this.lastCmdB=null);
 h&&(b=d(h),H.log("DEBUG","Char codes =  "+b.join(",")));return h},parseBackgroundAttributes:function(b,c){var d,f,e;return((16===b||24===b)&&32<=c&&47>=c||(23===b||31===b)&&45<=c&&47>=c)&&(d={},16===b||24===b?(f=Math.floor((c-32)/2),d.background=K[f],1==c%2&&(d.background+="_semi")):45===c?d.background="transparent":(d.foreground="black",47===c&&(d.underline=!0)),e=24>b?1:2,this.channels[e-1].setBkgData(d),this.lastCmdA=b,this.lastCmdB=c,!0)},reset:function(){for(var b=0;b<this.channels.length;b++)this.channels[b]&&
 this.channels[b].reset();this.lastCmdB=this.lastCmdA=null},cueSplitAtTime:function(b){for(var c=0;c<this.channels.length;c++)this.channels[c]&&this.channels[c].cueSplitAtTime(b)}};b.logger=H;b.PenState=f;b.CaptionScreen=n;b.Cea608Parser=t;b.findCea608Nalus=function(b,c,d){for(var f,e=c,h=[];e<c+d;){if(f=b.getUint32(e),6===(31&b.getUint8(e+4)))for(var g=e+5,k;g<e+4+f-1;){k=0;for(var l=255;255===l;)k+=l=b.getUint8(g),g++;var n=0;for(l=255;255===l;)n+=l=b.getUint8(g),g++;l=b;var p=g;if(4!==k||8>n)l=
 null;else{k=l.getUint8(p);var m=l.getUint16(p+1),q=l.getUint32(p+3);l=l.getUint8(p+7);l=181==k&&49==m&&1195456820==q&&3==l}l&&h.push([g,n]);g+=n}e+=f+4}return h};b.extractCea608DataFromRange=function(b,c){c=c[0];var d=[[],[]];c+=8;var f=31&b.getUint8(c);c+=2;for(var e=0;e<f;e++){var h=b.getUint8(c),g=4&h;h&=3;c++;var l=b.getUint8(c);c++;var k=b.getUint8(c);c++;g&&0!=(127&l)+(127&k)&&(0==h?(d[0].push(l),d[0].push(k)):1==h&&(d[1].push(l),d[1].push(k)))}return d}}(void 0===d?(void 0).cea608parser={}:
 d)},{}],3:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function(b){function c(b){var c=b.localName;return null==c&&(c=b.baseName),null!=c&&""!=c||(c=b.nodeName),c}function d(b){return"string"==typeof b?b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):b}function f(b,c,d,f){for(var e=0;e<b.length;e++){var h=b[e];if("string"==typeof h){if(h==f)break}else if(h instanceof RegExp){if(h.test(f))break}else if("function"==
 typeof h&&h(c,d,f))break}return e!=b.length}function e(c,d,e){switch(b.arrayAccessForm){case "property":c[d]instanceof Array?c[d+"_asArray"]=c[d]:c[d+"_asArray"]=[c[d]]}!(c[d]instanceof Array)&&0<b.arrayAccessFormPaths.length&&f(b.arrayAccessFormPaths,c,d,e)&&(c[d]=[c[d]])}function p(b){var c=b.split(/[-T:+Z]/g),d=new Date(c[0],c[1]-1,c[2]),f=c[5].split(".");(d.setHours(c[3],c[4],f[0]),1<f.length&&d.setMilliseconds(f[1]),c[6]&&c[7])?(c=60*c[6]+Number(c[7]),c=0+("-"==(/\d\d-\d\d:\d\d$/.test(b)?"-":
 "+")?-1*c:c),d.setMinutes(d.getMinutes()-c-d.getTimezoneOffset())):-1!==b.indexOf("Z",b.length-1)&&(d=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds())));return d}function n(d,h){if(d.nodeType==K.DOCUMENT_NODE){for(var g={},l=d.childNodes,k=0;k<l.length;k++)(q=l[k]).nodeType==K.ELEMENT_NODE&&(b.ignoreRoot?g=n(q):(g={})[v=c(q)]=n(q));return g}if(d.nodeType==K.ELEMENT_NODE){(g={}).__cnt=0;var m=[];l=d.childNodes;for(k=0;k<l.length;k++){var q,
 v=c(q=l[k]);if(q.nodeType!=K.COMMENT_NODE){var r=h+"."+v;if(u=g,t=q.nodeType,J=v,N=r,!(t==K.ELEMENT_NODE&&0<b.xmlElementsFilter.length)||f(b.xmlElementsFilter,u,J,N))if(g.__cnt++,null==g[v]){q=n(q,r);if("#text"!=v||/[^\s]/.test(q))(R={})[v]=q,m.push(R);g[v]=q;e(g,v,r)}else{null!=g[v]&&(g[v]instanceof Array||(g[v]=[g[v]],e(g,v,r)));var R;q=n(q,r);if("#text"!=v||/[^\s]/.test(q))(R={})[v]=q,m.push(R);g[v][g[v].length]=q}}}g.__children=m;l=c(d);for(k=0;k<d.attributes.length;k++){m=d.attributes[k];g.__cnt++;
 r=m.value;u=0;for(t=b.matchers.length;u<t;u++)J=b.matchers[u],J.test(m,l)&&(r=J.converter(m.value));g[b.attributePrefix+m.name]=r}d=d.prefix;return null!=d&&""!=d&&(g.__cnt++,g.__prefix=d),null!=g["#text"]&&(g.__text=g["#text"],g.__text instanceof Array&&(g.__text=g.__text.join("\n")),b.stripWhitespaces&&(g.__text=g.__text.trim()),delete g["#text"],"property"==b.arrayAccessForm&&delete g["#text_asArray"],g.__text=function(c,d,e){return 0<b.datetimeAccessFormPaths.length?(e=e.split(".#")[0],f(b.datetimeAccessFormPaths,
 c,d,e)?p(c):c):c}(g.__text,v,h+"."+v)),null!=g["#cdata-section"]&&(g.__cdata=g["#cdata-section"],delete g["#cdata-section"],"property"==b.arrayAccessForm&&delete g["#cdata-section_asArray"]),0==g.__cnt&&"text"==b.emptyNodeForm?g="":1==g.__cnt&&null!=g.__text?g=g.__text:1!=g.__cnt||null==g.__cdata||b.keepCData?1<g.__cnt&&null!=g.__text&&b.skipEmptyTextNodesForObj&&(b.stripWhitespaces&&""==g.__text||""==g.__text.trim())&&delete g.__text:g=g.__cdata,delete g.__cnt,!b.enableToStringFunc||null==g.__text&&
 null==g.__cdata||(g.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),g}if(d.nodeType==K.TEXT_NODE||d.nodeType==K.CDATA_SECTION_NODE)return d.nodeValue;var u,t,J,N}function m(c,f,e,h){f="<"+(null!=c&&null!=c.__prefix?c.__prefix+":":"")+f;if(null!=e)for(var g=0;g<e.length;g++){var l=e[g],k=c[l];b.escapeMode&&(k=d(k));f+=" "+l.substr(b.attributePrefix.length)+"=";b.useDoubleQuotes?f+='"'+k+'"':f+="'"+k+"'"}return f+(h?"/>":">")}function t(b,c){return"</"+
 (null!=b.__prefix?b.__prefix+":":"")+c+">"}function r(c,d){var f;if(f="property"==b.arrayAccessForm)f=d.toString(),f=-1!==f.indexOf("_asArray",f.length-8);return!!(f||0==d.toString().indexOf(b.attributePrefix)||0==d.toString().indexOf("__")||c[d]instanceof Function)}function u(b){var c=0;if(b instanceof Object)for(var d in b)r(b,d)||c++;return c}function q(c){var d=[];if(c instanceof Object)for(var f in c)-1==f.toString().indexOf("__")&&0==f.toString().indexOf(b.attributePrefix)&&d.push(f);return d}
 function v(c){var f="";if(c instanceof Object){var e="";c=(null!=c.__cdata&&(e+="<![CDATA["+c.__cdata+"]]\x3e"),null!=c.__text&&(b.escapeMode?e+=d(c.__text):e+=c.__text),e);f+=c}else null!=c&&(b.escapeMode?f+=d(c):f+=c);return f}function R(c,d){var e,h,g,k="";if(0<u(c))for(var l in c){if((e=!r(c,l))&&!(e=""==d)){e=c;var n=h=l;e=(g=""===d?n:d+"."+n,0==b.jsonPropertiesFilter.length||""==g||f(b.jsonPropertiesFilter,e,h,g))}if(e)if(h=c[l],e=q(h),null==h||null==h)k+=m(h,l,e,!0);else if(h instanceof Object)if(h instanceof
 Array){n=l;var p=d,K="";if(0==h.length)K+=m(h,n,e,!0);else for(e=0;e<h.length;e++)K+=m(h[e],n,q(h[e]),!1),K+=R(h[e],""===p?n:p+"."+n),K+=t(h[e],n);k+=K}else h instanceof Date?(k+=m(h,l,e,!1),k+=h.toISOString(),k+=t(h,l)):0<u(h)||null!=h.__text||null!=h.__cdata?(k+=m(h,l,e,!1),k+=R(h,""===d?l:d+"."+l),k+=t(h,l)):k+=m(h,l,e,!0);else k+=m(h,l,e,!1),k+=v(h),k+=t(h,l)}return k+v(c)}b=b||{};void 0===b.escapeMode&&(b.escapeMode=!0);void 0===b.attributePrefix&&(b.attributePrefix="_");b.arrayAccessForm=b.arrayAccessForm||
 "none";b.emptyNodeForm=b.emptyNodeForm||"text";void 0===b.enableToStringFunc&&(b.enableToStringFunc=!0);b.arrayAccessFormPaths=b.arrayAccessFormPaths||[];void 0===b.skipEmptyTextNodesForObj&&(b.skipEmptyTextNodesForObj=!0);void 0===b.stripWhitespaces&&(b.stripWhitespaces=!0);b.datetimeAccessFormPaths=b.datetimeAccessFormPaths||[];void 0===b.useDoubleQuotes&&(b.useDoubleQuotes=!1);b.xmlElementsFilter=b.xmlElementsFilter||[];b.jsonPropertiesFilter=b.jsonPropertiesFilter||[];void 0===b.keepCData&&(b.keepCData=
 !1);void 0===b.ignoreRoot&&(b.ignoreRoot=!1);var K={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(b){var c;window.ActiveXObject||window;if(void 0===b)return null;if(window.DOMParser){var d=new window.DOMParser;try{0<(c=d.parseFromString(b,"text/xml")).getElementsByTagNameNS("*","parsererror").length&&(c=null)}catch(y){c=null}}else 0==b.indexOf("<?")&&(b=b.substr(b.indexOf("?>")+2)),(c=new ActiveXObject("Microsoft.XMLDOM")).async="false",
 c.loadXML(b);return c};this.asArray=function(b){return void 0===b||null==b?[]:b instanceof Array?b:[b]};this.toXmlDateTime=function(b){return b instanceof Date?b.toISOString():"number"==typeof b?(new Date(b)).toISOString():null};this.asDateTime=function(b){return"string"==typeof b?p(b):b};this.xml2json=function(b){return n(b)};this.xml_str2json=function(b){b=this.parseXmlString(b);return null!=b?this.xml2json(b):null};this.json2xml_str=function(b){return R(b,"")};this.json2xml=function(b){b=this.json2xml_str(b);
 return this.parseXmlString(b)};this.getVersion=function(){return"1.2.0"}};c.exports=d.default},{}],4:[function(b,c,d){(function(c){function f(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(d,"__esModule",{value:!0});var e=f(b(100)),h=f(b(48)),l=f(b(46)),p=b(51);c="undefined"!=typeof window&&window||c;var n=c.tv.freewheel.Dashjs;(n=n||(c.tv.freewheel.Dashjs={})).MediaPlayer=e.default;n.FactoryMaker=h.default;n.Debug=l.default;n.Version=(0,p.getVersionString)();d.default=n;d.MediaPlayer=
 e.default;d.FactoryMaker=h.default;d.Debug=l.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{100:100,46:46,48:48,51:51}],5:[function(b,c,d){function f(b){var c=b.length;if(0<c%4)throw Error("Invalid string. Length must be a multiple of 4");b=b.indexOf("=");return-1===b&&(b=c),[b,b===c?0:4-b%4]}function e(b,c,d){for(var f,e=[],h=c;h<d;h+=3)c=(b[h]<<16&16711680)+(b[h+1]<<8&65280)+(255&b[h+2]),e.push(k[(f=c)>>18&63]+k[f>>12&
 63]+k[f>>6&63]+k[63&f]);return e.join("")}d.byteLength=function(b){b=f(b);var c=b[1];return 3*(b[0]+c)/4-c};d.toByteArray=function(b){var c=f(b),d=c[0];c=c[1];var e=new l(3*(d+c)/4-c),g=0;d=0<c?d-4:d;for(var k=0;k<d;k+=4){var p=h[b.charCodeAt(k)]<<18|h[b.charCodeAt(k+1)]<<12|h[b.charCodeAt(k+2)]<<6|h[b.charCodeAt(k+3)];e[g++]=p>>16&255;e[g++]=p>>8&255;e[g++]=255&p}2===c&&(p=h[b.charCodeAt(k)]<<2|h[b.charCodeAt(k+1)]>>4,e[g++]=255&p);1===c&&(p=h[b.charCodeAt(k)]<<10|h[b.charCodeAt(k+1)]<<4|h[b.charCodeAt(k+
 2)]>>2,e[g++]=p>>8&255,e[g++]=255&p);return e};d.fromByteArray=function(b){for(var c,d=b.length,f=d%3,h=[],g=0,l=d-f;g<l;g+=16383)h.push(e(b,g,l<g+16383?l:g+16383));1==f?(c=b[d-1],h.push(k[c>>2]+k[c<<4&63]+"==")):2==f&&(c=(b[d-2]<<8)+b[d-1],h.push(k[c>>10]+k[c>>4&63]+k[c<<2&63]+"="));return h.join("")};var k=[],h=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array;for(b=0;64>b;++b)k[b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b],h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(b)]=
 b;h[45]=62;h[95]=63},{}],6:[function(b,c,d){},{}],7:[function(b,c,d){function f(b){if(B<b)throw new RangeError('The value "'+b+'" is invalid for option "size"');b=new Uint8Array(b);return b.__proto__=e.prototype,b}function e(b,c,d){if("number"!=typeof b)return k(b,c,d);if("string"==typeof c)throw new TypeError('The "string" argument must be of type string. Received type number');return l(b)}function k(b,c,d){if("string"==typeof b)return function(b,c){"string"==typeof c&&""!==c||(c="utf8");if(!e.isEncoding(c))throw new TypeError("Unknown encoding: "+
 c);var d=0|m(b,c),h=f(d);b=h.write(b,c);b!==d&&(h=h.slice(0,b));return h}(b,c);if(ArrayBuffer.isView(b))return p(b);if(null==b)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(E(b,ArrayBuffer)||b&&E(b.buffer,ArrayBuffer))return function(b,c,d){if(0>c||b.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<c+(d||0))throw new RangeError('"length" is outside of buffer bounds');
 b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d);return b.__proto__=e.prototype,b}(b,c,d);if("number"==typeof b)throw new TypeError('The "value" argument must not be of type number. Received type number');var h=b.valueOf&&b.valueOf();if(null!=h&&h!==b)return e.from(h,c,d);if(h=function(b){if(e.isBuffer(b)){var c=0|n(b.length),d=f(c);return 0===d.length||b.copy(d,0,0,c),d}if(void 0!==b.length)return(c="number"!=typeof b.length)||(c=b.length,c=c!=c),c?
 f(0):p(b);if("Buffer"===b.type&&Array.isArray(b.data))return p(b.data)}(b))return h;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof b[Symbol.toPrimitive])return $jscomp.initSymbol(),e.from(b[Symbol.toPrimitive]("string"),c,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);}function h(b){if("number"!=typeof b)throw new TypeError('"size" argument must be of type number');
 if(0>b)throw new RangeError('The value "'+b+'" is invalid for option "size"');}function l(b){return h(b),f(0>b?0:0|n(b))}function p(b){for(var c=0>b.length?0:0|n(b.length),d=f(c),e=0;e<c;e+=1)d[e]=255&b[e];return d}function n(b){if(B<=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+B.toString(16)+" bytes");return 0|b}function m(b,c){if(e.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||E(b,ArrayBuffer))return b.byteLength;if("string"!=typeof b)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+
 typeof b);var d=b.length,f=2<arguments.length&&!0===arguments[2];if(!f&&0===d)return 0;for(var h=!1;;)switch(c){case "ascii":case "latin1":case "binary":return d;case "utf8":case "utf-8":return y(b).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*d;case "hex":return d>>>1;case "base64":return G(b).length;default:if(h)return f?-1:y(b).length;c=(""+c).toLowerCase();h=!0}}function t(b,c,d){var e=b[c];b[c]=b[d];b[d]=e}function r(b,c,d,f,h){if(0===b.length)return-1;"string"==typeof d?
 (f=d,d=0):2147483647<d?d=2147483647:-2147483648>d&&(d=-2147483648);var g=d=+d;if(g!=g&&(d=h?0:b.length-1),0>d&&(d=b.length+d),d>=b.length){if(h)return-1;d=b.length-1}else if(0>d){if(!h)return-1;d=0}if("string"==typeof c&&(c=e.from(c,f)),e.isBuffer(c))return 0===c.length?-1:u(b,c,d,f,h);if("number"==typeof c)return c&=255,"function"==typeof Uint8Array.prototype.indexOf?h?Uint8Array.prototype.indexOf.call(b,c,d):Uint8Array.prototype.lastIndexOf.call(b,c,d):u(b,[c],d,f,h);throw new TypeError("val must be string, number or Buffer");
 }function u(b,c,d,e,f){function h(b,c){return 1===g?b[c]:b.readUInt16BE(c*g)}var g=1,k=b.length,l=c.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(2>b.length||2>c.length)return-1;k/=g=2;l/=2;d/=2}if(f)for(e=-1;d<k;d++)if(h(b,d)===h(c,-1===e?0:d-e)){if(-1===e&&(e=d),d-e+1===l)return e*g}else-1!==e&&(d-=d-e),e=-1;else for(k<d+l&&(d=k-l);0<=d;d--){k=!0;for(e=0;e<l;e++)if(h(b,d+e)!==h(c,e)){k=!1;break}if(k)return d}return-1}function q(b,c,
 d,e){for(var f=[],h=0;h<c.length;++h)f.push(255&c.charCodeAt(h));return F(f,b,d,e)}function v(b,c,d){d=Math.min(b.length,d);for(var e=[];c<d;){var f,h,g=b[c],k=null,l=239<g?4:223<g?3:191<g?2:1;if(c+l<=d)switch(l){case 1:128>g&&(k=g);break;case 2:128==(192&(f=b[c+1]))&&127<(h=(31&g)<<6|63&f)&&(k=h);break;case 3:f=b[c+1];var n=b[c+2];128==(192&f)&&128==(192&n)&&2047<(h=(15&g)<<12|(63&f)<<6|63&n)&&(55296>h||57343<h)&&(k=h);break;case 4:f=b[c+1];n=b[c+2];var p=b[c+3];128==(192&f)&&128==(192&n)&&128==
 (192&p)&&65535<(h=(15&g)<<18|(63&f)<<12|(63&n)<<6|63&p)&&1114112>h&&(k=h)}null===k?(k=65533,l=1):65535<k&&(k-=65536,e.push(k>>>10&1023|55296),k=56320|1023&k);e.push(k);c+=l}b=e.length;if(b<=w)e=String.fromCharCode.apply(String,e);else{d="";for(f=0;f<b;)d+=String.fromCharCode.apply(String,e.slice(f,f+=w));e=d}return e}function R(b,c,d){if(0!=b%1||0>b)throw new RangeError("offset is not uint");if(d<b+c)throw new RangeError("Trying to access beyond buffer length");}function K(b,c,d,f,h,g){if(!e.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');
 if(h<c||c<g)throw new RangeError('"value" argument is out of bounds');if(d+f>b.length)throw new RangeError("Index out of range");}function H(b,c,d,e){if(d+e>b.length)throw new RangeError("Index out of range");if(0>d)throw new RangeError("Index out of range");}function S(b,c,d,e,f){return c=+c,d>>>=0,f||H(b,0,d,4),z.write(b,c,d,e,23,4),d+4}function L(b,c,d,e,f){return c=+c,d>>>=0,f||H(b,0,d,8),z.write(b,c,d,e,52,8),d+8}function y(b,c){var d;c=c||1/0;for(var e=b.length,f=null,h=[],g=0;g<e;++g){if(55295<
 (d=b.charCodeAt(g))&&57344>d){if(!f){if(56319<d){-1<(c-=3)&&h.push(239,191,189);continue}if(g+1===e){-1<(c-=3)&&h.push(239,191,189);continue}f=d;continue}if(56320>d){-1<(c-=3)&&h.push(239,191,189);f=d;continue}d=65536+(f-55296<<10|d-56320)}else f&&-1<(c-=3)&&h.push(239,191,189);if(f=null,128>d){if(0>--c)break;h.push(d)}else if(2048>d){if(0>(c-=2))break;h.push(d>>6|192,63&d|128)}else if(65536>d){if(0>(c-=3))break;h.push(d>>12|224,d>>6&63|128,63&d|128)}else{if(!(1114112>d))throw Error("Invalid code point");
 if(0>(c-=4))break;h.push(d>>18|240,d>>12&63|128,d>>6&63|128,63&d|128)}}return h}function G(b){return x.toByteArray(function(b){if(2>(b=(b=b.split("=")[0]).trim().replace(C,"")).length)return"";for(;0!=b.length%4;)b+="=";return b}(b))}function F(b,c,d,e){for(var f=0;f<e&&!(f+d>=c.length||f>=b.length);++f)c[f+d]=b[f];return f}function E(b,c){return b instanceof c||null!=b&&null!=b.constructor&&null!=b.constructor.name&&b.constructor.name===c.name}var x=b(5),z=b(11);d.Buffer=e;d.SlowBuffer=function(b){+b!=
 b&&(b=0);return e.alloc(+b)};d.INSPECT_MAX_BYTES=50;var B=2147483647;$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();d.kMaxLength=B;(e.TYPED_ARRAY_SUPPORT=function(){try{var b=new Uint8Array(1);return b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===b.foo()}catch(N){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
 Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}});Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}});"undefined"!=typeof Symbol&&null!=Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});e.poolSize=8192;e.from=function(b,c,d){return k(b,c,d)};e.prototype.__proto__=Uint8Array.prototype;
 e.__proto__=Uint8Array;e.alloc=function(b,c,d){return h(b),0>=b?f(b):void 0!==c?"string"==typeof d?f(b).fill(c,d):f(b).fill(c):f(b)};e.allocUnsafe=function(b){return l(b)};e.allocUnsafeSlow=function(b){return l(b)};e.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==e.prototype};e.compare=function(b,c){if(E(b,Uint8Array)&&(b=e.from(b,b.offset,b.byteLength)),E(c,Uint8Array)&&(c=e.from(c,c.offset,c.byteLength)),!e.isBuffer(b)||!e.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
 if(b===c)return 0;for(var d=b.length,f=c.length,h=0,g=Math.min(d,f);h<g;++h)if(b[h]!==c[h]){d=b[h];f=c[h];break}return d<f?-1:f<d?1:0};e.isEncoding=function(b){switch(String(b).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};e.concat=function(b,c){if(!Array.isArray(b))throw new TypeError('"list" argument must be an Array of Buffers');if(0===b.length)return e.alloc(0);
 var d;if(void 0===c)for(d=c=0;d<b.length;++d)c+=b[d].length;c=e.allocUnsafe(c);var f=0;for(d=0;d<b.length;++d){var h=b[d];if(E(h,Uint8Array)&&(h=e.from(h)),!e.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(c,f);f+=h.length}return c};e.byteLength=m;e.prototype._isBuffer=!0;e.prototype.swap16=function(){var b=this.length;if(0!=b%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<b;c+=2)t(this,c,c+1);return this};e.prototype.swap32=
 function(){var b=this.length;if(0!=b%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<b;c+=4)t(this,c,c+3),t(this,c+1,c+2);return this};e.prototype.swap64=function(){var b=this.length;if(0!=b%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<b;c+=8)t(this,c,c+7),t(this,c+1,c+6),t(this,c+2,c+5),t(this,c+3,c+4);return this};e.prototype.toLocaleString=e.prototype.toString=function(){var b=this.length;return 0===b?"":0===arguments.length?
 v(this,0,b):function(b,c,d){var e=!1;if(((void 0===c||0>c)&&(c=0),c>this.length)||((void 0===d||d>this.length)&&(d=this.length),0>=d)||(d>>>=0)<=(c>>>=0))return"";for(b=b||"utf8";;)switch(b){case "hex":b=c;c=d;d=this.length;(!b||0>b)&&(b=0);(!c||0>c||d<c)&&(c=d);e="";for(d=b;d<c;++d)b=e,e=this[d],e=16>e?"0"+e.toString(16):e.toString(16),e=b+e;return e;case "utf8":case "utf-8":return v(this,c,d);case "ascii":b="";for(d=Math.min(this.length,d);c<d;++c)b+=String.fromCharCode(127&this[c]);return b;case "latin1":case "binary":b=
 "";for(d=Math.min(this.length,d);c<d;++c)b+=String.fromCharCode(this[c]);return b;case "base64":return 0===c&&d===this.length?x.fromByteArray(this):x.fromByteArray(this.slice(c,d));case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=this.slice(c,d);d="";for(b=0;b<c.length;b+=2)d+=String.fromCharCode(c[b]+256*c[b+1]);return d;default:if(e)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase();e=!0}}.apply(this,arguments)};e.prototype.equals=function(b){if(!e.isBuffer(b))throw new TypeError("Argument must be a Buffer");
 return this===b||0===e.compare(this,b)};e.prototype.inspect=function(){var b="",c=d.INSPECT_MAX_BYTES;return b=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(b+=" ... "),"<Buffer "+b+">"};e.prototype.compare=function(b,c,d,f,h){if(E(b,Uint8Array)&&(b=e.from(b,b.offset,b.byteLength)),!e.isBuffer(b))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof b);if(void 0===c&&(c=0),void 0===d&&(d=b?b.length:0),void 0===f&&(f=
 0),void 0===h&&(h=this.length),0>c||d>b.length||0>f||h>this.length)throw new RangeError("out of range index");if(h<=f&&d<=c)return 0;if(h<=f)return-1;if(d<=c)return 1;if(this===b)return 0;var g=(h>>>=0)-(f>>>=0),k=(d>>>=0)-(c>>>=0),l=Math.min(g,k);f=this.slice(f,h);b=b.slice(c,d);for(c=0;c<l;++c)if(f[c]!==b[c]){g=f[c];k=b[c];break}return g<k?-1:k<g?1:0};e.prototype.includes=function(b,c,d){return-1!==this.indexOf(b,c,d)};e.prototype.indexOf=function(b,c,d){return r(this,b,c,d,!0)};e.prototype.lastIndexOf=
 function(b,c,d){return r(this,b,c,d,!1)};e.prototype.write=function(b,c,d,e){if(void 0===c)e="utf8",d=this.length,c=0;else if(void 0===d&&"string"==typeof c)e=c,d=this.length,c=0;else{if(!isFinite(c))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");c>>>=0;isFinite(d)?(d>>>=0,void 0===e&&(e="utf8")):(e=d,d=void 0)}var f=this.length-c;if((void 0===d||f<d)&&(d=f),0<b.length&&(0>d||0>c)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");
 e=e||"utf8";var h,g,k;for(f=!1;;)switch(e){case "hex":c=Number(c)||0;e=this.length-c;d?e<(d=Number(d))&&(d=e):d=e;e=b.length;e/2<d&&(d=e/2);for(e=0;e<d;++e){var l=parseInt(b.substr(2*e,2),16);if(l!=l)break;this[c+e]=l}return e;case "utf8":case "utf-8":return g=c,k=d,F(y(b,this.length-g),this,g,k);case "ascii":return q(this,b,c,d);case "latin1":case "binary":return q(this,b,c,d);case "base64":return l=c,h=d,F(G(b),this,l,h);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=b;l=this.length-
 c;h=[];for(g=0;g<e.length&&!(0>(l-=2));++g)k=e.charCodeAt(g),b=k>>8,k%=256,h.push(k),h.push(b);return F(h,this,c,d);default:if(f)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase();f=!0}};e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;e.prototype.slice=function(b,c){var d=this.length;0>(b=~~b)?0>(b+=d)&&(b=0):d<b&&(b=d);0>(c=void 0===c?d:~~c)?0>(c+=d)&&(c=0):d<c&&(c=d);c<b&&(c=b);b=this.subarray(b,c);return b.__proto__=
 e.prototype,b};e.prototype.readUIntLE=function(b,c,d){b>>>=0;c>>>=0;d||R(b,c,this.length);d=this[b];for(var e=1,f=0;++f<c&&(e*=256);)d+=this[b+f]*e;return d};e.prototype.readUIntBE=function(b,c,d){b>>>=0;c>>>=0;d||R(b,c,this.length);d=this[b+--c];for(var e=1;0<c&&(e*=256);)d+=this[b+--c]*e;return d};e.prototype.readUInt8=function(b,c){return b>>>=0,c||R(b,1,this.length),this[b]};e.prototype.readUInt16LE=function(b,c){return b>>>=0,c||R(b,2,this.length),this[b]|this[b+1]<<8};e.prototype.readUInt16BE=
 function(b,c){return b>>>=0,c||R(b,2,this.length),this[b]<<8|this[b+1]};e.prototype.readUInt32LE=function(b,c){return b>>>=0,c||R(b,4,this.length),(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]};e.prototype.readUInt32BE=function(b,c){return b>>>=0,c||R(b,4,this.length),16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])};e.prototype.readIntLE=function(b,c,d){b>>>=0;c>>>=0;d||R(b,c,this.length);d=this[b];for(var e=1,f=0;++f<c&&(e*=256);)d+=this[b+f]*e;return 128*e<=d&&(d-=Math.pow(2,8*
 c)),d};e.prototype.readIntBE=function(b,c,d){b>>>=0;c>>>=0;d||R(b,c,this.length);d=c;for(var e=1,f=this[b+--d];0<d&&(e*=256);)f+=this[b+--d]*e;return 128*e<=f&&(f-=Math.pow(2,8*c)),f};e.prototype.readInt8=function(b,c){return b>>>=0,c||R(b,1,this.length),128&this[b]?-1*(255-this[b]+1):this[b]};e.prototype.readInt16LE=function(b,c){b>>>=0;c||R(b,2,this.length);b=this[b]|this[b+1]<<8;return 32768&b?4294901760|b:b};e.prototype.readInt16BE=function(b,c){b>>>=0;c||R(b,2,this.length);b=this[b+1]|this[b]<<
 8;return 32768&b?4294901760|b:b};e.prototype.readInt32LE=function(b,c){return b>>>=0,c||R(b,4,this.length),this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24};e.prototype.readInt32BE=function(b,c){return b>>>=0,c||R(b,4,this.length),this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]};e.prototype.readFloatLE=function(b,c){return b>>>=0,c||R(b,4,this.length),z.read(this,b,!0,23,4)};e.prototype.readFloatBE=function(b,c){return b>>>=0,c||R(b,4,this.length),z.read(this,b,!1,23,4)};e.prototype.readDoubleLE=
 function(b,c){return b>>>=0,c||R(b,8,this.length),z.read(this,b,!0,52,8)};e.prototype.readDoubleBE=function(b,c){return b>>>=0,c||R(b,8,this.length),z.read(this,b,!1,52,8)};e.prototype.writeUIntLE=function(b,c,d,e){b=+b;c>>>=0;d>>>=0;e||K(this,b,c,d,Math.pow(2,8*d)-1,0);e=1;var f=0;for(this[c]=255&b;++f<d&&(e*=256);)this[c+f]=b/e&255;return c+d};e.prototype.writeUIntBE=function(b,c,d,e){b=+b;c>>>=0;d>>>=0;e||K(this,b,c,d,Math.pow(2,8*d)-1,0);e=d-1;var f=1;for(this[c+e]=255&b;0<=--e&&(f*=256);)this[c+
 e]=b/f&255;return c+d};e.prototype.writeUInt8=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,1,255,0),this[c]=255&b,c+1};e.prototype.writeUInt16LE=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,2,65535,0),this[c]=255&b,this[c+1]=b>>>8,c+2};e.prototype.writeUInt16BE=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,2,65535,0),this[c]=b>>>8,this[c+1]=255&b,c+2};e.prototype.writeUInt32LE=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,4,4294967295,0),this[c+3]=b>>>24,this[c+2]=b>>>16,this[c+1]=b>>>
 8,this[c]=255&b,c+4};e.prototype.writeUInt32BE=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,4,4294967295,0),this[c]=b>>>24,this[c+1]=b>>>16,this[c+2]=b>>>8,this[c+3]=255&b,c+4};e.prototype.writeIntLE=function(b,c,d,e){(b=+b,c>>>=0,e)||(e=Math.pow(2,8*d-1),K(this,b,c,d,e-1,-e));e=0;var f=1,h=0;for(this[c]=255&b;++e<d&&(f*=256);)0>b&&0===h&&0!==this[c+e-1]&&(h=1),this[c+e]=(b/f>>0)-h&255;return c+d};e.prototype.writeIntBE=function(b,c,d,e){(b=+b,c>>>=0,e)||(e=Math.pow(2,8*d-1),K(this,b,c,d,e-1,
 -e));e=d-1;var f=1,h=0;for(this[c+e]=255&b;0<=--e&&(f*=256);)0>b&&0===h&&0!==this[c+e+1]&&(h=1),this[c+e]=(b/f>>0)-h&255;return c+d};e.prototype.writeInt8=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,1,127,-128),0>b&&(b=255+b+1),this[c]=255&b,c+1};e.prototype.writeInt16LE=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,2,32767,-32768),this[c]=255&b,this[c+1]=b>>>8,c+2};e.prototype.writeInt16BE=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,2,32767,-32768),this[c]=b>>>8,this[c+1]=255&b,c+2};
 e.prototype.writeInt32LE=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,4,2147483647,-2147483648),this[c]=255&b,this[c+1]=b>>>8,this[c+2]=b>>>16,this[c+3]=b>>>24,c+4};e.prototype.writeInt32BE=function(b,c,d){return b=+b,c>>>=0,d||K(this,b,c,4,2147483647,-2147483648),0>b&&(b=4294967295+b+1),this[c]=b>>>24,this[c+1]=b>>>16,this[c+2]=b>>>8,this[c+3]=255&b,c+4};e.prototype.writeFloatLE=function(b,c,d){return S(this,b,c,!0,d)};e.prototype.writeFloatBE=function(b,c,d){return S(this,b,c,!1,d)};e.prototype.writeDoubleLE=
 function(b,c,d){return L(this,b,c,!0,d)};e.prototype.writeDoubleBE=function(b,c,d){return L(this,b,c,!1,d)};e.prototype.copy=function(b,c,d,f){if(!e.isBuffer(b))throw new TypeError("argument should be a Buffer");if((d=d||0,f||0===f||(f=this.length),c>=b.length&&(c=b.length),c=c||0,0<f&&f<d&&(f=d),f===d)||0===b.length||0===this.length)return 0;if(0>c)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("Index out of range");if(0>f)throw new RangeError("sourceEnd out of bounds");
 f>this.length&&(f=this.length);b.length-c<f-d&&(f=b.length-c+d);var h=f-d;if(this===b&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(c,d,f);else if(this===b&&d<c&&c<f)for(f=h-1;0<=f;--f)b[f+c]=this[f+d];else Uint8Array.prototype.set.call(b,this.subarray(d,f),c);return h};e.prototype.fill=function(b,c,d,f){if("string"==typeof b){if("string"==typeof c?(f=c,c=0,d=this.length):"string"==typeof d&&(f=d,d=this.length),void 0!==f&&"string"!=typeof f)throw new TypeError("encoding must be a string");
 if("string"==typeof f&&!e.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(1===b.length){var h=b.charCodeAt(0);("utf8"===f&&128>h||"latin1"===f)&&(b=h)}}else"number"==typeof b&&(b&=255);if(0>c||this.length<c||this.length<d)throw new RangeError("Out of range index");if(d<=c)return this;if(c>>>=0,d=void 0===d?this.length:d>>>0,"number"==typeof(b=b||0))for(f=c;f<d;++f)this[f]=b;else{h=e.isBuffer(b)?b:e.from(b,f);var g=h.length;if(0===g)throw new TypeError('The value "'+b+'" is invalid for argument "value"');
 for(f=0;f<d-c;++f)this[f+c]=h[f%g]}return this};var C=/[^+/0-9A-Za-z-_]/g},{11:11,5:5}],8:[function(b,c,d){var e={parseBuffer:function(b){return(new g(b)).parse()},addBoxProcessor:function(b,c){"string"==typeof b&&"function"==typeof c&&(k.prototype._boxProcessors[b]=c)},createFile:function(){return new g},createBox:function(b,c,d){b=k.create(b);return c&&c.append(b,d),b},createFullBox:function(b,c,d){b=e.createBox(b,c,d);return b.version=0,b.flags=0,b},Utils:{}};e.Utils.dataViewToString=function(b,
 c){var d=c||"utf-8";if("undefined"!=typeof TextDecoder)return(new TextDecoder(d)).decode(b);c=[];var e=0;if("utf-8"===d)for(;e<b.byteLength;)d=b.getUint8(e++),128>d||(224>d?d=(31&d)<<6:(240>d?d=(15&d)<<12:(d=(7&d)<<18,d|=(63&b.getUint8(e++))<<12),d|=(63&b.getUint8(e++))<<6),d|=63&b.getUint8(e++)),c.push(String.fromCharCode(d));else for(;e<b.byteLength;)c.push(String.fromCharCode(b.getUint8(e++)));return c.join("")};e.Utils.utf8ToByteArray=function(b){var c;if("undefined"!=typeof TextEncoder)var d=
 (new TextEncoder).encode(b);else for(d=[],c=0;c<b.length;++c){var e=b.charCodeAt(c);128>e?d.push(e):(2048>e?d.push(192|e>>6):(65536>e?d.push(224|e>>12):(d.push(240|e>>18),d.push(128|63&e>>12)),d.push(128|63&e>>6)),d.push(128|63&e))}return d};e.Utils.appendBox=function(b,c,d){if(c._offset=b._cursor.offset,c._root=b._root?b._root:b,c._raw=b._raw,c._parent=b,-1!==d)if(null!=d){var e=-1;if("number"==typeof d)e=d;else{if("string"!=typeof d){if("object"!=typeof d||!d.type)return void b.boxes.push(c);d=
 d.type}for(var f=0;f<b.boxes.length;f++)if(d===b.boxes[f].type){e=f+1;break}}b.boxes.splice(e,0,c)}else b.boxes.push(c)};void 0!==d&&(d.parseBuffer=e.parseBuffer,d.addBoxProcessor=e.addBoxProcessor,d.createFile=e.createFile,d.createBox=e.createBox,d.createFullBox=e.createFullBox,d.Utils=e.Utils);e.Cursor=function(b){this.offset=void 0===b?0:b};var g=function(b){this._cursor=new e.Cursor;this.boxes=[];b&&(this._raw=new DataView(b))};g.prototype.fetch=function(b){b=this.fetchAll(b,!0);return b.length?
 b[0]:null};g.prototype.fetchAll=function(b,c){var d=[];return g._sweep.call(this,b,d,c),d};g.prototype.parse=function(){this._cursor.offset=0;for(this.boxes=[];this._cursor.offset<this._raw.byteLength;){var b=k.parse(this);if(void 0===b.type)break;this.boxes.push(b)}return this};g._sweep=function(b,c,d){for(var e in this.type&&this.type==b&&c.push(this),this.boxes){if(c.length&&d)break;g._sweep.call(this.boxes[e],b,c,d)}};g.prototype.write=function(){var b,c=0;for(b=0;b<this.boxes.length;b++)c+=this.boxes[b].getLength(!1);
 c=new Uint8Array(c);this._rawo=new DataView(c.buffer);this.bytes=c;for(b=this._cursor.offset=0;b<this.boxes.length;b++)this.boxes[b].write();return c.buffer};g.prototype.append=function(b,c){e.Utils.appendBox(this,b,c)};var k=function(){this._cursor=new e.Cursor};k.parse=function(b){var c=new k;return c._offset=b._cursor.offset,c._root=b._root?b._root:b,c._raw=b._raw,c._parent=b,c._parseBox(),b._cursor.offset=c._raw.byteOffset+c._raw.byteLength,c};k.create=function(b){var c=new k;return c.type=b,
 c.boxes=[],c};k.prototype._boxContainers="dinf edts mdia meco mfra minf moof moov mvex stbl strk traf trak tref udta vttc sinf schi encv enca".split(" ");k.prototype._boxProcessors={};k.prototype._procField=function(b,c,d){this._parsing?this[b]=this._readField(c,d):this._writeField(c,d,this[b])};k.prototype._procFieldArray=function(b,c,d,e){var f;if(this._parsing)for(this[b]=[],f=0;f<c;f++)this[b][f]=this._readField(d,e);else for(f=0;f<this[b].length;f++)this._writeField(d,e,this[b][f])};k.prototype._procFullBox=
 function(){this._procField("version","uint",8);this._procField("flags","uint",24)};k.prototype._procEntries=function(b,c,d){var e;if(this._parsing)for(this[b]=[],e=0;e<c;e++)this[b].push({}),d.call(this,this[b][e]);else for(e=0;e<c;e++)d.call(this,this[b][e])};k.prototype._procSubEntries=function(b,c,d,e){var f;if(this._parsing)for(b[c]=[],f=0;f<d;f++)b[c].push({}),e.call(this,b[c][f]);else for(f=0;f<d;f++)e.call(this,b[c][f])};k.prototype._procEntryField=function(b,c,d,e){this._parsing?b[c]=this._readField(d,
 e):this._writeField(d,e,b[c])};k.prototype._procSubBoxes=function(b,c){var d;if(this._parsing)for(this[b]=[],d=0;d<c;d++)this[b].push(k.parse(this));else for(d=0;d<c;d++)this._rawo?this[b][d].write():this.size+=this[b][d].getLength()};k.prototype._readField=function(b,c){switch(b){case "uint":return this._readUint(c);case "int":return this._readInt(c);case "template":return this._readTemplate(c);case "string":return-1===c?this._readTerminatedString():this._readString(c);case "data":return this._readData(c);
 case "utf8":return this._readUTF8String();default:return-1}};k.prototype._readInt=function(b){var c=null,d=this._cursor.offset-this._raw.byteOffset;switch(b){case 8:c=this._raw.getInt8(d);break;case 16:c=this._raw.getInt16(d);break;case 32:c=this._raw.getInt32(d);break;case 64:c=this._raw.getInt32(d),d=this._raw.getInt32(4+d),c=c*Math.pow(2,32)+d}return this._cursor.offset+=b>>3,c};k.prototype._readUint=function(b){var c=null;var d=this._cursor.offset-this._raw.byteOffset;switch(b){case 8:c=this._raw.getUint8(d);
 break;case 16:c=this._raw.getUint16(d);break;case 24:c=(this._raw.getUint16(d)<<8)+this._raw.getUint8(2+d);break;case 32:c=this._raw.getUint32(d);break;case 64:c=this._raw.getUint32(d),d=this._raw.getUint32(4+d),c=c*Math.pow(2,32)+d}return this._cursor.offset+=b>>3,c};k.prototype._readString=function(b){for(var c="",d=0;d<b;d++){var e=this._readUint(8);c+=String.fromCharCode(e)}return c};k.prototype._readTemplate=function(b){return this._readUint(b/2)+this._readUint(b/2)/Math.pow(2,b/2)};k.prototype._readTerminatedString=
 function(){for(var b="";this._cursor.offset-this._offset<this._raw.byteLength;){var c=this._readUint(8);if(0===c)break;b+=String.fromCharCode(c)}return b};k.prototype._readData=function(b){b=0<b?b:this._raw.byteLength-(this._cursor.offset-this._offset);if(0<b){var c=new Uint8Array(this._raw.buffer,this._cursor.offset,b);return this._cursor.offset+=b,c}return null};k.prototype._readUTF8String=function(){var b=this._raw.byteLength-(this._cursor.offset-this._offset),c=null;return 0<b&&(c=new DataView(this._raw.buffer,
 this._cursor.offset,b),this._cursor.offset+=b),c?e.Utils.dataViewToString(c):c};k.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,
 this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?
 this._parseContainerBox():this._data=this._readData())}};k.prototype._parseFullBox=function(){this.version=this._readUint(8);this.flags=this._readUint(24)};k.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(k.parse(this))};k.prototype.append=function(b,c){e.Utils.appendBox(this,b,c)};k.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type",
 "string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var b=0;b<this.boxes.length;b++)this.size+=this.boxes[b].getLength();return this._data&&this._writeData(this._data),this.size};k.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=
 new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&
 this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var b=0;b<this.boxes.length;b++)this.boxes[b].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size};k.prototype._writeInt=function(b,c){if(this._rawo){var d=this._cursor.offset-this._rawo.byteOffset;switch(b){case 8:this._rawo.setInt8(d,c);break;case 16:this._rawo.setInt16(d,c);break;case 32:this._rawo.setInt32(d,c);break;case 64:var e=Math.floor(c/Math.pow(2,
 32));c-=e*Math.pow(2,32);this._rawo.setUint32(d,e);this._rawo.setUint32(4+d,c)}this._cursor.offset+=b>>3}else this.size+=b>>3};k.prototype._writeUint=function(b,c){if(this._rawo){var d=this._cursor.offset-this._rawo.byteOffset;switch(b){case 8:this._rawo.setUint8(d,c);break;case 16:this._rawo.setUint16(d,c);break;case 24:var e=255&c;this._rawo.setUint16(d,(16776960&c)>>8);this._rawo.setUint8(2+d,e);break;case 32:this._rawo.setUint32(d,c);break;case 64:e=c-(c=Math.floor(c/Math.pow(2,32)))*Math.pow(2,
 32),this._rawo.setUint32(d,c),this._rawo.setUint32(4+d,e)}this._cursor.offset+=b>>3}else this.size+=b>>3};k.prototype._writeString=function(b,c){for(var d=0;d<b;d++)this._writeUint(8,c.charCodeAt(d))};k.prototype._writeTerminatedString=function(b){if(0!==b.length){for(var c=0;c<b.length;c++)this._writeUint(8,b.charCodeAt(c));this._writeUint(8,0)}};k.prototype._writeTemplate=function(b,c){var d=Math.floor(c);c=(c-d)*Math.pow(2,b/2);this._writeUint(b/2,d);this._writeUint(b/2,c)};k.prototype._writeData=
 function(b){if(b)if(this._rawo){if(b instanceof Array){for(var c=this._cursor.offset-this._rawo.byteOffset,d=0;d<b.length;d++)this._rawo.setInt8(c+d,b[d]);this._cursor.offset+=b.length}b instanceof Uint8Array&&(this._root.bytes.set(b,this._cursor.offset),this._cursor.offset+=b.length)}else this.size+=b.length};k.prototype._writeUTF8String=function(b){b=e.Utils.utf8ToByteArray(b);if(this._rawo)for(var c=new DataView(this._rawo.buffer,this._cursor.offset,b.length),d=0;d<b.length;d++)c.setUint8(d,b[d]);
 else this.size+=b.length};k.prototype._writeField=function(b,c,d){switch(b){case "uint":this._writeUint(c,d);break;case "int":this._writeInt(c,d);break;case "template":this._writeTemplate(c,d);break;case "string":-1==c?this._writeTerminatedString(d):this._writeString(c,d);break;case "data":this._writeData(d);break;case "utf8":this._writeUTF8String(d)}};k.prototype._boxProcessors.avc1=k.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8);this._procField("data_reference_index",
 "uint",16);this._procField("pre_defined1","uint",16);this._procField("reserved2","uint",16);this._procFieldArray("pre_defined2",3,"uint",32);this._procField("width","uint",16);this._procField("height","uint",16);this._procField("horizresolution","template",32);this._procField("vertresolution","template",32);this._procField("reserved3","uint",32);this._procField("frame_count","uint",16);this._procFieldArray("compressorname",32,"uint",8);this._procField("depth","uint",16);this._procField("pre_defined3",
 "int",16);this._procField("config","data",-1)};k.prototype._boxProcessors.dref=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procSubBoxes("entries",this.entry_count)};k.prototype._boxProcessors.elst=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procEntries("entries",this.entry_count,function(b){this._procEntryField(b,"segment_duration","uint",1===this.version?64:32);this._procEntryField(b,"media_time","int",1===this.version?64:32);this._procEntryField(b,
 "media_rate_integer","int",16);this._procEntryField(b,"media_rate_fraction","int",16)})};k.prototype._boxProcessors.emsg=function(){this._procFullBox();1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale",
 "uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32));this._procField("message_data","data",-1)};k.prototype._boxProcessors.free=k.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)};k.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)};k.prototype._boxProcessors.ftyp=k.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4);this._procField("minor_version",
 "uint",32);var b=-1;this._parsing&&(b=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4);this._procFieldArray("compatible_brands",b,"string",4)};k.prototype._boxProcessors.hdlr=function(){this._procFullBox();this._procField("pre_defined","uint",32);this._procField("handler_type","string",4);this._procFieldArray("reserved",3,"uint",32);this._procField("name","string",-1)};k.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)};k.prototype._boxProcessors.mdhd=
 function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("timescale","uint",32);this._procField("duration","uint",1==this.version?64:32);this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96);this._procField("language","uint",16);this._parsing&&(this.language=String.fromCharCode(96+
 (this.language>>10&31),96+(this.language>>5&31),96+(31&this.language)));this._procField("pre_defined","uint",16)};k.prototype._boxProcessors.mehd=function(){this._procFullBox();this._procField("fragment_duration","uint",1==this.version?64:32)};k.prototype._boxProcessors.mfhd=function(){this._procFullBox();this._procField("sequence_number","uint",32)};k.prototype._boxProcessors.mfro=function(){this._procFullBox();this._procField("mfra_size","uint",32)};k.prototype._boxProcessors.mp4a=k.prototype._boxProcessors.enca=
 function(){this._procFieldArray("reserved1",6,"uint",8);this._procField("data_reference_index","uint",16);this._procFieldArray("reserved2",2,"uint",32);this._procField("channelcount","uint",16);this._procField("samplesize","uint",16);this._procField("pre_defined","uint",16);this._procField("reserved3","uint",16);this._procField("samplerate","template",32);this._procField("esds","data",-1)};k.prototype._boxProcessors.mvhd=function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?
 64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("timescale","uint",32);this._procField("duration","uint",1==this.version?64:32);this._procField("rate","template",32);this._procField("volume","template",16);this._procField("reserved1","uint",16);this._procFieldArray("reserved2",2,"uint",32);this._procFieldArray("matrix",9,"template",32);this._procFieldArray("pre_defined",6,"uint",32);this._procField("next_track_ID","uint",32)};k.prototype._boxProcessors.payl=
 function(){this._procField("cue_text","utf8")};k.prototype._boxProcessors.pssh=function(){this._procFullBox();this._procFieldArray("SystemID",16,"uint",8);this._procField("DataSize","uint",32);this._procFieldArray("Data",this.DataSize,"uint",8)};k.prototype._boxProcessors.schm=function(){this._procFullBox();this._procField("scheme_type","uint",32);this._procField("scheme_version","uint",32);1&this.flags&&this._procField("scheme_uri","string",-1)};k.prototype._boxProcessors.sdtp=function(){this._procFullBox();
 var b=-1;this._parsing&&(b=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset));this._procFieldArray("sample_dependency_table",b,"uint",8)};k.prototype._boxProcessors.sidx=function(){this._procFullBox();this._procField("reference_ID","uint",32);this._procField("timescale","uint",32);this._procField("earliest_presentation_time","uint",1==this.version?64:32);this._procField("first_offset","uint",1==this.version?64:32);this._procField("reserved","uint",16);this._procField("reference_count",
 "uint",16);this._procEntries("references",this.reference_count,function(b){this._parsing||(b.reference=(1&b.reference_type)<<31,b.reference|=2147483647&b.referenced_size,b.sap=(1&b.starts_with_SAP)<<31,b.sap|=(3&b.SAP_type)<<28,b.sap|=268435455&b.SAP_delta_time);this._procEntryField(b,"reference","uint",32);this._procEntryField(b,"subsegment_duration","uint",32);this._procEntryField(b,"sap","uint",32);this._parsing&&(b.reference_type=b.reference>>31&1,b.referenced_size=2147483647&b.reference,b.starts_with_SAP=
 b.sap>>31&1,b.SAP_type=b.sap>>28&7,b.SAP_delta_time=268435455&b.sap)})};k.prototype._boxProcessors.smhd=function(){this._procFullBox();this._procField("balance","uint",16);this._procField("reserved","uint",16)};k.prototype._boxProcessors.ssix=function(){this._procFullBox();this._procField("subsegment_count","uint",32);this._procEntries("subsegments",this.subsegment_count,function(b){this._procEntryField(b,"ranges_count","uint",32);this._procSubEntries(b,"ranges",b.ranges_count,function(b){this._procEntryField(b,
 "level","uint",8);this._procEntryField(b,"range_size","uint",24)})})};k.prototype._boxProcessors.stsd=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procSubBoxes("entries",this.entry_count)};k.prototype._boxProcessors.subs=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procEntries("entries",this.entry_count,function(b){this._procEntryField(b,"sample_delta","uint",32);this._procEntryField(b,"subsample_count","uint",16);this._procSubEntries(b,
 "subsamples",b.subsample_count,function(b){this._procEntryField(b,"subsample_size","uint",1===this.version?32:16);this._procEntryField(b,"subsample_priority","uint",8);this._procEntryField(b,"discardable","uint",8);this._procEntryField(b,"codec_specific_parameters","uint",32)})})};k.prototype._boxProcessors.tenc=function(){this._procFullBox();this._procField("default_IsEncrypted","uint",24);this._procField("default_IV_size","uint",8);this._procFieldArray("default_KID",16,"uint",8)};k.prototype._boxProcessors.tfdt=
 function(){this._procFullBox();this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)};k.prototype._boxProcessors.tfhd=function(){this._procFullBox();this._procField("track_ID","uint",32);1&this.flags&&this._procField("base_data_offset","uint",64);2&this.flags&&this._procField("sample_description_offset","uint",32);8&this.flags&&this._procField("default_sample_duration","uint",32);16&this.flags&&this._procField("default_sample_size","uint",32);32&this.flags&&this._procField("default_sample_flags",
 "uint",32)};k.prototype._boxProcessors.tfra=function(){this._procFullBox();this._procField("track_ID","uint",32);this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num);this._procField("reserved","uint",32);this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved);
 this._procField("number_of_entry","uint",32);this._procEntries("entries",this.number_of_entry,function(b){this._procEntryField(b,"time","uint",1===this.version?64:32);this._procEntryField(b,"moof_offset","uint",1===this.version?64:32);this._procEntryField(b,"traf_number","uint",8*(this.length_size_of_traf_num+1));this._procEntryField(b,"trun_number","uint",8*(this.length_size_of_trun_num+1));this._procEntryField(b,"sample_number","uint",8*(this.length_size_of_sample_num+1))})};k.prototype._boxProcessors.tkhd=
 function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("track_ID","uint",32);this._procField("reserved1","uint",32);this._procField("duration","uint",1==this.version?64:32);this._procFieldArray("reserved2",2,"uint",32);this._procField("layer","uint",16);this._procField("alternate_group","uint",16);this._procField("volume","template",16);this._procField("reserved3","uint",16);this._procFieldArray("matrix",
 9,"template",32);this._procField("width","template",32);this._procField("height","template",32)};k.prototype._boxProcessors.trex=function(){this._procFullBox();this._procField("track_ID","uint",32);this._procField("default_sample_description_index","uint",32);this._procField("default_sample_duration","uint",32);this._procField("default_sample_size","uint",32);this._procField("default_sample_flags","uint",32)};k.prototype._boxProcessors.trun=function(){this._procFullBox();this._procField("sample_count",
 "uint",32);1&this.flags&&this._procField("data_offset","int",32);4&this.flags&&this._procField("first_sample_flags","uint",32);this._procEntries("samples",this.sample_count,function(b){256&this.flags&&this._procEntryField(b,"sample_duration","uint",32);512&this.flags&&this._procEntryField(b,"sample_size","uint",32);1024&this.flags&&this._procEntryField(b,"sample_flags","uint",32);2048&this.flags&&this._procEntryField(b,"sample_composition_time_offset",1===this.version?"int":"uint",32)})};k.prototype._boxProcessors["url "]=
 k.prototype._boxProcessors["urn "]=function(){this._procFullBox();"urn "===this.type&&this._procField("name","string",-1);this._procField("location","string",-1)};k.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")};k.prototype._boxProcessors.vmhd=function(){this._procFullBox();this._procField("graphicsmode","uint",16);this._procFieldArray("opcolor",3,"uint",16)};k.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")};k.prototype._boxProcessors.vtte=
 function(){}},{}],9:[function(b,c,d){function e(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=m(null),this._eventsCount=0);this._maxListeners=this._maxListeners||void 0}function g(b,c,d,f){var g,h,k;if("function"!=typeof d)throw new TypeError('"listener" argument must be a function');if((h=b._events)?(h.newListener&&(b.emit("newListener",c,d.listener?d.listener:d),h=b._events),k=h[c]):(h=b._events=m(null),b._eventsCount=0),k){if("function"==typeof k?k=h[c]=f?
 [d,k]:[k,d]:f?k.unshift(d):k.push(d),!k.warned&&(g=void 0===b._maxListeners?e.defaultMaxListeners:b._maxListeners)&&0<g&&k.length>g)k.warned=!0,d=Error("Possible EventEmitter memory leak detected. "+k.length+' "'+String(c)+'" listeners added. Use emitter.setMaxListeners() to increase limit.'),d.name="MaxListenersExceededWarning",d.emitter=b,d.type=c,d.count=k.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",d.name,d.message)}else h[c]=d,++b._eventsCount;return b}function k(){if(!this.fired)switch(this.target.removeListener(this.type,
 this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var b=Array(arguments.length),c=0;c<b.length;++c)b[c]=arguments[c];this.listener.apply(this.target,b)}}function h(b,c,d){b={fired:!1,wrapFn:void 0,target:b,type:c,listener:d};c=r.call(k,
 b);return c.listener=d,b.wrapFn=c}function l(b,c,d){b=b._events;if(!b)return[];if(c=b[c])if("function"==typeof c)d=d?[c.listener||c]:[c];else if(d)for(d=Array(c.length),b=0;b<d.length;++b)d[b]=c[b].listener||c[b];else d=n(c,c.length);else d=[];return d}function p(b){var c=this._events;if(c){b=c[b];if("function"==typeof b)return 1;if(b)return b.length}return 0}function n(b,c){for(var d=Array(c),e=0;e<c;++e)d[e]=b[e];return d}var m=Object.create||function(b){function c(){}return c.prototype=b,new c},
 t=Object.keys||function(b){var c=[],d;for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&c.push(d);return d},r=Function.prototype.bind||function(b){var c=this;return function(){return c.apply(b,arguments)}};((c.exports=e).EventEmitter=e).prototype._events=void 0;e.prototype._maxListeners=void 0;var u=10;try{b={};Object.defineProperty&&Object.defineProperty(b,"x",{value:0});var q=0===b.x}catch(v){q=!1}q?Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(b){if("number"!=
 typeof b||0>b||b!=b)throw new TypeError('"defaultMaxListeners" must be a positive number');u=b}}):e.defaultMaxListeners=u;e.prototype.setMaxListeners=function(b){if("number"!=typeof b||0>b||isNaN(b))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=b,this};e.prototype.getMaxListeners=function(){return void 0===this._maxListeners?e.defaultMaxListeners:this._maxListeners};e.prototype.emit=function(b,c,d,e){var f,g,h;var k="error"===b;if(g=this._events)k=k&&null==
 g.error;else if(!k)return!1;if(k){if(1<arguments.length&&(f=c),f instanceof Error)throw f;g=Error('Unhandled "error" event. ('+f+")");throw g.context=f,g;}if(!(f=g[b]))return!1;var l="function"==typeof f;switch(g=arguments.length){case 1:!function(b,c,d){if(c)b.call(d);else{c=b.length;b=n(b,c);for(var e=0;e<c;++e)b[e].call(d)}}(f,l,this);break;case 2:!function(b,c,d,e){if(c)b.call(d,e);else{c=b.length;b=n(b,c);for(var f=0;f<c;++f)b[f].call(d,e)}}(f,l,this,c);break;case 3:!function(b,c,d,e,f){if(c)b.call(d,
 e,f);else{c=b.length;b=n(b,c);for(var g=0;g<c;++g)b[g].call(d,e,f)}}(f,l,this,c,d);break;case 4:!function(b,c,d,e,f,g){if(c)b.call(d,e,f,g);else{c=b.length;b=n(b,c);for(var h=0;h<c;++h)b[h].call(d,e,f,g)}}(f,l,this,c,d,e);break;default:k=Array(g-1);for(h=1;h<g;h++)k[h-1]=arguments[h];!function(b,c,d,e){if(c)b.apply(d,e);else{c=b.length;b=n(b,c);for(var f=0;f<c;++f)b[f].apply(d,e)}}(f,l,this,k)}return!0};e.prototype.on=e.prototype.addListener=function(b,c){return g(this,b,c,!1)};e.prototype.prependListener=
 function(b,c){return g(this,b,c,!0)};e.prototype.once=function(b,c){if("function"!=typeof c)throw new TypeError('"listener" argument must be a function');return this.on(b,h(this,b,c)),this};e.prototype.prependOnceListener=function(b,c){if("function"!=typeof c)throw new TypeError('"listener" argument must be a function');return this.prependListener(b,h(this,b,c)),this};e.prototype.removeListener=function(b,c){var d,e,f;if("function"!=typeof c)throw new TypeError('"listener" argument must be a function');
 if(!(e=this._events)||!(d=e[b]))return this;if(d===c||d.listener===c)0==--this._eventsCount?this._events=m(null):(delete e[b],e.removeListener&&this.emit("removeListener",b,d.listener||c));else if("function"!=typeof d){var g=-1;for(f=d.length-1;0<=f;f--)if(d[f]===c||d[f].listener===c){var h=d[f].listener;g=f;break}if(0>g)return this;if(0===g)d.shift();else{f=g+1;for(var k=d.length;f<k;g+=1,f+=1)d[g]=d[f];d.pop()}1===d.length&&(e[b]=d[0]);e.removeListener&&this.emit("removeListener",b,h||c)}return this};
 e.prototype.removeAllListeners=function(b){var c,d;if(!(d=this._events))return this;if(!d.removeListener)return 0===arguments.length?(this._events=m(null),this._eventsCount=0):d[b]&&(0==--this._eventsCount?this._events=m(null):delete d[b]),this;if(0===arguments.length){var e=t(d);for(d=0;d<e.length;++d)"removeListener"!==(c=e[d])&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=m(null),this._eventsCount=0,this}if("function"==typeof(c=d[b]))this.removeListener(b,
 c);else if(c)for(d=c.length-1;0<=d;d--)this.removeListener(b,c[d]);return this};e.prototype.listeners=function(b){return l(this,b,!0)};e.prototype.rawListeners=function(b){return l(this,b,!1)};e.listenerCount=function(b,c){return"function"==typeof b.listenerCount?b.listenerCount(c):p.call(b,c)};e.prototype.listenerCount=p;e.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],10:[function(b,c,d){var e=Array.isArray,g=Object.keys,k=Object.prototype.hasOwnProperty;
 c.exports=function n(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){var d;var f=e(b);var l=e(c);if(f&&l){if((l=b.length)!=c.length)return!1;for(f=l;0!=f--;)if(!n(b[f],c[f]))return!1;return!0}if(f!=l)return!1;f=b instanceof Date;l=c instanceof Date;if(f!=l)return!1;if(f&&l)return b.getTime()==c.getTime();f=b instanceof RegExp;l=c instanceof RegExp;if(f!=l)return!1;if(f&&l)return b.toString()==c.toString();var p=g(b);if((l=p.length)!==g(c).length)return!1;for(f=l;0!=f--;)if(!k.call(c,
 p[f]))return!1;for(f=l;0!=f--;)if(!n(b[d=p[f]],c[d]))return!1;return!0}return b!=b&&c!=c}},{}],11:[function(b,c,d){d.read=function(b,c,d,e,l){var f=8*l-e-1;var g=(1<<f)-1,h=g>>1,k=-7;l=d?l-1:0;var r=d?-1:1,u=b[c+l];l+=r;d=u&(1<<-k)-1;u>>=-k;for(k+=f;0<k;d=256*d+b[c+l],l+=r,k-=8);f=d&(1<<-k)-1;d>>=-k;for(k+=e;0<k;f=256*f+b[c+l],l+=r,k-=8);if(0===d)d=1-h;else{if(d===g)return f?NaN:1/0*(u?-1:1);f+=Math.pow(2,e);d-=h}return(u?-1:1)*f*Math.pow(2,d-e)};d.write=function(b,c,d,e,l,p){var f,g,h,k=8*p-l-1,
 u=(1<<k)-1,q=u>>1,v=23===l?Math.pow(2,-24)-Math.pow(2,-77):0;p=e?0:p-1;e=e?1:-1;var R=0>c||0===c&&0>1/c?1:0;c=Math.abs(c);for(isNaN(c)||c===1/0?(g=isNaN(c)?1:0,f=u):(f=Math.floor(Math.log(c)/Math.LN2),1>c*(h=Math.pow(2,-f))&&(f--,h*=2),2<=(c+=1<=f+q?v/h:v*Math.pow(2,1-q))*h&&(f++,h/=2),u<=f+q?(g=0,f=u):1<=f+q?(g=(c*h-1)*Math.pow(2,l),f+=q):(g=c*Math.pow(2,q-1)*Math.pow(2,l),f=0));8<=l;b[d+p]=255&g,p+=e,g/=256,l-=8);f=f<<l|g;for(k+=l;0<k;b[d+p]=255&f,p+=e,f/=256,k-=8);b[d+p-e]|=128*R}},{}],12:[function(b,
 c,d){function e(b,c,d,f){var g=f&&"seq"===f.timeContainer,h=0;f&&(h=g&&d?d.end:f.begin);c.begin=c.explicit_begin?c.explicit_begin+h:h;d=c.begin;f=null;for(var k in c.sets)e(b,c.sets[k],f,c),d="seq"===c.timeContainer?c.sets[k].end:Math.max(d,c.sets[k].end),f=c.sets[k];if("contents"in c)for(var l in c.contents)e(b,c.contents[l],f,c),d="seq"===c.timeContainer?c.contents[l].end:Math.max(d,c.contents[l].end),f=c.contents[l];else d=g?c.begin:Number.POSITIVE_INFINITY;null!==c.explicit_end&&null!==c.explicit_dur?
 c.end=Math.min(c.begin+c.explicit_dur,h+c.explicit_end):null===c.explicit_end&&null!==c.explicit_dur?c.end=c.begin+c.explicit_dur:null!==c.explicit_end&&null===c.explicit_dur?c.end=h+c.explicit_end:c.end=d;delete c.explicit_begin;delete c.explicit_dur;delete c.explicit_end;b._registerEvent(c)}function g(b){this.node=b}function k(){this.events=[];this.body=this.head=null}function h(){this.layout=this.styling=null}function l(){this.styles={}}function p(){this.styleRefs=this.styleAttrs=this.id=null}
 function n(){this.regions={}}function m(b){this.id=b}function t(b){this.regionID=b}function r(b){this.styleAttrs=b}function u(b){this.sets=b}function q(b){this.contents=b}function v(b,c,d){this.explicit_begin=b;this.explicit_end=c;this.explicit_dur=d}function R(){this.kind="body"}function K(){this.kind="div"}function H(){this.kind="p"}function S(){this.kind="span"}function L(){this.kind="span"}function y(){this.kind="br"}function G(){}function F(){}function E(b){return b&&"xml:id"in b.attributes&&
 b.attributes["xml:id"].value||null}function x(b){return b&&"style"in b.attributes?b.attributes.style.value.split(" "):[]}function z(b,c){var d={};if(null!==b)for(var e in b.attributes){var f=b.attributes[e].uri+" "+b.attributes[e].local,g=M.byQName[f];if(void 0!==g){var h=g.parse(b.attributes[e].value);null!==h?(d[f]=h,g===M.byName.zIndex&&I(c,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):O(c,"Cannot parse styling attribute "+f+" --\x3e "+b.attributes[e].value)}}return d}
 function B(b,c,d){for(var e in b.attributes)if(b.attributes[e].uri===c&&b.attributes[e].local===d)return b.attributes[e].value;return null}function w(b,c,d){var e,f=null;return null!==(e=/^(\d+(?:\.\d+)?)f$/.exec(d))?null!==c&&(f=parseFloat(e[1])/c):null!==(e=/^(\d+(?:\.\d+)?)t$/.exec(d))?null!==b&&(f=parseFloat(e[1])/b):null!==(e=/^(\d+(?:\.\d+)?)ms$/.exec(d))?f=parseFloat(e[1])/1E3:null!==(e=/^(\d+(?:\.\d+)?)s$/.exec(d))?f=parseFloat(e[1]):null!==(e=/^(\d+(?:\.\d+)?)h$/.exec(d))?f=3600*parseFloat(e[1]):
 null!==(e=/^(\d+(?:\.\d+)?)m$/.exec(d))?f=60*parseFloat(e[1]):null!==(e=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(d))?f=3600*parseInt(e[1])+60*parseInt(e[2])+parseFloat(e[3]):null!==(e=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(d))&&null!==c&&(f=3600*parseInt(e[1])+60*parseInt(e[2])+parseInt(e[3])+(null===e[4]?0:parseInt(e[4])/c)),f}function C(b,c,d){for(;0<c.styleRefs.length;){var e=c.styleRefs.pop();e in b.styles?(C(b,b.styles[e],d),N(b.styles[e].styleAttrs,c.styleAttrs)):O(d,"Non-existant style id referenced")}}
 function J(b,c,d,e){for(var f=c.length-1;0<=f;f--){var g=c[f];g in b.styles?N(b.styles[g].styleAttrs,d):O(e,"Non-existant style id referenced")}}function N(b,c){for(var d in b)d in c||(c[d]=b[d])}function I(b,c){if(b&&b.warn&&b.warn(c))throw c;}function O(b,c){if(b&&b.error&&b.error(c))throw c;}function V(b,c){throw b&&b.fatal&&b.fatal(c),c;}function ea(b,c){for(var d,e=0,f=b.length-1;e<=f;){var g=b[d=Math.floor((e+f)/2)];if(g<c)e=d+1;else{if(!(c<g))return{found:!0,index:d};f=d-1}}return{found:!1,
 index:e}}c=void 0===d?this.imscDoc={}:d;var ca="undefined"==typeof sax?b(40):sax;var Z="undefined"==typeof imscNames?b(16):imscNames;var M="undefined"==typeof imscStyles?b(17):imscStyles;var Q="undefined"==typeof imscUtils?b(18):imscUtils;c.fromXML=function(b,c,d){var f=ca.parser(!0,{xmlns:!0}),m=[],q=[],Q=[],v=0,r=null;f.onclosetag=function(b){if(m[0]instanceof l)for(var e in m[0].styles)C(m[0],m[0].styles[e],c);else if(m[0]instanceof H||m[0]instanceof S){if(1<m[0].contents.length){e=[m[0].contents[0]];
 for(b=1;b<m[0].contents.length;b++)m[0].contents[b]instanceof L&&e[e.length-1]instanceof L?e[e.length-1].text+=m[0].contents[b].text:e.push(m[0].contents[b]);m[0].contents=e}m[0]instanceof S&&1===m[0].contents.length&&m[0].contents[0]instanceof L&&(m[0].text=m[0].contents[0].text,delete m[0].contents)}else m[0]instanceof g&&(m[0].node.uri===Z.ns_tt&&"metadata"===m[0].node.local?v--:0<v&&d&&"onCloseTag"in d&&d.onCloseTag());Q.shift();q.shift();m.shift()};f.ontext=function(b){if(void 0!==m[0])if(m[0]instanceof
 S||m[0]instanceof H){var e=new L;e.initFromText(r,m[0],b,Q[0],c);m[0].contents.push(e)}else m[0]instanceof g&&0<v&&d&&"onText"in d&&d.onText(b)};f.onopentag=function(b){var e=b.attributes["xml:space"];e?Q.unshift(e.value):0===Q.length?Q.unshift("default"):Q.unshift(Q[0]);e=b.attributes["xml:lang"];if(e?q.unshift(e.value):0===q.length?q.unshift(""):q.unshift(q[0]),b.uri===Z.ns_tt)if("tt"===b.local)null!==r&&V(c,"Two <tt> elements at ("+this.line+","+this.column+")"),(r=new k).initFromNode(b,c),m.unshift(r);
 else if("head"===b.local)m[0]instanceof k||V(c,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==r.head&&V("Second <head> element at ("+this.line+","+this.column+")"),r.head=new h,m.unshift(r.head);else if("styling"===b.local)m[0]instanceof h||V(c,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==r.head.styling&&V("Second <styling> element at ("+this.line+","+this.column+")"),r.head.styling=new l,m.unshift(r.head.styling);else if("style"===
 b.local){var f;m[0]instanceof l?((f=new p).initFromNode(b,c),f.id?r.head.styling.styles[f.id]=f:O(c,"<style> element missing @id attribute"),m.unshift(f)):m[0]instanceof G?((f=new p).initFromNode(b,c),N(f.styleAttrs,m[0].styleAttrs),m.unshift(f)):V(c,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else"layout"===b.local?(m[0]instanceof h||V(c,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==r.head.layout&&V(c,"Second <layout> element at "+
 this.line+","+this.column+")"),r.head.layout=new n,m.unshift(r.head.layout)):"region"===b.local?(m[0]instanceof n||V(c,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),f=new G,f.initFromNode(r,b,c),!f.id||f.id in r.head.layout.regions?O(c,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):r.head.layout.regions[f.id]=f,m.unshift(f)):"body"===b.local?(m[0]instanceof k||V(c,"Parent of <body> element is not <tt> at "+this.line+","+this.column+
 ")"),null!==r.body&&V(c,"Second <body> element at "+this.line+","+this.column+")"),f=new R,f.initFromNode(r,b,c),r.body=f,m.unshift(f)):"div"===b.local?(m[0]instanceof K||m[0]instanceof R||V(c,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")"),f=new K,f.initFromNode(r,m[0],b,c),m[0].contents.push(f),m.unshift(f)):"p"===b.local?(m[0]instanceof K||V(c,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),f=new H,f.initFromNode(r,m[0],b,c),m[0].contents.push(f),
 m.unshift(f)):"span"===b.local?(m[0]instanceof S||m[0]instanceof H||V(c,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),f=new S,f.initFromNode(r,m[0],b,Q[0],c),m[0].contents.push(f),m.unshift(f)):"br"===b.local?(m[0]instanceof S||m[0]instanceof H||V(c,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),f=new y,f.initFromNode(r,m[0],b,c),m[0].contents.push(f),m.unshift(f)):"set"===b.local?(m[0]instanceof S||m[0]instanceof H||m[0]instanceof
 K||m[0]instanceof R||m[0]instanceof G||m[0]instanceof y||V(c,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),f=new F,f.initFromNode(r,m[0],b,c),m[0].sets.push(f),m.unshift(f)):m.unshift(new g(b));else m.unshift(new g(b));if(m[0]instanceof g)if(b.uri===Z.ns_tt&&"metadata"===b.local)v++;else if(0<v&&d&&"onOpenTag"in d){f=[];for(var da in b.attributes)f[b.attributes[da].uri+" "+b.attributes[da].local]={uri:b.attributes[da].uri,local:b.attributes[da].local,
 value:b.attributes[da].value};d.onOpenTag(b.uri,b.local,f)}};f.write(b).close();null!==r.head?delete r.head.styling:r.head=new h;null===r.head.layout&&(r.head.layout=new n);b=!1;for(var da in r.head.layout.regions){b=!0;break}b||(da=G.prototype.createDefaultRegion(),r.head.layout.regions[da.id]=da);for(var u in r.head.layout.regions)e(r,r.head.layout.regions[u],null,null);return r.body&&e(r,r.body,null,null),r};k.prototype.initFromNode=function(b,c){this.cellResolution=function(b,c){var d=B(b,Z.ns_ttp,
 "cellResolution");b=15;var e=32;null!==d&&(d=/(\d+) (\d+)/.exec(d),null!==d?(e=parseInt(d[1]),b=parseInt(d[2])):I(c,"Malformed cellResolution value (using initial value instead)"));return{w:e,h:b}}(b,c);var d=function(b,c){var d,e=B(b,Z.ns_ttp,"frameRate"),f=30;null!==e&&(null!==(d=/(\d+)/.exec(e))?f=parseInt(d[1]):I(c,"Malformed frame rate attribute (using initial value instead)"));var g=B(b,Z.ns_ttp,"frameRateMultiplier"),h=1;null!==g&&(null!==(d=/(\d+) (\d+)/.exec(g))?h=parseInt(d[1])/parseInt(d[2]):
 I(c,"Malformed frame rate multiplier attribute (using initial value instead)"));f*=h;g=1;b=B(b,Z.ns_ttp,"tickRate");return null===b?null!==e&&(g=f):null!==(d=/(\d+)/.exec(b))?g=parseInt(d[1]):I(c,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:f,tickRate:g}}(b,c);this.effectiveFrameRate=d.effectiveFrameRate;this.tickRate=d.tickRate;this.aspectRatio=function(b,c){var d=B(b,Z.ns_ittp,"aspectRatio");b=null;if(null!==d){var e=/(\d+) (\d+)/.exec(d);null!==e?(d=parseInt(e[1]),
 e=parseInt(e[2]),0!==d&&0!==e?b=d/e:O(c,"Illegal aspectRatio values (ignoring)")):O(c,"Malformed aspectRatio attribute (ignoring)")}return b}(b,c);d=B(b,Z.ns_ttp,"timeBase");null!==d&&"media"!==d&&V(c,"Unsupported time base");b=function(b,c){b=B(b,Z.ns_tts,"extent");if(null===b)return null;var d=b.split(" ");if(2!==d.length)return I(c,"Malformed extent (ignoring)"),null;b=Q.parseLength(d[0]);return(d=Q.parseLength(d[1]))&&b?{h:d,w:b}:(I(c,"Malformed extent values (ignoring)"),null)}(b,c);null===b?
 this.pxDimensions={h:480,w:640}:("px"===b.h.unit&&"px"===b.w.unit||V(c,"Extent on TT must be in px or absent"),this.pxDimensions={h:b.h.value,w:b.w.value})};k.prototype._registerEvent=function(b){if(!(b.end<=b.begin)){var c=ea(this.events,b.begin);if(c.found||this.events.splice(c.index,0,b.begin),b.end!==Number.POSITIVE_INFINITY)c=ea(this.events,b.end),c.found||this.events.splice(c.index,0,b.end)}};k.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]};
 k.prototype.getMediaTimeEvents=function(){return this.events};p.prototype.initFromNode=function(b,c){this.id=E(b);this.styleAttrs=z(b,c);this.styleRefs=x(b)};m.prototype.initFromNode=function(b,c,d,e){this.id=E(d)};t.prototype.initFromNode=function(b,c,d,e){this.regionID=d&&"region"in d.attributes?d.attributes.region.value:""};r.prototype.initFromNode=function(b,c,d,e){this.styleAttrs=z(d,e);null!==b.head&&null!==b.head.styling&&J(b.head.styling,x(d),this.styleAttrs,e)};u.prototype.initFromNode=function(b,
 c,d,e){this.sets=[]};q.prototype.initFromNode=function(b,c,d,e){this.contents=[]};v.prototype.initFromNode=function(b,c,d,e){b=function(b,c,d,e){c=null;d&&"begin"in d.attributes&&null===(c=w(b.tickRate,b.effectiveFrameRate,d.attributes.begin.value))&&I(e,"Malformed begin value "+d.attributes.begin.value+" (using 0)");var f=null;d&&"dur"in d.attributes&&null===(f=w(b.tickRate,b.effectiveFrameRate,d.attributes.dur.value))&&I(e,"Malformed dur value "+d.attributes.dur.value+" (ignoring)");var g=null;
 return d&&"end"in d.attributes&&null===(g=w(b.tickRate,b.effectiveFrameRate,d.attributes.end.value))&&I(e,"Malformed end value (ignoring)"),{explicit_begin:c,explicit_end:g,explicit_dur:f}}(b,0,d,e);this.explicit_begin=b.explicit_begin;this.explicit_end=b.explicit_end;this.explicit_dur=b.explicit_dur;this.timeContainer=function(b,c){return(b=b&&"timeContainer"in b.attributes?b.attributes.timeContainer.value:null)&&"par"!==b?"seq"===b?"seq":(O(c,"Illegal value of timeContainer (assuming 'par')"),"par"):
 "par"}(d,e)};R.prototype.initFromNode=function(b,c,d){r.prototype.initFromNode.call(this,b,null,c,d);v.prototype.initFromNode.call(this,b,null,c,d);u.prototype.initFromNode.call(this,b,null,c,d);t.prototype.initFromNode.call(this,b,null,c,d);q.prototype.initFromNode.call(this,b,null,c,d)};K.prototype.initFromNode=function(b,c,d,e){r.prototype.initFromNode.call(this,b,c,d,e);v.prototype.initFromNode.call(this,b,c,d,e);u.prototype.initFromNode.call(this,b,c,d,e);t.prototype.initFromNode.call(this,b,
 c,d,e);q.prototype.initFromNode.call(this,b,c,d,e)};H.prototype.initFromNode=function(b,c,d,e){r.prototype.initFromNode.call(this,b,c,d,e);v.prototype.initFromNode.call(this,b,c,d,e);u.prototype.initFromNode.call(this,b,c,d,e);t.prototype.initFromNode.call(this,b,c,d,e);q.prototype.initFromNode.call(this,b,c,d,e)};S.prototype.initFromNode=function(b,c,d,e,f){r.prototype.initFromNode.call(this,b,c,d,f);v.prototype.initFromNode.call(this,b,c,d,f);u.prototype.initFromNode.call(this,b,c,d,f);t.prototype.initFromNode.call(this,
 b,c,d,f);q.prototype.initFromNode.call(this,b,c,d,f);this.space=e};L.prototype.initFromText=function(b,c,d,e,f){v.prototype.initFromNode.call(this,b,c,null,f);this.text=d;this.space=e};y.prototype.initFromNode=function(b,c,d,e){t.prototype.initFromNode.call(this,b,c,d,e);v.prototype.initFromNode.call(this,b,c,d,e)};G.prototype.createDefaultRegion=function(){var b=new G;b.id="";b.styleAttrs={};b.sets=[];return v.call(b,0,Number.POSITIVE_INFINITY,null),b};G.prototype.initFromNode=function(b,c,d){m.prototype.initFromNode.call(this,
 b,null,c,d);r.prototype.initFromNode.call(this,b,null,c,d);v.prototype.initFromNode.call(this,b,null,c,d);u.prototype.initFromNode.call(this,b,null,c,d);null!==b.head&&null!==b.head.styling&&J(b.head.styling,x(c),this.styleAttrs,d)};F.prototype.initFromNode=function(b,c,d,e){v.prototype.initFromNode.call(this,b,c,d,e);b=z(d,e);for(var f in this.qname=null,this.value=null,b){if(this.qname){O(e,"More than one style specified on set");break}this.qname=f;this.value=b[f]}}},{16:16,17:17,18:18,40:40}],
 13:[function(b,c,d){!function(b,c,d){function e(b,c,h){var l;if("region"===h.kind?(l=document.createElement("div")).style.position="absolute":"body"===h.kind?l=document.createElement("div"):"div"===h.kind?l=document.createElement("div"):"p"===h.kind?l=document.createElement("p"):"span"===h.kind?l=document.createElement("span"):"br"===h.kind&&(l=document.createElement("br")),l){for(var n in l.style.margin="0",t){var m=t[n],q=h.styleAttrs[m.qname];void 0!==q&&null!==m.map&&m.map(b,l,h,q)}n=l;"region"===
 h.kind&&(m=h.styleAttrs[d.byName.writingMode.qname],"lrtb"===m||"lr"===m?(b.ipd="lr",b.bpd="tb"):"rltb"===m||"rl"===m?(b.ipd="rl",b.bpd="tb"):"tblr"===m?(b.ipd="tb",b.bpd="lr"):"tbrl"!==m&&"tb"!==m||(b.ipd="tb",b.bpd="rl"));(m=h.styleAttrs[d.byName.linePadding.qname])&&0<m&&(q=Math.ceil(m*b.h)+"px","tb"===b.bpd?(n.style.paddingLeft=q,n.style.paddingRight=q):(n.style.paddingTop=q,n.style.paddingBottom=q),b.lp=m);(m=h.styleAttrs[d.byName.multiRowAlign.qname])&&"auto"!==m&&(n=document.createElement("span"),
 n.style.display="inline-block",n.style.textAlign=m,l.appendChild(n),b.mra=m);if(h.styleAttrs[d.byName.fillLineGap.qname]&&(b.flg=!0),"span"===h.kind&&h.text)if(b.lp||b.mra||b.flg)for(m="",q=0;q<h.text.length;q++){m+=h.text.charAt(q);var p=h.text.charCodeAt(q);if(55296>p||56319<p||q===h.text.length)p=document.createElement("span"),p.textContent=m,l.appendChild(p),m=""}else l.textContent=h.text;for(var r in c.appendChild(l),h.contents)e(b,n,h.contents[r]);c=[];(b.lp||b.mra||b.flg)&&"p"===h.kind&&(k(b,
 n,c,null),b.mra&&(function(b){for(var c=0;c<b.length-1;c++){var d=b[c].elements.length;if(0!==d&&!1===b[c].br){var e=document.createElement("br");d=b[c].elements[d-1].node;d.parentElement.insertBefore(e,d.nextSibling)}}}(c),b.mra=null),b.lp&&(function(b,c,d){for(var e in b){var f=b[e].elements[b[e].start_elem],h=b[e].elements[b[e].end_elem],g=Math.ceil(c)+"px",k="-"+Math.ceil(c)+"px";0!==b[e].elements.length&&("lr"===d.ipd?(f.node.style.borderLeftColor=f.bgcolor||"#00000000",f.node.style.borderLeftStyle=
 "solid",f.node.style.borderLeftWidth=g,f.node.style.marginLeft=k):"rl"===d.ipd?(f.node.style.borderRightColor=f.bgcolor||"#00000000",f.node.style.borderRightStyle="solid",f.node.style.borderRightWidth=g,f.node.style.marginRight=k):"tb"===d.ipd&&(f.node.style.borderTopColor=f.bgcolor||"#00000000",f.node.style.borderTopStyle="solid",f.node.style.borderTopWidth=g,f.node.style.marginTop=k),"lr"===d.ipd?(h.node.style.borderRightColor=h.bgcolor||"#00000000",h.node.style.borderRightStyle="solid",h.node.style.borderRightWidth=
 g,h.node.style.marginRight=k):"rl"===d.ipd?(h.node.style.borderLeftColor=h.bgcolor||"#00000000",h.node.style.borderLeftStyle="solid",h.node.style.borderLeftWidth=g,h.node.style.marginLeft=k):"tb"===d.ipd&&(h.node.style.borderBottomColor=h.bgcolor||"#00000000",h.node.style.borderBottomStyle="solid",h.node.style.borderBottomWidth=g,h.node.style.marginBottom=k))}}(c,b.lp*b.h,b),b.lp=null),b.flg)&&(r=g(n.getBoundingClientRect(),b),!function(b,c,d,e){for(var f=Math.sign(d-c),h=0;h<=b.length;h++){var g,
 k,l;if(g=0===h?c:h===b.length?d:(b[h].before+b[h-1].after)/2,0<h)for(var n=0;n<b[h-1].elements.length;n++)null!==b[h-1].elements[n].bgcolor&&(l=b[h-1].elements[n],0>f*(l.after-g)&&(k=Math.ceil(Math.abs(g-l.after))+"px",l.node.style.backgroundColor=l.bgcolor,"lr"===e.bpd?l.node.style.paddingRight=k:"rl"===e.bpd?l.node.style.paddingLeft=k:"tb"===e.bpd&&(l.node.style.paddingBottom=k)));if(h<b.length)for(n=0;n<b[h].elements.length;n++)null!==(l=b[h].elements[n]).bgcolor&&0<f*(l.before-g)&&(k=Math.ceil(Math.abs(l.before-
 g))+"px",l.node.style.backgroundColor=l.bgcolor,"lr"===e.bpd?l.node.style.paddingLeft=k:"rl"===e.bpd?l.node.style.paddingRight=k:"tb"===e.bpd&&(l.node.style.paddingTop=k))}}(c,r.before,r.after,b),b.flg=null);"region"===h.kind&&(k(b,n,c),"tb"===b.bpd&&b.enableRollUp&&0<h.contents.length&&"after"===h.styleAttrs[d.byName.displayAlign.qname])&&(h=new f(""===h.id?"_":h.id,c),b.currentISDState[h.id]=h,b.previousISDState&&h.id in b.previousISDState&&0<b.previousISDState[h.id].plist.length&&1<h.plist.length&&
 h.plist[h.plist.length-2].text===b.previousISDState[h.id].plist[b.previousISDState[h.id].plist.length-1].text)&&(b=l.firstElementChild,l=h.plist[h.plist.length-1].after-h.plist[h.plist.length-1].before,b.style.bottom="-"+l+"px",b.style.transition="transform 0.4s",b.style.position="relative",b.style.transform="translateY(-"+l+"px)")}else!function(b,c){if(b&&b.error&&b.error(c))throw c;}(b.errorHandler,"Error processing ISD element kind: "+h.kind)}function f(b,c){this.id=b;this.plist=c}function g(b,
 c){var d={before:null,after:null,start:null,end:null};return"tb"===c.bpd?(d.before=b.top,d.after=b.bottom,"lr"===c.ipd?(d.start=b.left,d.end=b.right):(d.start=b.right,d.end=b.left)):"lr"===c.bpd?(d.before=b.left,d.after=b.right,d.start=b.top,d.end=b.bottom):"rl"===c.bpd&&(d.before=b.right,d.after=b.left,d.start=b.top,d.end=b.bottom),d}function k(b,c,d,e){e=c.style.backgroundColor||e;if(0===c.childElementCount)if("span"===c.localName){var f=c.getBoundingClientRect();if(0!==f.height&&0!==f.width){b=
 g(f,b);if(f=0!==d.length){f=b.before;var h=b.after,l=d[d.length-1].before,n=d[d.length-1].after;f=h<n&&l<f||n<=h&&f<=l}f?(f=Math.sign(b.after-b.before),h=Math.sign(b.end-b.start),0>f*(b.before-d[d.length-1].before)&&(d[d.length-1].before=b.before),0<f*(b.after-d[d.length-1].after)&&(d[d.length-1].after=b.after),0>h*(b.start-d[d.length-1].start)&&(d[d.length-1].start=b.start,d[d.length-1].start_elem=d[d.length-1].elements.length),0<h*(b.end-d[d.length-1].end)&&(d[d.length-1].end=b.end,d[d.length-1].end_elem=
 d[d.length-1].elements.length)):d.push({before:b.before,after:b.after,start:b.start,end:b.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1});d[d.length-1].text+=c.textContent;d[d.length-1].elements.push({node:c,bgcolor:e,before:b.before,after:b.after})}}else"br"===c.localName&&0!==d.length&&(d[d.length-1].br=!0);else for(c=c.firstChild;c;)c.nodeType===Node.ELEMENT_NODE&&k(b,c,d,e),c=c.nextSibling}function m(b,c){this.qname=b;this.map=c}b.render=function(b,c,d,f,h,g,k,l,n){f=f||c.clientHeight;
 h=h||c.clientWidth;if(null!==b.aspectRatio){var m=f*b.aspectRatio;h<m?f=Math.round(h/b.aspectRatio):h=m}m=document.createElement("div");m.style.position="relative";m.style.width=h+"px";m.style.height=f+"px";m.style.margin="auto";m.style.top=0;m.style.bottom=0;m.style.left=0;m.style.right=0;m.style.zIndex=0;d={h:f,w:h,regionH:null,regionW:null,imgResolver:d,displayForcedOnlyMode:g||!1,isd:b,errorHandler:k,previousISDState:l,enableRollUp:n||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null};
 for(var q in c.appendChild(m),b.contents)e(d,m,b.contents[q]);return d.currentISDState};var t=[new m("http://www.w3.org/ns/ttml#styling backgroundColor",function(b,c,d,e){0!==e[3]&&(c.style.backgroundColor="rgba("+e[0].toString()+","+e[1].toString()+","+e[2].toString()+","+(e[3]/255).toString()+")")}),new m("http://www.w3.org/ns/ttml#styling color",function(b,c,d,e){c.style.color="rgba("+e[0].toString()+","+e[1].toString()+","+e[2].toString()+","+(e[3]/255).toString()+")"}),new m("http://www.w3.org/ns/ttml#styling direction",
 function(b,c,d,e){c.style.direction=e}),new m("http://www.w3.org/ns/ttml#styling display",function(b,c,d,e){}),new m("http://www.w3.org/ns/ttml#styling displayAlign",function(b,c,d,e){c.style.display="flex";c.style.flexDirection="column";"before"===e?c.style.justifyContent="flex-start":"center"===e?c.style.justifyContent="center":"after"===e&&(c.style.justifyContent="flex-end")}),new m("http://www.w3.org/ns/ttml#styling extent",function(b,c,d,e){b.regionH=e.h*b.h;b.regionW=e.w*b.w;var f=e=0;(d=d.styleAttrs["http://www.w3.org/ns/ttml#styling padding"])&&
 (e=(d[0]+d[2])*b.h,f=(d[1]+d[3])*b.w);c.style.height=b.regionH-e+"px";c.style.width=b.regionW-f+"px"}),new m("http://www.w3.org/ns/ttml#styling fontFamily",function(b,c,d,e){b=[];for(var f in e)"monospaceSerif"===e[f]?(b.push("Courier New"),b.push('"Liberation Mono"'),b.push("Courier"),b.push("monospace")):"proportionalSansSerif"===e[f]?(b.push("Arial"),b.push("Helvetica"),b.push('"Liberation Sans"'),b.push("sans-serif")):"monospace"===e[f]?b.push("monospace"):"sansSerif"===e[f]?b.push("sans-serif"):
 "serif"===e[f]?b.push("serif"):"monospaceSansSerif"===e[f]?(b.push("Consolas"),b.push("monospace")):"proportionalSerif"===e[f]?b.push("serif"):b.push(e[f]);c.style.fontFamily=b.join(",")}),new m("http://www.w3.org/ns/ttml#styling fontSize",function(b,c,d,e){c.style.fontSize=e*b.h+"px"}),new m("http://www.w3.org/ns/ttml#styling fontStyle",function(b,c,d,e){c.style.fontStyle=e}),new m("http://www.w3.org/ns/ttml#styling fontWeight",function(b,c,d,e){c.style.fontWeight=e}),new m("http://www.w3.org/ns/ttml#styling lineHeight",
 function(b,c,d,e){c.style.lineHeight="normal"===e?"normal":e*b.h+"px"}),new m("http://www.w3.org/ns/ttml#styling opacity",function(b,c,d,e){c.style.opacity=e}),new m("http://www.w3.org/ns/ttml#styling origin",function(b,c,d,e){c.style.top=e.h*b.h+"px";c.style.left=e.w*b.w+"px"}),new m("http://www.w3.org/ns/ttml#styling overflow",function(b,c,d,e){c.style.overflow=e}),new m("http://www.w3.org/ns/ttml#styling padding",function(b,c,d,e){d=[];d[0]=e[0]*b.h+"px";d[1]=e[3]*b.w+"px";d[2]=e[2]*b.h+"px";d[3]=
 e[1]*b.w+"px";c.style.padding=d.join(" ")}),new m("http://www.w3.org/ns/ttml#styling showBackground",null),new m("http://www.w3.org/ns/ttml#styling textAlign",function(b,c,e,f){b=e.styleAttrs[d.byName.direction.qname];c.style.textAlign="start"===f?"rtl"===b?"right":"left":"end"===f?"rtl"===b?"left":"right":f}),new m("http://www.w3.org/ns/ttml#styling textDecoration",function(b,c,d,e){c.style.textDecoration=e.join(" ").replace("lineThrough","line-through")}),new m("http://www.w3.org/ns/ttml#styling textOutline",
 function(b,c,d,e){c.style.textShadow="none"===e?"":"rgba("+e.color[0].toString()+","+e.color[1].toString()+","+e.color[2].toString()+","+(e.color[3]/255).toString()+") 0px 0px "+e.thickness*b.h+"px"}),new m("http://www.w3.org/ns/ttml#styling unicodeBidi",function(b,c,d,e){c.style.unicodeBidi="bidiOverride"===e?"bidi-override":e}),new m("http://www.w3.org/ns/ttml#styling visibility",function(b,c,d,e){c.style.visibility=e}),new m("http://www.w3.org/ns/ttml#styling wrapOption",function(b,c,d,e){"wrap"===
 e?"preserve"===d.space?c.style.whiteSpace="pre-wrap":c.style.whiteSpace="normal":"preserve"===d.space?c.style.whiteSpace="pre":c.style.whiteSpace="noWrap"}),new m("http://www.w3.org/ns/ttml#styling writingMode",function(b,c,d,e){"lrtb"===e||"lr"===e?c.style.writingMode="horizontal-tb":"rltb"===e||"rl"===e?c.style.writingMode="horizontal-tb":"tblr"===e?c.style.writingMode="vertical-lr":"tbrl"!==e&&"tb"!==e||(c.style.writingMode="vertical-rl")}),new m("http://www.w3.org/ns/ttml#styling zIndex",function(b,
 c,d,e){c.style.zIndex=e}),new m("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(b,c,d,e){null!==b.imgResolver&&null!==e&&(d=document.createElement("img"),(e=b.imgResolver(e,d))&&(d.src=e),d.height=b.regionH,d.width=b.regionW,c.appendChild(d))}),new m("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(b,c,d,e){b.displayForcedOnlyMode&&!1===e&&(c.style.visibility="hidden")})],r;for(r in t);}(void 0===d?this.imscHTML={}:d,"undefined"==typeof imscNames?
 b(16):imscNames,"undefined"==typeof imscStyles?b(17):imscStyles)},{16:16,17:17}],14:[function(b,c,d){function e(b,c,d,f,g,u,q,v,R){if(c<q.begin||c>=q.end)return null;u="regionID"in q&&""!==q.regionID?q.regionID:u;if(null!==g&&u!==d.id&&(!("contents"in q)||"contents"in q&&0===q.contents.length||""!==u))return null;var n=new k(q);for(p in q.sets)c<q.sets[p].begin||c>=q.sets[p].end||(n.styleAttrs[q.sets[p].qname]=q.sets[p].value);var m;var p={};for(var r in n.styleAttrs)if(p[r]=!0,r===l.byName.writingMode.qname&&
 !(l.byName.direction.qname in n.styleAttrs)){var t=n.styleAttrs[r];"lrtb"===t||"lr"===t?n.styleAttrs[l.byName.direction.qname]="ltr":"rltb"!==t&&"rl"!==t||(n.styleAttrs[l.byName.direction.qname]="rtl")}if(null!==g)for(var G in l.all)if(r=l.all[G],r.qname===l.byName.textDecoration.qname){t=g.styleAttrs[r.qname];var F=n.styleAttrs[r.qname],E=[];void 0===F?E=t:-1===F.indexOf("none")?((-1===F.indexOf("noUnderline")&&-1!==t.indexOf("underline")||-1!==F.indexOf("underline"))&&E.push("underline"),(-1===
 F.indexOf("noLineThrough")&&-1!==t.indexOf("lineThrough")||-1!==F.indexOf("lineThrough"))&&E.push("lineThrough"),(-1===F.indexOf("noOverline")&&-1!==t.indexOf("overline")||-1!==F.indexOf("overline"))&&E.push("overline")):E.push("none");n.styleAttrs[r.qname]=E}else r.inherit&&r.qname in g.styleAttrs&&!(r.qname in n.styleAttrs)&&(n.styleAttrs[r.qname]=g.styleAttrs[r.qname]);for(var x in l.all)G=l.all[x],G.qname in n.styleAttrs||("region"===n.kind||!1===G.inherit&&null!==G.initial)&&(n.styleAttrs[G.qname]=
 G.parse(G.initial),p[G.qname]=!0);for(var z in l.all)x=l.all[z],x.qname in p&&null!==x.compute&&(G=x.compute(b,g,n,n.styleAttrs[x.qname],R),null!==G?n.styleAttrs[x.qname]=G:h(v,"Style '"+x.qname+"' on element '"+n.kind+"' cannot be computed"));if("none"===n.styleAttrs[l.byName.display.qname])return null;for(var B in null===g?m=null===f?[]:[f]:"contents"in q&&(m=q.contents),m)g=e(b,c,d,f,n,u,m[B],v,R),null!==g&&n.contents.push(g.element);for(var w in n.styleAttrs)-1===l.byQName[w].applies.indexOf(n.kind)&&
 delete n.styleAttrs[w];"span"===n.kind&&n.text&&"default"===n.space&&(b=n.text.replace(/\s+/g," "),n.text=b);if("p"===n.kind){b=[];!function I(b,c){if("contents"in b)for(var d in b.contents)I(b.contents[d],c);else c.push(b)}(n,b);c=0;d="after_br";for(f=0;;)if("after_br"===d)c>=b.length||"br"===b[c].kind?(d="before_br",f=c,c--):("preserve"!==b[c].space&&(b[c].text=b[c].text.replace(/^\s+/g,"")),0<b[c].text.length?(d="looking_br",c++):b.splice(c,1));else if("before_br"===d)if(0>c||"br"===b[c].kind){if(d=
 "after_br",(c=f+1)>=b.length)break}else if("preserve"!==b[c].space&&(b[c].text=b[c].text.replace(/\s+$/g,"")),0<b[c].text.length){if(d="after_br",(c=f+1)>=b.length)break}else b.splice(c,1),c--;else c>=b.length||"br"===b[c].kind?(d="before_br",f=c,c--):c++;!function I(b){if("br"===b.kind)return!1;if("text"in b)return 0===b.text.length;if("contents"in b){for(var c=b.contents.length;c--;)I(b.contents[c])&&b.contents.splice(c,1);return 0===b.contents.length}}(n)}return"div"===n.kind&&l.byName.backgroundImage.qname in
 n.styleAttrs||"br"===n.kind||"contents"in n&&0<n.contents.length||"span"===n.kind&&null!==n.text||"region"===n.kind&&"always"===n.styleAttrs[l.byName.showBackground.qname]?{region_id:u,element:n}:null}function g(b){this.contents=[];this.aspectRatio=b.aspectRatio}function k(b){for(var c in this.kind=b.kind||"region",b.id&&(this.id=b.id),this.styleAttrs={},b.styleAttrs)this.styleAttrs[c]=b.styleAttrs[c];"text"in b?this.text=b.text:"br"!==b.kind&&(this.contents=[]);"space"in b&&(this.space=b.space)}
 function h(b,c){if(b&&b.error&&b.error(c))throw c;}c=void 0===d?this.imscISD={}:d;"undefined"==typeof imscNames?b(16):imscNames;var l="undefined"==typeof imscStyles?b(17):imscStyles;c.generateISD=function(b,c,d){var f=new g(b),h={},k;for(k in b.head.layout.regions){var l=e(b,c,b.head.layout.regions[k],b.body,null,"",b.head.layout.regions[k],d,h);null!==l&&f.contents.push(l.element)}return f}},{16:16,17:17}],15:[function(b,c,d){d.generateISD=b(14).generateISD;d.fromXML=b(12).fromXML;d.renderHTML=b(13).render},
 {12:12,13:13,14:14}],16:[function(b,c,d){(b=void 0===d?this.imscNames={}:d).ns_tt="http://www.w3.org/ns/ttml";b.ns_tts="http://www.w3.org/ns/ttml#styling";b.ns_ttp="http://www.w3.org/ns/ttml#parameter";b.ns_xml="http://www.w3.org/XML/1998/namespace";b.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling";b.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter";b.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt";b.ns_ebutts="urn:ebu:tt:style"},{}],17:[function(b,c,d){!function(b,
 c,d){function e(b,c,d,e,f,h,g,k){this.name=c;this.ns=b;this.qname=b+" "+c;this.inherit=f;this.animatable=h;this.initial=d;this.applies=e;this.parse=g;this.compute=k}for(var f in b.all=[new e(c.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,d.parseColor,null),new e(c.ns_tts,"color","white",["span"],!0,!0,d.parseColor,null),new e(c.ns_tts,"direction","ltr",["p","span"],!0,!0,function(b){return b},null),new e(c.ns_tts,"display","auto",["body","div","p","region","span"],
 !1,!0,function(b){return b},null),new e(c.ns_tts,"displayAlign","before",["region"],!1,!0,function(b){return b},null),new e(c.ns_tts,"extent","auto",["tt","region"],!1,!0,function(b){if("auto"===b)return b;var c=b.split(" ");if(2!==c.length)return null;b=d.parseLength(c[0]);return(c=d.parseLength(c[1]))&&b?{h:c,w:b}:null},function(b,c,d,e,f){if("auto"===e)c=1;else if("%"===e.h.unit)c=e.h.value/100;else{if("px"!==e.h.unit)return null;c=e.h.value/b.pxDimensions.h}if("auto"===e)b=1;else if("%"===e.w.unit)b=
 e.w.value/100;else{if("px"!==e.w.unit)return null;b=e.w.value/b.pxDimensions.w}return{h:c,w:b}}),new e(c.ns_tts,"fontFamily","default",["span"],!0,!0,function(b){b=b.split(",");var c=[],d;for(d in b)"'"!==b[d].charAt(0)&&'"'!==b[d].charAt(0)&&"default"===b[d]?c.push("monospaceSerif"):c.push(b[d]);return c},null),new e(c.ns_tts,"fontSize","1c",["span"],!0,!0,d.parseLength,function(c,d,e,f,h){if("%"===f.unit)c=null!==d?d.styleAttrs[b.byName.fontSize.qname]*f.value/100:f.value/100/c.cellResolution.h;
 else if("em"===f.unit)c=null!==d?d.styleAttrs[b.byName.fontSize.qname]*f.value:f.value/c.cellResolution.h;else if("c"===f.unit)c=f.value/c.cellResolution.h;else{if("px"!==f.unit)return null;c=f.value/c.pxDimensions.h}return c}),new e(c.ns_tts,"fontStyle","normal",["span"],!0,!0,function(b){return b},null),new e(c.ns_tts,"fontWeight","normal",["span"],!0,!0,function(b){return b},null),new e(c.ns_tts,"lineHeight","normal",["p"],!0,!0,function(b){return"normal"===b?b:d.parseLength(b)},function(c,d,e,
 f,h){if("normal"===f)c=f;else if("%"===f.unit)c=e.styleAttrs[b.byName.fontSize.qname]*f.value/100;else if("em"===f.unit)c=e.styleAttrs[b.byName.fontSize.qname]*f.value;else if("c"===f.unit)c=f.value/c.cellResolution.h;else{if("px"!==f.unit)return null;c=f.value/c.pxDimensions.h}return c}),new e(c.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new e(c.ns_tts,"origin","auto",["region"],!1,!0,function(b){if("auto"===b)return b;var c=b.split(" ");if(2!==c.length)return null;b=d.parseLength(c[0]);
 return(c=d.parseLength(c[1]))&&b?{h:c,w:b}:null},function(b,c,d,e,f){if("auto"===e)c=0;else if("%"===e.h.unit)c=e.h.value/100;else{if("px"!==e.h.unit)return null;c=e.h.value/b.pxDimensions.h}if("auto"===e)b=0;else if("%"===e.w.unit)b=e.w.value/100;else{if("px"!==e.w.unit)return null;b=e.w.value/b.pxDimensions.w}return{h:c,w:b}}),new e(c.ns_tts,"overflow","hidden",["region"],!1,!0,function(b){return b},null),new e(c.ns_tts,"padding","0px",["region"],!1,!0,function(b){b=b.split(" ");if(4<b.length)return null;
 var c=[],e;for(e in b){var f=d.parseLength(b[e]);if(!f)return null;c.push(f)}return c},function(c,d,e,f,h){if(1===f.length)d=[f[0],f[0],f[0],f[0]];else if(2===f.length)d=[f[0],f[1],f[0],f[1]];else if(3===f.length)d=[f[0],f[1],f[2],f[1]];else{if(4!==f.length)return null;d=[f[0],f[1],f[2],f[3]]}f=e.styleAttrs[b.byName.writingMode.qname];if("lrtb"===f||"lr"===f)d=[d[0],d[3],d[2],d[1]];else if("rltb"===f||"rl"===f)d=[d[0],d[1],d[2],d[3]];else if("tblr"===f)d=[d[3],d[0],d[1],d[2]];else{if("tbrl"!==f&&
 "tb"!==f)return null;d=[d[3],d[2],d[1],d[0]]}f=[];for(var g in d)if(0===d[g].value)f[g]=0;else if("%"===d[g].unit)f[g]="0"===g||"2"===g?e.styleAttrs[b.byName.extent.qname].h*d[g].value/100:e.styleAttrs[b.byName.extent.qname].w*d[g].value/100;else if("em"===d[g].unit)f[g]=e.styleAttrs[b.byName.fontSize.qname]*d[g].value;else if("c"===d[g].unit)f[g]=d[g].value/c.cellResolution.h;else{if("px"!==d[g].unit)return null;f[g]="0"===g||"2"===g?d[g].value/c.pxDimensions.h:d[g].value/c.pxDimensions.w}return f}),
 new e(c.ns_tts,"showBackground","always",["region"],!1,!0,function(b){return b},null),new e(c.ns_tts,"textAlign","start",["p"],!0,!0,function(b){return b},function(b,c,d,e,f){return"left"===e?"start":"right"===e?"end":e}),new e(c.ns_tts,"textDecoration","none",["span"],!0,!0,function(b){return b.split(" ")},null),new e(c.ns_tts,"textOutline","none",["span"],!0,!0,function(b){if("none"===b)return b;var c={};b=b.split(" ");if(0===b.length||2<b.length)return null;var e=d.parseColor(b[0]);return(null!==
 (c.color=e)&&b.shift(),1!==b.length)?null:(b=d.parseLength(b[0]))?(c.thickness=b,c):null},function(c,d,e,f,h){if("none"===f)return f;d={};if(null===f.color?d.color=e.styleAttrs[b.byName.color.qname]:d.color=f.color,"%"===f.thickness.unit)d.thickness=e.styleAttrs[b.byName.fontSize.qname]*f.thickness.value/100;else if("em"===f.thickness.unit)d.thickness=e.styleAttrs[b.byName.fontSize.qname]*f.thickness.value;else if("c"===f.thickness.unit)d.thickness=f.thickness.value/c.cellResolution.h;else{if("px"!==
 f.thickness.unit)return null;d.thickness=f.thickness.value/c.pxDimensions.h}return d}),new e(c.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(b){return b},null),new e(c.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(b){return b},null),new e(c.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(b){return b},null),new e(c.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(b){return b},null),new e(c.ns_tts,"zIndex","auto",["region"],!1,!0,function(b){var c;
 return"auto"===b?c=b:(c=parseInt(b),isNaN(c)&&(c=null)),c},null),new e(c.ns_ebutts,"linePadding","0c",["p"],!0,!1,d.parseLength,function(b,c,d,e,f){return"c"===e.unit?e.value/b.cellResolution.h:null}),new e(c.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(b){return b},null),new e(c.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(b){return b},null),new e(c.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(b){return"true"===b},null),new e(c.ns_itts,"fillLineGap",
 "false",["p"],!0,!0,function(b){return"true"===b},null)],b.byQName={},b.all)b.byQName[b.all[f].qname]=b.all[f];for(var g in b.byName={},b.all)b.byName[b.all[g].name]=b.all[g]}(void 0===d?this.imscStyles={}:d,"undefined"==typeof imscNames?b(16):imscNames,"undefined"==typeof imscUtils?b(18):imscUtils)},{16:16,18:18}],18:[function(b,c,d){!function(b){var c=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,d=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,e=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,
 f={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};b.parseColor=function(b){var h,g=null,k=f[b.toLowerCase()];return void 0!==k?g=k:null!==(h=
 c.exec(b))?g=[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16),void 0!==h[4]?parseInt(h[4],16):255]:null!==(h=d.exec(b))?g=[parseInt(h[1]),parseInt(h[2]),parseInt(h[3]),255]:null!==(h=e.exec(b))&&(g=[parseInt(h[1]),parseInt(h[2]),parseInt(h[3]),parseInt(h[4])]),g};var p=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;b.parseLength=function(b){var c,d=null;return null!==(c=p.exec(b))&&(d={value:parseFloat(c[1]),unit:c[2]}),d}}(void 0===d?this.imscUtils={}:d)},{}],19:[function(b,c,d){function e(b){return!!b.constructor&&
 "function"==typeof b.constructor.isBuffer&&b.constructor.isBuffer(b)}c.exports=function(b){return null!=b&&(e(b)||"function"==typeof b.readFloatLE&&"function"==typeof b.slice&&e(b.slice(0,0))||!!b._isBuffer)}},{}],20:[function(b,c,d){var e={}.toString;c.exports=Array.isArray||function(b){return"[object Array]"==e.call(b)}},{}],21:[function(b,c,d){(function(b){!b.version||0===b.version.indexOf("v0.")||0===b.version.indexOf("v1.")&&0!==b.version.indexOf("v1.8.")?c.exports={nextTick:function(c,d,e,f){if("function"!=
 typeof c)throw new TypeError('"callback" argument must be a function');var h=arguments.length;switch(h){case 0:case 1:return b.nextTick(c);case 2:return b.nextTick(function(){c.call(null,d)});case 3:return b.nextTick(function(){c.call(null,d,e)});case 4:return b.nextTick(function(){c.call(null,d,e,f)});default:var g=Array(h-1);for(h=0;h<g.length;)g[h++]=arguments[h];return b.nextTick(function(){c.apply(null,g)})}}}:c.exports=b}).call(this,b(22))},{22:22}],22:[function(b,c,d){function e(){throw Error("setTimeout has not been defined");
 }function g(){throw Error("clearTimeout has not been defined");}function k(b){if(m===setTimeout)return setTimeout(b,0);if((m===e||!m)&&setTimeout)return m=setTimeout,setTimeout(b,0);try{return m(b,0)}catch(K){try{return m.call(null,b,0)}catch(H){return m.call(this,b,0)}}}function h(){q&&r&&(q=!1,r.length?u=r.concat(u):v=-1,u.length&&l())}function l(){if(!q){var b=k(h);q=!0;for(var c=u.length;c;){r=u;for(u=[];++v<c;)r&&r[v].run();v=-1;c=u.length}r=null;q=!1;(function(b){if(t===clearTimeout)return clearTimeout(b);
 if((t===g||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(b);try{t(b)}catch(S){try{return t.call(null,b)}catch(L){return t.call(this,b)}}})(b)}}function p(b,c){this.fun=b;this.array=c}function n(){}b=c.exports={};try{var m="function"==typeof setTimeout?setTimeout:e}catch(R){m=e}try{var t="function"==typeof clearTimeout?clearTimeout:g}catch(R){t=g}!0;var r,u=[],q=!1,v=-1;b.nextTick=function(b){var c=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)c[d-1]=arguments[d];
 u.push(new p(b,c));1!==u.length||q||k(l)};p.prototype.run=function(){this.fun.apply(null,this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=n;b.addListener=n;b.once=n;b.off=n;b.removeListener=n;b.removeAllListeners=n;b.emit=n;b.prependListener=n;b.prependOnceListener=n;b.listeners=function(b){return[]};b.binding=function(b){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(b){throw Error("process.chdir is not supported");
 };b.umask=function(){return 0}},{}],23:[function(b,c,d){c.exports=b(24)},{24:24}],24:[function(b,c,d){function e(b){if(!(this instanceof e))return new e(b);l.call(this,b);p.call(this,b);b&&!1===b.readable&&(this.readable=!1);b&&!1===b.writable&&(this.writable=!1);this.allowHalfOpen=!0;b&&!1===b.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||h.nextTick(k,this)}function k(b){b.end()}var h=b(21);d=Object.keys||function(b){var c=[],
 d;for(d in b)c.push(d);return c};c.exports=e;c=b(32);c.inherits=b(33);var l=b(26),p=b(28);c.inherits(e,l);b=d(p.prototype);for(c=0;c<b.length;c++)d=b[c],e.prototype[d]||(e.prototype[d]=p.prototype[d]);Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(e.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},
 set:function(b){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}});e.prototype._destroy=function(b,c){this.push(null);this.end();h.nextTick(c,b)}},{21:21,26:26,28:28,32:32,33:33}],25:[function(b,c,d){function e(b){if(!(this instanceof e))return new e(b);g.call(this,b)}c.exports=e;var g=b(27);c=b(32);c.inherits=b(33);c.inherits(e,g);e.prototype._transform=function(b,c,d){d(null,b)}},{27:27,32:32,33:33}],26:[function(b,c,
 d){(function(d,e){function f(c,d){c=c||{};d=d instanceof(G=G||b(24));this.objectMode=!!c.objectMode;d&&(this.objectMode=this.objectMode||!!c.readableObjectMode);var e=c.highWaterMark,f=c.readableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:d&&(f||0===f)?f:h;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new J;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.destroyed=this.resumeScheduled=
 this.readableListening=this.emittedReadable=this.needReadable=!1;this.defaultEncoding=c.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;c.encoding&&(C=C||b(34).StringDecoder,this.decoder=new C(c.encoding),this.encoding=c.encoding)}function h(c){if(G=G||b(24),!(this instanceof h))return new h(c);this._readableState=new f(c,this);this.readable=!0;c&&("function"==typeof c.read&&(this._read=c.read),"function"==typeof c.destroy&&(this._destroy=c.destroy));
 E.call(this)}function g(b,c,d,e,f){var h,g=b._readableState;null===c?(g.reading=!1,function(b,c){if(!c.ended){if(c.decoder){var d=c.decoder.end();d&&d.length&&(c.buffer.push(d),c.length+=c.objectMode?1:d.length)}c.ended=!0;m(b)}}(b,g)):(f||(h=function(b,c){var d;x.isBuffer(c)||c instanceof z||"string"==typeof c||void 0===c||b.objectMode||(d=new TypeError("Invalid non-string/buffer chunk"));return d}(g,c)),h?b.emit("error",h):g.objectMode||c&&0<c.length?("string"==typeof c||g.objectMode||Object.getPrototypeOf(c)===
 x.prototype||(c=x.from(c)),e?g.endEmitted?b.emit("error",Error("stream.unshift() after end event")):p(b,g,c,!0):g.ended?b.emit("error",Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!d?(c=g.decoder.write(c),g.objectMode||0!==c.length?p(b,g,c,!1):r(b,g)):p(b,g,c,!1))):e||(g.reading=!1));return!g.ended&&(g.needReadable||g.length<g.highWaterMark||0===g.length)}function p(b,c,d,e){c.flowing&&0===c.length&&!c.sync?(b.emit("data",d),b.read(0)):(c.length+=c.objectMode?1:d.length,e?c.buffer.unshift(d):
 c.buffer.push(d),c.needReadable&&m(b));r(b,c)}function n(b,c){if(0>=b||0===c.length&&c.ended)b=0;else if(c.objectMode)b=1;else if(b!=b)b=c.flowing&&c.length?c.buffer.head.data.length:c.length;else{if(b>c.highWaterMark){var d=b;var e=(8388608<=d?d=8388608:(d--,d|=d>>>1,d|=d>>>2,d|=d>>>4,d|=d>>>8,d|=d>>>16,d++),d);c.highWaterMark=e}b=b<=c.length?b:c.ended?c.length:(c.needReadable=!0,0)}return b}function m(b){var c=b._readableState;c.needReadable=!1;c.emittedReadable||(w("emitReadable",c.flowing),c.emittedReadable=
 !0,c.sync?y.nextTick(t,b):t(b))}function t(b){w("emit readable");b.emit("readable");R(b)}function r(b,c){c.readingMore||(c.readingMore=!0,y.nextTick(u,b,c))}function u(b,c){for(var d=c.length;!c.reading&&!c.flowing&&!c.ended&&c.length<c.highWaterMark&&(w("maybeReadMore read 0"),b.read(0),d!==c.length);)d=c.length;c.readingMore=!1}function q(b){w("readable nexttick read 0");b.read(0)}function v(b,c){c.reading||(w("resume read 0"),b.read(0));c.resumeScheduled=!1;c.awaitDrain=0;b.emit("resume");R(b);
 c.flowing&&!c.reading&&b.read(0)}function R(b){var c=b._readableState;for(w("flow",c.flowing);c.flowing&&null!==b.read(););}function K(b,c){return 0===c.length?null:(c.objectMode?d=c.buffer.shift():!b||b>=c.length?(d=c.decoder?c.buffer.join(""):1===c.buffer.length?c.buffer.head.data:c.buffer.concat(c.length),c.buffer.clear()):d=function(b,c,d){var e;b<c.head.data.length?(e=c.head.data.slice(0,b),c.head.data=c.head.data.slice(b)):e=b===c.head.data.length?c.shift():d?function(b,c){var d=c.head,e=1,
 f=d.data;for(b-=f.length;d=d.next;){var h=d.data,g=b>h.length?h.length:b;if(g===h.length?f+=h:f+=h.slice(0,b),0===(b-=g)){g===h.length?(++e,d.next?c.head=d.next:c.head=c.tail=null):(c.head=d).data=h.slice(g);break}++e}return c.length-=e,f}(b,c):function(b,c){var d=x.allocUnsafe(b),e=c.head,f=1;e.data.copy(d);for(b-=e.data.length;e=e.next;){var h=e.data,g=b>h.length?h.length:b;if(h.copy(d,d.length-b,0,g),0===(b-=g)){g===h.length?(++f,e.next?c.head=e.next:c.head=c.tail=null):(c.head=e).data=h.slice(g);
 break}++f}return c.length-=f,d}(b,c);return e}(b,c.buffer,c.decoder),d);var d}function H(b){var c=b._readableState;if(0<c.length)throw Error('"endReadable()" called on non-empty stream');c.endEmitted||(c.ended=!0,y.nextTick(S,c,b))}function S(b,c){b.endEmitted||0!==b.length||(b.endEmitted=!0,c.readable=!1,c.emit("end"))}function L(b,c){for(var d=0,e=b.length;d<e;d++)if(b[d]===c)return d;return-1}var y=b(21);c.exports=h;var G,F=b(20);h.ReadableState=f;b(9).EventEmitter;var E=b(31),x=b(39).Buffer,z=
 e.Uint8Array||function(){};e=b(32);e.inherits=b(33);var B=b(6),w=void 0;w=B&&B.debuglog?B.debuglog("stream"):function(){};var C,J=b(29);B=b(30);e.inherits(h,E);var N=["error","close","destroy","pause","resume"];Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(b){this._readableState&&(this._readableState.destroyed=b)}});h.prototype.destroy=B.destroy;h.prototype._undestroy=B.undestroy;h.prototype._destroy=
 function(b,c){this.push(null);c(b)};h.prototype.push=function(b,c){var d,e=this._readableState;return e.objectMode?d=!0:"string"==typeof b&&((c=c||e.defaultEncoding)!==e.encoding&&(b=x.from(b,c),c=""),d=!0),g(this,b,c,!1,d)};h.prototype.unshift=function(b){return g(this,b,null,!0,!1)};h.prototype.isPaused=function(){return!1===this._readableState.flowing};h.prototype.setEncoding=function(c){return C=C||b(34).StringDecoder,this._readableState.decoder=new C(c),this._readableState.encoding=c,this};h.prototype.read=
 function(b){w("read",b);b=parseInt(b,10);var c=this._readableState,d=b;if(0!==b&&(c.emittedReadable=!1),0===b&&c.needReadable&&(c.length>=c.highWaterMark||c.ended))return w("read: emitReadable",c.length,c.ended),0===c.length&&c.ended?H(this):m(this),null;if(0===(b=n(b,c))&&c.ended)return 0===c.length&&H(this),null;var e,f=c.needReadable;return w("need readable",f),(0===c.length||c.length-b<c.highWaterMark)&&w("length less than watermark",f=!0),c.ended||c.reading?w("reading or ended",!1):f&&(w("do read"),
 c.reading=!0,c.sync=!0,0===c.length&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1,c.reading||(b=n(d,c))),null===(e=0<b?K(b,c):null)?(c.needReadable=!0,b=0):c.length-=b,0===c.length&&(c.ended||(c.needReadable=!0),d!==b&&c.ended&&H(this)),null!==e&&this.emit("data",e),e};h.prototype._read=function(b){this.emit("error",Error("_read() is not implemented"))};h.prototype.pipe=function(b,c){function e(c,d){w("onunpipe");c===m&&d&&!1===d.hasUnpiped&&(d.hasUnpiped=!0,w("cleanup"),b.removeListener("close",
 k),b.removeListener("finish",l),b.removeListener("drain",q),b.removeListener("error",g),b.removeListener("unpipe",e),m.removeListener("end",f),m.removeListener("end",n),m.removeListener("data",h),r=!0,!p.awaitDrain||b._writableState&&!b._writableState.needDrain||q())}function f(){w("onend");b.end()}function h(c){w("ondata");(v=!1)!==b.write(c)||v||((1===p.pipesCount&&p.pipes===b||1<p.pipesCount&&-1!==L(p.pipes,b))&&!r&&(w("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,
 v=!0),m.pause())}function g(c){w("onerror",c);n();b.removeListener("error",g);0===b.listeners("error").length&&b.emit("error",c)}function k(){b.removeListener("finish",l);n()}function l(){w("onfinish");b.removeListener("close",k);n()}function n(){w("unpipe");m.unpipe(b)}var m=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=b;break;case 1:p.pipes=[p.pipes,b];break;default:p.pipes.push(b)}p.pipesCount+=1;w("pipe count=%d opts=%j",p.pipesCount,c);c=c&&!1===c.end||b===d.stdout||b===d.stderr?
 n:f;p.endEmitted?y.nextTick(c):m.once("end",c);b.on("unpipe",e);var q=function(b){return function(){var c=b._readableState;w("pipeOnDrain",c.awaitDrain);c.awaitDrain&&c.awaitDrain--;0===c.awaitDrain&&b.listeners("data").length&&(c.flowing=!0,R(b))}}(m);b.on("drain",q);var r=!1,v=!1;return m.on("data",h),function(b,c,d){if("function"==typeof b.prependListener)return b.prependListener(c,d);b._events&&b._events[c]?F(b._events[c])?b._events[c].unshift(d):b._events[c]=[d,b._events[c]]:b.on(c,d)}(b,"error",
 g),b.once("close",k),b.once("finish",l),b.emit("pipe",m),p.flowing||(w("pipe resume"),m.resume()),b};h.prototype.unpipe=function(b){var c=this._readableState,d={hasUnpiped:!1};if(0===c.pipesCount)return this;if(1===c.pipesCount)return b&&b!==c.pipes||(b=b||c.pipes,c.pipes=null,c.pipesCount=0,c.flowing=!1,b&&b.emit("unpipe",this,d)),this;if(!b){b=c.pipes;var e=c.pipesCount;c.pipes=null;c.pipesCount=0;c.flowing=!1;for(c=0;c<e;c++)b[c].emit("unpipe",this,d);return this}e=L(c.pipes,b);return-1===e||(c.pipes.splice(e,
 1),--c.pipesCount,1===c.pipesCount&&(c.pipes=c.pipes[0]),b.emit("unpipe",this,d)),this};h.prototype.addListener=h.prototype.on=function(b,c){c=E.prototype.on.call(this,b,c);"data"===b?!1!==this._readableState.flowing&&this.resume():"readable"===b&&(b=this._readableState,b.endEmitted||b.readableListening||(b.readableListening=b.needReadable=!0,b.emittedReadable=!1,b.reading?b.length&&m(this):y.nextTick(q,this)));return c};h.prototype.resume=function(){var b=this._readableState;b.flowing||(w("resume"),
 b.flowing=!0,b.resumeScheduled||(b.resumeScheduled=!0,y.nextTick(v,this,b)));return this};h.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this};h.prototype.wrap=function(b){var c=this,d=this._readableState,e=!1,f;for(f in b.on("end",function(){if(w("wrapped end"),d.decoder&&!d.ended){var b=d.decoder.end();b&&b.length&&c.push(b)}c.push(null)}),b.on("data",function(f){w("wrapped data");
 d.decoder&&(f=d.decoder.write(f));d.objectMode&&null==f||(d.objectMode||f&&f.length)&&(c.push(f)||(e=!0,b.pause()))}),b)void 0===this[f]&&"function"==typeof b[f]&&(this[f]=function(c){return function(){return b[c].apply(b,arguments)}}(f));for(f=0;f<N.length;f++)b.on(N[f],this.emit.bind(this,N[f]));return this._read=function(c){w("wrapped _read",c);e&&(e=!1,b.resume())},this};Object.defineProperty(h.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});
 h._fromList=K}).call(this,b(22),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{20:20,21:21,22:22,24:24,29:29,30:30,31:31,32:32,33:33,34:34,39:39,6:6,9:9}],27:[function(b,c,d){function e(b){if(!(this instanceof e))return new e(b);h.call(this,b);this._transformState={afterTransform:function(b,c){var d=this._transformState;d.transforming=!1;var e=d.writecb;if(!e)return this.emit("error",Error("write callback called multiple times"));d.writechunk=
 null;(d.writecb=null)!=c&&this.push(c);e(b);b=this._readableState;b.reading=!1;(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;b&&("function"==typeof b.transform&&(this._transform=b.transform),"function"==typeof b.flush&&(this._flush=b.flush));this.on("prefinish",g)}function g(){var b=this;"function"==typeof this._flush?
 this._flush(function(c,d){k(b,c,d)}):k(this,null,null)}function k(b,c,d){if(c)return b.emit("error",c);if(null!=d&&b.push(d),b._writableState.length)throw Error("Calling transform done when ws.length != 0");if(b._transformState.transforming)throw Error("Calling transform done when still transforming");return b.push(null)}c.exports=e;var h=b(24);c=b(32);c.inherits=b(33);c.inherits(e,h);e.prototype.push=function(b,c){return this._transformState.needTransform=!1,h.prototype.push.call(this,b,c)};e.prototype._transform=
 function(b,c,d){throw Error("_transform() is not implemented");};e.prototype._write=function(b,c,d){var e=this._transformState;(e.writecb=d,e.writechunk=b,e.writeencoding=c,e.transforming)||(b=this._readableState,(e.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark))};e.prototype._read=function(b){b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=
 !0};e.prototype._destroy=function(b,c){var d=this;h.prototype._destroy.call(this,b,function(b){c(b);d.emit("close")})}},{24:24,32:32,33:33}],28:[function(b,c,d){(function(d,e,k){function f(b){var c=this;this.entry=this.next=null;this.finish=function(){var d=c.entry;for(c.entry=null;d;){var e=d.callback;b.pendingcb--;e(void 0);d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=c:b.corkedRequestsFree=c;!0}}function g(){}function p(c,d){K=K||b(24);c=c||{};var e=d instanceof K;this.objectMode=!!c.objectMode;
 e&&(this.objectMode=this.objectMode||!!c.writableObjectMode);var h=c.highWaterMark,g=c.writableHighWaterMark,k=this.objectMode?16:16384;this.highWaterMark=h||0===h?h:e&&(g||0===g)?g:k;this.highWaterMark=Math.floor(this.highWaterMark);this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1;this.decodeStrings=(this.destroyed=!1)!==c.decodeStrings;this.defaultEncoding=c.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=
 function(b){!function(b,c){var d=b._writableState,e=d.sync,f=d.writecb;(function(b){b.writing=!1;b.writecb=null;b.length-=b.writelen;b.writelen=0}(d),c)?!function(b,c,d,e,f){--c.pendingcb;d?(R.nextTick(f,e),R.nextTick(v,b,c),b._writableState.errorEmitted=!0,b.emit("error",e)):(f(e),b._writableState.errorEmitted=!0,b.emit("error",e),v(b,c))}(b,d,e,c,f):((c=u(d))||d.corked||d.bufferProcessing||!d.bufferedRequest||r(b,d),e?H(t,b,d,c,f):t(b,d,c,f))}(d,b)};this.writecb=null;this.writelen=0;this.lastBufferedRequest=
 this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new f(this)}function n(c){if(K=K||b(24),!(F.call(n,this)||this instanceof K))return new n(c);this._writableState=new p(c,this);this.writable=!0;c&&("function"==typeof c.write&&(this._write=c.write),"function"==typeof c.writev&&(this._writev=c.writev),"function"==typeof c.destroy&&(this._destroy=c.destroy),"function"==typeof c.final&&(this._final=c.final));L.call(this)}
 function m(b,c,d,e,f,h,g){c.writelen=e;c.writecb=g;c.writing=!0;c.sync=!0;d?b._writev(f,c.onwrite):b._write(f,h,c.onwrite);c.sync=!1}function t(b,c,d,e){d||0===c.length&&c.needDrain&&(c.needDrain=!1,b.emit("drain"));c.pendingcb--;e();v(b,c)}function r(b,c){c.bufferProcessing=!0;var d=c.bufferedRequest;if(b._writev&&d&&d.next){var e=Array(c.bufferedRequestCount),h=c.corkedRequestsFree;h.entry=d;for(var g=0,k=!0;d;)(e[g]=d).isBuf||(k=!1),d=d.next,g+=1;e.allBuffers=k;m(b,c,!0,c.length,e,"",h.finish);
 c.pendingcb++;c.lastBufferedRequest=null;h.next?(c.corkedRequestsFree=h.next,h.next=null):c.corkedRequestsFree=new f(c);c.bufferedRequestCount=0}else{for(;d&&(e=d.chunk,m(b,c,!1,c.objectMode?1:e.length,e,d.encoding,d.callback),d=d.next,c.bufferedRequestCount--,!c.writing););null===d&&(c.lastBufferedRequest=null)}c.bufferedRequest=d;c.bufferProcessing=!1}function u(b){return b.ending&&0===b.length&&null===b.bufferedRequest&&!b.finished&&!b.writing}function q(b,c){b._final(function(d){c.pendingcb--;
 d&&b.emit("error",d);c.prefinished=!0;b.emit("prefinish");v(b,c)})}function v(b,c){var d=u(c);d&&(c.prefinished||c.finalCalled||("function"==typeof b._final?(c.pendingcb++,c.finalCalled=!0,R.nextTick(q,b,c)):(c.prefinished=!0,b.emit("prefinish"))),0===c.pendingcb&&(c.finished=!0,b.emit("finish")));return d}var R=b(21);c.exports=n;var K,H=!d.browser&&-1<["v0.10","v0.9."].indexOf(d.version.slice(0,5))?k:R.nextTick;n.WritableState=p;d=b(32);d.inherits=b(33);var S={deprecate:b(45)},L=b(31),y=b(39).Buffer,
 G=e.Uint8Array||function(){},F;e=b(30);$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbol();d.inherits(n,L);p.prototype.getBuffer=function(){for(var b=this.bufferedRequest,c=[];b;)c.push(b),b=b.next;return c};(function(){try{Object.defineProperty(p.prototype,"buffer",{get:S.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(E){}})();"function"==typeof Symbol&&
 Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(n,Symbol.hasInstance,{value:function(b){return!!F.call(this,b)||this===n&&b&&b._writableState instanceof p}})):F=function(b){return b instanceof this};n.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};n.prototype.write=function(b,c,d){var e=this._writableState,f=!1,h=!e.objectMode&&function(b){return y.isBuffer(b)||b instanceof
 G}(b);return h&&!y.isBuffer(b)&&(b=y.from(b)),"function"==typeof c&&(d=c,c=null),c=h?"buffer":c||e.defaultEncoding,"function"!=typeof d&&(d=g),e.ended?function(b,c){var d=Error("write after end");b.emit("error",d);R.nextTick(c,d)}(this,d):(h||function(b,c,d,e){var f=!0,h=!1;return null===d?h=new TypeError("May not write null values to stream"):"string"==typeof d||void 0===d||c.objectMode||(h=new TypeError("Invalid non-string/buffer chunk")),h&&(b.emit("error",h),R.nextTick(e,h),f=!1),f}(this,e,b,
 d))&&(e.pendingcb++,f=function(b,c,d,e,f,h){if(!d){var g=e;c.objectMode||!1===c.decodeStrings||"string"!=typeof g||(g=y.from(g,f));e!==g&&(d=!0,f="buffer",e=g)}var k=c.objectMode?1:e.length;c.length+=k;(g=c.length<c.highWaterMark)||(c.needDrain=!0);c.writing||c.corked?(b=c.lastBufferedRequest,c.lastBufferedRequest={chunk:e,encoding:f,isBuf:d,callback:h,next:null},b?b.next=c.lastBufferedRequest:c.bufferedRequest=c.lastBufferedRequest,c.bufferedRequestCount+=1):m(b,c,!1,k,e,f,h);return g}(this,e,h,
 b,c,d)),f};n.prototype.cork=function(){this._writableState.corked++};n.prototype.uncork=function(){var b=this._writableState;b.corked&&(b.corked--,b.writing||b.corked||b.finished||b.bufferProcessing||!b.bufferedRequest||r(this,b))};n.prototype.setDefaultEncoding=function(b){if("string"==typeof b&&(b=b.toLowerCase()),!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((b+"").toLowerCase())))throw new TypeError("Unknown encoding: "+b);return this._writableState.defaultEncoding=
 b,this};Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});n.prototype._write=function(b,c,d){d(Error("_write() is not implemented"))};n.prototype._writev=null;n.prototype.end=function(b,c,d){var e=this._writableState;"function"==typeof b?(d=b,c=b=null):"function"==typeof c&&(d=c,c=null);null!=b&&this.write(b,c);e.corked&&(e.corked=1,this.uncork());e.ending||e.finished||(b=d,e.ending=!0,v(this,e),b&&(e.finished?R.nextTick(b):
 this.once("finish",b)),e.ended=!0,this.writable=!1)};Object.defineProperty(n.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(b){this._writableState&&(this._writableState.destroyed=b)}});n.prototype.destroy=e.destroy;n.prototype._undestroy=e.undestroy;n.prototype._destroy=function(b,c){this.end();c(b)}}).call(this,b(22),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},b(44).setImmediate)},
 {21:21,22:22,24:24,30:30,31:31,32:32,33:33,39:39,44:44,45:45}],29:[function(b,c,d){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;this.tail=this.head=null;this.length=0}var g=b(39).Buffer,k=b(6);c.exports=(e.prototype.push=function(b){b={data:b,next:null};0<this.length?this.tail.next=b:this.head=b;this.tail=b;++this.length},e.prototype.unshift=function(b){b={data:b,next:this.head};0===this.length&&(this.tail=b);this.head=b;++this.length},e.prototype.shift=
 function(){if(0!==this.length){var b=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,b}},e.prototype.clear=function(){this.head=this.tail=null;this.length=0},e.prototype.join=function(b){if(0===this.length)return"";for(var c=this.head,d=""+c.data;c=c.next;)d+=b+c.data;return d},e.prototype.concat=function(b){if(0===this.length)return g.alloc(0);if(1===this.length)return this.head.data;for(var c,d,e=g.allocUnsafe(b>>>0),f=this.head,h=0;f;)b=f.data,
 c=e,d=h,b.copy(c,d),h+=f.data.length,f=f.next;return e},e);k&&k.inspect&&k.inspect.custom&&(c.exports.prototype[k.inspect.custom]=function(){var b=k.inspect({length:this.length});return this.constructor.name+" "+b})},{39:39,6:6}],30:[function(b,c,d){function e(b,c){b.emit("error",c)}var g=b(21);c.exports={destroy:function(b,c){var d=this,f=this._writableState&&this._writableState.destroyed;return this._readableState&&this._readableState.destroyed||f?c?c(b):!b||this._writableState&&this._writableState.errorEmitted||
 g.nextTick(e,this,b):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(b||null,function(b){!c&&b?(g.nextTick(e,d,b),d._writableState&&(d._writableState.errorEmitted=!0)):c&&c(b)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=
 !1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{21:21}],31:[function(b,c,d){c.exports=b(9).EventEmitter},{9:9}],32:[function(b,c,d){(function(b){d.isArray=function(b){return Array.isArray?Array.isArray(b):"[object Array]"===Object.prototype.toString.call(b)};d.isBoolean=function(b){return"boolean"==typeof b};d.isNull=function(b){return null===b};d.isNullOrUndefined=function(b){return null==b};d.isNumber=function(b){return"number"==typeof b};
 d.isString=function(b){return"string"==typeof b};d.isSymbol=function(b){return"symbol"==typeof b};d.isUndefined=function(b){return void 0===b};d.isRegExp=function(b){return"[object RegExp]"===Object.prototype.toString.call(b)};d.isObject=function(b){return"object"==typeof b&&null!==b};d.isDate=function(b){return"[object Date]"===Object.prototype.toString.call(b)};d.isError=function(b){return"[object Error]"===Object.prototype.toString.call(b)||b instanceof Error};d.isFunction=function(b){return"function"==
 typeof b};d.isPrimitive=function(b){return null===b||"boolean"==typeof b||"number"==typeof b||"string"==typeof b||"symbol"==typeof b||void 0===b};d.isBuffer=b.isBuffer}).call(this,{isBuffer:b(19)})},{19:19}],33:[function(b,c,d){"function"==typeof Object.create?c.exports=function(b,c){b.super_=c;b.prototype=Object.create(c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}})}:c.exports=function(b,c){function d(){}b.super_=c;d.prototype=c.prototype;b.prototype=new d;b.prototype.constructor=
 b}},{}],34:[function(b,c,d){function e(b){switch(this.encoding=function(b){var c=function(b){if(!b)return"utf8";for(var c;;)switch(b){case "utf8":case "utf-8":return"utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return"utf16le";case "latin1":case "binary":return"latin1";case "base64":case "ascii":case "hex":return b;default:if(c)return;b=(""+b).toLowerCase();c=!0}}(b);if("string"!=typeof c&&(r.isEncoding===u||!u(b)))throw Error("Unknown encoding: "+b);return c||b}(b),this.encoding){case "utf16le":this.text=
 h;this.end=l;b=4;break;case "utf8":this.fillLast=k;b=4;break;case "base64":this.text=p;this.end=n;b=3;break;default:return this.write=m,void(this.end=t)}this.lastTotal=this.lastNeed=0;this.lastChar=r.allocUnsafe(b)}function g(b){return 127>=b?0:6==b>>5?2:14==b>>4?3:30==b>>3?4:2==b>>6?-1:-2}function k(b){var c=this.lastTotal-this.lastNeed;a:if(128!=(192&b[0]))var d=(this.lastNeed=0,"\u00ef\u00bf\u00bd");else{if(1<this.lastNeed&&1<b.length){if(128!=(192&b[1])){d=(this.lastNeed=1,"\u00ef\u00bf\u00bd");
 break a}if(2<this.lastNeed&&2<b.length&&128!=(192&b[2])){d=(this.lastNeed=2,"\u00ef\u00bf\u00bd");break a}}d=void 0}return void 0!==d?d:this.lastNeed<=b.length?(b.copy(this.lastChar,c,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(b.copy(this.lastChar,c,0,b.length),void(this.lastNeed-=b.length))}function h(b,c){if(0!=(b.length-c)%2)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",c,b.length-1);if(c=b.toString("utf16le",c)){var d=
 c.charCodeAt(c.length-1);if(55296<=d&&56319>=d)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],c.slice(0,-1)}return c}function l(b){b=b&&b.length?this.write(b):"";return this.lastNeed?b+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):b}function p(b,c){var d=(b.length-c)%3;return 0==d?b.toString("base64",c):(this.lastNeed=3-d,this.lastTotal=3,1==d?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-
 1]),b.toString("base64",c,b.length-d))}function n(b){b=b&&b.length?this.write(b):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function m(b){return b.toString(this.encoding)}function t(b){return b&&b.length?this.write(b):""}var r=b(39).Buffer,u=r.isEncoding||function(b){switch((b=""+b)&&b.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};
 (d.StringDecoder=e).prototype.write=function(b){if(0===b.length)return"";var c;if(this.lastNeed){if(void 0===(c=this.fillLast(b)))return"";var d=this.lastNeed;this.lastNeed=0}else d=0;return d<b.length?c?c+this.text(b,d):this.text(b,d):c||""};e.prototype.end=function(b){b=b&&b.length?this.write(b):"";return this.lastNeed?b+"\u00ef\u00bf\u00bd":b};e.prototype.text=function(b,c){var d=b.length-1;if(d<c)d=0;else{var e=g(b[d]);d=0<=e?(0<e&&(this.lastNeed=e-1),e):--d<c||-2===e?0:0<=(e=g(b[d]))?(0<e&&(this.lastNeed=
 e-2),e):--d<c||-2===e?0:0<=(e=g(b[d]))?(0<e&&(2===e?e=0:this.lastNeed=e-3),e):0}if(!this.lastNeed)return b.toString("utf8",c);this.lastTotal=d;e=b.length-(d-this.lastNeed);return b.copy(this.lastChar,0,e),b.toString("utf8",c,e)};e.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length);this.lastNeed-=b.length}},
 {39:39}],35:[function(b,c,d){c.exports=b(36).PassThrough},{36:36}],36:[function(b,c,d){(((d=c.exports=b(26)).Stream=d).Readable=d).Writable=b(28);d.Duplex=b(24);d.Transform=b(27);d.PassThrough=b(25)},{24:24,25:25,26:26,27:27,28:28}],37:[function(b,c,d){c.exports=b(36).Transform},{36:36}],38:[function(b,c,d){c.exports=b(28)},{28:28}],39:[function(b,c,d){function e(b,c){for(var d in b)c[d]=b[d]}function g(b,c,d){return h(b,c,d)}var k=b(7),h=k.Buffer;h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?
 c.exports=k:(e(k,d),d.Buffer=g);e(h,g);g.from=function(b,c,d){if("number"==typeof b)throw new TypeError("Argument must not be a number");return h(b,c,d)};g.alloc=function(b,c,d){if("number"!=typeof b)throw new TypeError("Argument must be a number");b=h(b);return void 0!==c?"string"==typeof d?b.fill(c,d):b.fill(c):b.fill(0),b};g.allocUnsafe=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");return h(b)};g.allocUnsafeSlow=function(b){if("number"!=typeof b)throw new TypeError("Argument must be a number");
 return k.SlowBuffer(b)}},{7:7}],40:[function(b,c,d){(function(c){!function(d){function e(b,c){if(!(this instanceof e))return new e(b,c);for(var f=0,h=G.length;f<h;f++)this[G[f]]="";!0;this.q=this.c="";this.bufferCheckPosition=d.MAX_BUFFER_LENGTH;this.opt=c||{};this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags;this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase";this.tags=[];this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.strict=!!b;this.noscript=!(!b&&
 !this.opt.noscript);this.state=A.BEGIN;this.ENTITIES=(this.strictEntities=this.opt.strictEntities)?Object.create(d.XML_ENTITIES):Object.create(d.ENTITIES);this.attribList=[];this.opt.xmlns&&(this.ns=Object.create(V));(this.trackPosition=!1!==this.opt.position)&&(this.position=this.line=this.column=0);this.onready&&this.onready(void 0)}function f(b,c){if(!(this instanceof f))return new f(b,c);F.apply(this);this._parser=new e(b,c);this.readable=this.writable=!0;var d=this;this._parser.onend=function(){d.emit("end")};
 this._parser.onerror=function(b){d.emit("error",b);d._parser.error=null};this._decoder=null;E.forEach(function(b){Object.defineProperty(d,"on"+b,{get:function(){return d._parser["on"+b]},set:function(c){if(!c)return d.removeAllListeners(b),d._parser["on"+b]=c;d.on(b,c)},enumerable:!0,configurable:!1})})}function g(b){return b.split("").reduce(function(b,c){return b[c]=!0,b},{})}function p(b,c){return"[object RegExp]"===Object.prototype.toString.call(b)?!!c.match(b):b[c]}function n(b,c,d){b.textNode&&
 m(b);b[c]&&b[c](d)}function m(b){b.textNode=t(b.opt,b.textNode);b.textNode&&b.ontext&&b.ontext(b.textNode);b.textNode=""}function t(b,c){return b.trim&&(c=c.trim()),b.normalize&&(c=c.replace(/\s+/g," ")),c}function r(b,c){m(b);b.trackPosition&&(c+="\nLine: "+b.line+"\nColumn: "+b.column+"\nChar: "+b.c);c=Error(c);b.error=c;b.onerror&&b.onerror(c);return b}function u(b){b.sawRoot&&!b.closedRoot&&q(b,"Unclosed root tag");b.state!==A.BEGIN&&b.state!==A.BEGIN_WHITESPACE&&b.state!==A.TEXT&&r(b,"Unexpected end");
 m(b);b.c="";b.closed=!0;b.onend&&b.onend(void 0);return e.call(b,b.strict,b.opt),b}function q(b,c){if("object"!=typeof b||!(b instanceof e))throw Error("bad call to strictFail");b.strict&&r(b,c)}function v(b,c){var d=0>b.indexOf(":")?["",b]:b.split(":"),e=d[0];d=d[1];return c&&"xmlns"===b&&(e="xmlns",d=""),{prefix:e,local:d}}function R(b){if(b.strict||(b.attribName=b.attribName[b.looseCase]()),-1===b.attribList.indexOf(b.attribName)&&!b.tag.attributes.hasOwnProperty(b.attribName))if(b.opt.xmlns){var c=
 v(b.attribName,!0),d=c.local;if("xmlns"===c.prefix)if("xml"===d&&b.attribValue!==I)q(b,"xml: prefix must be bound to "+I+"\nActual: "+b.attribValue);else if("xmlns"===d&&b.attribValue!==O)q(b,"xmlns: prefix must be bound to "+O+"\nActual: "+b.attribValue);else{c=b.tag;var e=b.tags[b.tags.length-1]||b;c.ns===e.ns&&(c.ns=Object.create(e.ns));c.ns[d]=b.attribValue}b.attribList.push([b.attribName,b.attribValue])}else b.tag.attributes[b.attribName]=b.attribValue,n(b,"onattribute",{name:b.attribName,value:b.attribValue});
 b.attribName=b.attribValue=""}function K(b,c){if(b.opt.xmlns){var d=b.tag,e=v(b.tagName);d.prefix=e.prefix;d.local=e.local;d.uri=d.ns[e.prefix]||"";d.prefix&&!d.uri&&(q(b,"Unbound namespace prefix: "+JSON.stringify(b.tagName)),d.uri=e.prefix);e=b.tags[b.tags.length-1]||b;d.ns&&e.ns!==d.ns&&Object.keys(d.ns).forEach(function(c){n(b,"onopennamespace",{prefix:c,uri:d.ns[c]})});e=0;for(var f=b.attribList.length;e<f;e++){var h=b.attribList[e],g=h[0],k=h[1],l=v(g,!0);h=l.prefix;var m=""===h?"":d.ns[h]||
 "";k={name:g,value:k,prefix:h,local:l.local,uri:m};h&&"xmlns"!==h&&!m&&(q(b,"Unbound namespace prefix: "+JSON.stringify(h)),k.uri=h);b.tag.attributes[g]=k;n(b,"onattribute",k)}b.attribList.length=0}b.tag.isSelfClosing=!!c;b.sawRoot=!0;b.tags.push(b.tag);n(b,"onopentag",b.tag);c||(b.noscript||"script"!==b.tagName.toLowerCase()?b.state=A.TEXT:b.state=A.SCRIPT,b.tag=null,b.tagName="");b.attribName=b.attribValue="";b.attribList.length=0}function H(b){if(!b.tagName)return q(b,"Weird empty close tag."),
 b.textNode+="</>",void(b.state=A.TEXT);if(b.script){if("script"!==b.tagName)return b.script+="</"+b.tagName+">",b.tagName="",void(b.state=A.SCRIPT);n(b,"onscript",b.script);b.script=""}var c=b.tags.length,d=b.tagName;b.strict||(d=d[b.looseCase]());for(var e=d;c--&&b.tags[c].name!==e;)q(b,"Unexpected close tag");if(0>c)return q(b,"Unmatched closing tag: "+b.tagName),b.textNode+="</"+b.tagName+">",void(b.state=A.TEXT);b.tagName=d;for(d=b.tags.length;d-- >c;){var f=b.tag=b.tags.pop();b.tagName=b.tag.name;
 n(b,"onclosetag",b.tagName);for(var h in f.ns);e=b.tags[b.tags.length-1]||b;b.opt.xmlns&&f.ns!==e.ns&&Object.keys(f.ns).forEach(function(c){n(b,"onclosenamespace",{prefix:c,uri:f.ns[c]})})}0===c&&(b.closedRoot=!0);b.tagName=b.attribValue=b.attribName="";b.attribList.length=0;b.state=A.TEXT}function S(b,c){"<"===c?(b.state=A.OPEN_WAKA,b.startTagPosition=b.position):!p(x,c)&&(q(b,"Non-whitespace before first tag."),b.textNode=c,b.state=A.TEXT)}function L(b,c){var d="";return c<b.length&&(d=b.charAt(c)),
 d}function y(){var b,c,d=[],e=-1,f=arguments.length;if(!f)return"";for(var h="";++e<f;){var g=Number(arguments[e]);if(!isFinite(g)||0>g||1114111<g||da(g)!==g)throw RangeError("Invalid code point: "+g);65535>=g?d.push(g):(b=55296+((g-=65536)>>10),c=g%1024+56320,d.push(b,c));(e+1===f||16384<d.length)&&(h+=Q.apply(null,d),d.length=0)}return h}d.parser=function(b,c){return new e(b,c)};d.SAXParser=e;d.SAXStream=f;d.createStream=function(b,c){return new f(b,c)};d.MAX_BUFFER_LENGTH=65536;var G="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" ");
 d.EVENTS="text processinginstruction sgmldeclaration doctype comment opentagstart attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" ");Object.create||(Object.create=function(b){function c(){}return c.prototype=b,new c});Object.keys||(Object.keys=function(b){var c=[],d;for(d in b)b.hasOwnProperty(d)&&c.push(d);return c});e.prototype={end:function(){u(this)},write:function(b){if(this.error)throw this.error;if(this.closed)return r(this,
 "Cannot write after close. Assign an onready handler.");if(null===b)return u(this);"object"==typeof b&&(b=b.toString());for(var c=0,e="";e=L(b,c++),this.c=e;)switch(this.trackPosition&&(this.position++,"\n"===e?(this.line++,this.column=0):this.column++),this.state){case A.BEGIN:if(this.state=A.BEGIN_WHITESPACE,"\ufeff"===e)continue;S(this,e);continue;case A.BEGIN_WHITESPACE:S(this,e);continue;case A.TEXT:if(this.sawRoot&&!this.closedRoot){for(var f=c-1;e&&"<"!==e&&"&"!==e;)(e=L(b,c++))&&this.trackPosition&&
 (this.position++,"\n"===e?(this.line++,this.column=0):this.column++);this.textNode+=b.substring(f,c-1)}"<"!==e||this.sawRoot&&this.closedRoot&&!this.strict?(!!p(x,e)||this.sawRoot&&!this.closedRoot||q(this,"Text data outside of root node."),"&"===e?this.state=A.TEXT_ENTITY:this.textNode+=e):(this.state=A.OPEN_WAKA,this.startTagPosition=this.position);continue;case A.SCRIPT:"<"===e?this.state=A.SCRIPT_ENDING:this.script+=e;continue;case A.SCRIPT_ENDING:"/"===e?this.state=A.CLOSE_TAG:(this.script+=
 "<"+e,this.state=A.SCRIPT);continue;case A.OPEN_WAKA:if("!"===e)this.state=A.SGML_DECL,this.sgmlDecl="";else if(!p(x,e))if(p(ea,e))this.state=A.OPEN_TAG,this.tagName=e;else if("/"===e)this.state=A.CLOSE_TAG,this.tagName="";else if("?"===e)this.state=A.PROC_INST,this.procInstName=this.procInstBody="";else{if(q(this,"Unencoded <"),this.startTagPosition+1<this.position)e=Array(this.position-this.startTagPosition).join(" ")+e;this.textNode+="<"+e;this.state=A.TEXT}continue;case A.SGML_DECL:(this.sgmlDecl+
 e).toUpperCase()===J?(n(this,"onopencdata"),this.state=A.CDATA,this.sgmlDecl="",this.cdata=""):"--"===this.sgmlDecl+e?(this.state=A.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+e).toUpperCase()===N?(this.state=A.DOCTYPE,(this.doctype||this.sawRoot)&&q(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===e?(n(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=A.TEXT):(p(w,e)&&(this.state=A.SGML_DECL_QUOTED),this.sgmlDecl+=e);continue;
 case A.SGML_DECL_QUOTED:e===this.q&&(this.state=A.SGML_DECL,this.q="");this.sgmlDecl+=e;continue;case A.DOCTYPE:">"===e?(this.state=A.TEXT,n(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=e,"["===e?this.state=A.DOCTYPE_DTD:p(w,e)&&(this.state=A.DOCTYPE_QUOTED,this.q=e));continue;case A.DOCTYPE_QUOTED:this.doctype+=e;e===this.q&&(this.q="",this.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:this.doctype+=e;"]"===e?this.state=A.DOCTYPE:p(w,e)&&(this.state=A.DOCTYPE_DTD_QUOTED,this.q=e);
 continue;case A.DOCTYPE_DTD_QUOTED:this.doctype+=e;e===this.q&&(this.state=A.DOCTYPE_DTD,this.q="");continue;case A.COMMENT:"-"===e?this.state=A.COMMENT_ENDING:this.comment+=e;continue;case A.COMMENT_ENDING:"-"===e?(this.state=A.COMMENT_ENDED,this.comment=t(this.opt,this.comment),this.comment&&n(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+e,this.state=A.COMMENT);continue;case A.COMMENT_ENDED:">"!==e?(q(this,"Malformed comment"),this.comment+="--"+e,this.state=A.COMMENT):this.state=
 A.TEXT;continue;case A.CDATA:"]"===e?this.state=A.CDATA_ENDING:this.cdata+=e;continue;case A.CDATA_ENDING:"]"===e?this.state=A.CDATA_ENDING_2:(this.cdata+="]"+e,this.state=A.CDATA);continue;case A.CDATA_ENDING_2:">"===e?(this.cdata&&n(this,"oncdata",this.cdata),n(this,"onclosecdata"),this.cdata="",this.state=A.TEXT):"]"===e?this.cdata+="]":(this.cdata+="]]"+e,this.state=A.CDATA);continue;case A.PROC_INST:"?"===e?this.state=A.PROC_INST_ENDING:p(x,e)?this.state=A.PROC_INST_BODY:this.procInstName+=e;
 continue;case A.PROC_INST_BODY:if(!this.procInstBody&&p(x,e))continue;"?"===e?this.state=A.PROC_INST_ENDING:this.procInstBody+=e;continue;case A.PROC_INST_ENDING:">"===e?(n(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=A.TEXT):(this.procInstBody+="?"+e,this.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:if(p(ca,e))this.tagName+=e;else{this.strict||(this.tagName=this.tagName[this.looseCase]());f=this.tags[this.tags.length-
 1]||this;var h=this.tag={name:this.tagName,attributes:{}};this.opt.xmlns&&(h.ns=f.ns);this.attribList.length=0;n(this,"onopentagstart",h);">"===e?K(this):"/"===e?this.state=A.OPEN_TAG_SLASH:(!p(x,e)&&q(this,"Invalid character in tag name"),this.state=A.ATTRIB)}continue;case A.OPEN_TAG_SLASH:">"===e?(K(this,!0),H(this)):(q(this,"Forward-slash in opening tag not followed by >"),this.state=A.ATTRIB);continue;case A.ATTRIB:if(p(x,e))continue;">"===e?K(this):"/"===e?this.state=A.OPEN_TAG_SLASH:p(ea,e)?
 (this.attribName=e,this.attribValue="",this.state=A.ATTRIB_NAME):q(this,"Invalid attribute name");continue;case A.ATTRIB_NAME:"="===e?this.state=A.ATTRIB_VALUE:">"===e?(q(this,"Attribute without value"),this.attribValue=this.attribName,R(this),K(this)):p(x,e)?this.state=A.ATTRIB_NAME_SAW_WHITE:p(ca,e)?this.attribName+=e:q(this,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if("="===e)this.state=A.ATTRIB_VALUE;else{if(p(x,e))continue;q(this,"Attribute without value");this.attribValue=
 this.tag.attributes[this.attribName]="";n(this,"onattribute",{name:this.attribName,value:""});this.attribName="";">"===e?K(this):p(ea,e)?(this.attribName=e,this.state=A.ATTRIB_NAME):(q(this,"Invalid attribute name"),this.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(p(x,e))continue;p(w,e)?(this.q=e,this.state=A.ATTRIB_VALUE_QUOTED):(q(this,"Unquoted attribute value"),this.state=A.ATTRIB_VALUE_UNQUOTED,this.attribValue=e);continue;case A.ATTRIB_VALUE_QUOTED:if(e!==this.q){"&"===e?this.state=A.ATTRIB_VALUE_ENTITY_Q:
 this.attribValue+=e;continue}R(this);this.q="";this.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:p(x,e)?this.state=A.ATTRIB:">"===e?K(this):"/"===e?this.state=A.OPEN_TAG_SLASH:p(ea,e)?(q(this,"No whitespace between attributes"),this.attribName=e,this.attribValue="",this.state=A.ATTRIB_NAME):q(this,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!p(C,e)){"&"===e?this.state=A.ATTRIB_VALUE_ENTITY_U:this.attribValue+=e;continue}R(this);">"===e?K(this):this.state=
 A.ATTRIB;continue;case A.CLOSE_TAG:if(this.tagName)">"===e?H(this):p(ca,e)?this.tagName+=e:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=A.SCRIPT):(!p(x,e)&&q(this,"Invalid tagname in closing tag"),this.state=A.CLOSE_TAG_SAW_WHITE);else{if(p(x,e))continue;p(ea,e)?this.tagName=e:this.script?(this.script+="</"+e,this.state=A.SCRIPT):q(this,"Invalid tagname in closing tag.")}continue;case A.CLOSE_TAG_SAW_WHITE:if(p(x,e))continue;">"===e?H(this):q(this,"Invalid characters in closing tag");
 continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:switch(this.state){case A.TEXT_ENTITY:var g=A.TEXT;var k="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:g=A.ATTRIB_VALUE_QUOTED;k="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:g=A.ATTRIB_VALUE_UNQUOTED,k="attribValue"}if(";"===e){f=k;h=this[k];var l=void 0,Q=this.entity;var v=Q.toLowerCase();var da="";v=this.ENTITIES[Q]?this.ENTITIES[Q]:this.ENTITIES[v]?this.ENTITIES[v]:("#"===(Q=v).charAt(0)&&(da="x"===Q.charAt(1)?
 (Q=Q.slice(2),(l=parseInt(Q,16)).toString(16)):(Q=Q.slice(1),(l=parseInt(Q,10)).toString(10))),Q=Q.replace(/^0+/,""),da.toLowerCase()!==Q?(q(this,"Invalid character entity"),"&"+this.entity+";"):String.fromCodePoint(l));this[f]=h+v;this.entity="";this.state=g}else p(this.entity.length?M:Z,e)?this.entity+=e:(q(this,"Invalid character in entity name"),this[k]+="&"+this.entity+e,this.entity="",this.state=g);continue;default:throw Error(this,"Unknown state: "+this.state);}if(this.position>=this.bufferCheckPosition){b=
 Math.max(d.MAX_BUFFER_LENGTH,10);e=c=0;for(g=G.length;e<g;e++){k=this[G[e]].length;if(b<k)switch(G[e]){case "textNode":m(this);break;case "cdata":n(this,"oncdata",this.cdata);this.cdata="";break;case "script":n(this,"onscript",this.script);this.script="";break;default:r(this,"Max buffer length exceeded: "+G[e])}c=Math.max(c,k)}this.bufferCheckPosition=d.MAX_BUFFER_LENGTH-c+this.position}return this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){m(this);
 ""!==this.cdata&&(n(this,"oncdata",this.cdata),this.cdata="");""!==this.script&&(n(this,"onscript",this.script),this.script="");!0}};try{var F=b(41).Stream}catch(wa){F=function(){}}var E=d.EVENTS.filter(function(b){return"error"!==b&&"end"!==b});(f.prototype=Object.create(F.prototype,{constructor:{value:f}})).write=function(d){"function"==typeof c&&"function"==typeof c.isBuffer&&c.isBuffer(d)&&(this._decoder||(this._decoder=new (b(43).StringDecoder)("utf8")),d=this._decoder.write(d));return this._parser.write(d.toString()),
 this.emit("data",d),!0};f.prototype.end=function(b){return b&&b.length&&this.write(b),this._parser.end(),!0};f.prototype.on=function(b,c){var d=this;return d._parser["on"+b]||-1===E.indexOf(b)||(d._parser["on"+b]=function(){var c=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);c.splice(0,0,b);d.emit.apply(d,c)}),F.prototype.on.call(d,b,c)};var x="\r\n\t ",z="0124356789",B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",w="'\"",C=x+">",J="[CDATA[",N="DOCTYPE",I="http://www.w3.org/XML/1998/namespace",
 O="http://www.w3.org/2000/xmlns/",V={xml:I,xmlns:O};x=g(x);z=g(z);B=g(B);var ea=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ca=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,Z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
 M=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;w=g(w);C=g(C);var Q,da,A=0,oa;for(oa in d.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,
 CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},d.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},d.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,
 Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,
 otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,
 Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,
 thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,
 notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(d.ENTITIES).forEach(function(b){var c=d.ENTITIES[b];c=
 "number"==typeof c?String.fromCharCode(c):c;d.ENTITIES[b]=c}),d.STATE)d.STATE[d.STATE[oa]]=oa;A=d.STATE;String.fromCodePoint||(Q=String.fromCharCode,da=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:y,configurable:!0,writable:!0}):String.fromCodePoint=y)}(void 0===d?this.sax={}:d)}).call(this,b(7).Buffer)},{41:41,43:43,7:7}],41:[function(b,c,d){function e(){g.call(this)}c.exports=e;var g=b(9).EventEmitter;b(42)(e,g);e.Readable=b(36);e.Writable=b(38);e.Duplex=
 b(23);e.Transform=b(37);e.PassThrough=b(35);(e.Stream=e).prototype.pipe=function(b,c){function d(c){b.writable&&!1===b.write(c)&&u.pause&&u.pause()}function e(){u.readable&&u.resume&&u.resume()}function f(){q||(q=!0,b.end())}function h(){q||(q=!0,"function"==typeof b.destroy&&b.destroy())}function k(b){if(r(),0===g.listenerCount(this,"error"))throw b;}function r(){u.removeListener("data",d);b.removeListener("drain",e);u.removeListener("end",f);u.removeListener("close",h);u.removeListener("error",
 k);b.removeListener("error",k);u.removeListener("end",r);u.removeListener("close",r);b.removeListener("close",r)}var u=this;u.on("data",d);b.on("drain",e);b._isStdio||c&&!1===c.end||(u.on("end",f),u.on("close",h));var q=!1;return u.on("error",k),b.on("error",k),u.on("end",r),u.on("close",r),b.on("close",r),b.emit("pipe",u),b}},{23:23,35:35,36:36,37:37,38:38,42:42,9:9}],42:[function(b,c,d){arguments[4][33][0].apply(d,arguments)},{33:33}],43:[function(b,c,d){arguments[4][34][0].apply(d,arguments)},
 {34:34,39:39}],44:[function(b,c,d){(function(c,e){function f(b,c){this._id=b;this._clearFn=c}var h=b(22).nextTick,g=Function.prototype.apply,p=Array.prototype.slice,n={},m=0;d.setTimeout=function(){return new f(g.call(setTimeout,window,arguments),clearTimeout)};d.setInterval=function(){return new f(g.call(setInterval,window,arguments),clearInterval)};d.clearTimeout=d.clearInterval=function(b){b.close()};f.prototype.unref=f.prototype.ref=function(){};f.prototype.close=function(){this._clearFn.call(window,
 this._id)};d.enroll=function(b,c){clearTimeout(b._idleTimeoutId);b._idleTimeout=c};d.unenroll=function(b){clearTimeout(b._idleTimeoutId);b._idleTimeout=-1};d._unrefActive=d.active=function(b){clearTimeout(b._idleTimeoutId);var c=b._idleTimeout;0<=c&&(b._idleTimeoutId=setTimeout(function(){b._onTimeout&&b._onTimeout()},c))};d.setImmediate="function"==typeof c?c:function(b){var c=m++,e=!(2>arguments.length)&&p.call(arguments,1);return n[c]=!0,h(function(){n[c]&&(e?b.apply(null,e):b.call(null),d.clearImmediate(c))}),
 c};d.clearImmediate="function"==typeof e?e:function(b){delete n[b]}}).call(this,b(44).setImmediate,b(44).clearImmediate)},{22:22,44:44}],45:[function(b,c,d){(function(b){function d(c){try{if(!b.localStorage)return!1}catch(h){return!1}c=b.localStorage[c];return null!=c&&"true"===String(c).toLowerCase()}c.exports=function(b,c){if(d("noDeprecation"))return b;var e=!1;return function(){if(!e){if(d("throwDeprecation"))throw Error(c);d("traceDeprecation")?console.trace(c):console.warn(c);e=!0}return b.apply(this,
 arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],46:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b){return b&&b.bind?b.bind(window.console):window.console.log.bind(window.console)}function d(b,c){var d="",e=null;R&&(e=(new Date).getTime(),d+="["+(e-H)+"]");K&&c&&c.getClassName&&(d+="["+c.getClassName()+"]",c.getType&&(d+="["+c.getType()+"]"));0<d.length&&(d+=" ");e=arguments.length;
 for(var f=Array(2<e?e-2:0),k=2;k<e;k++)f[k-2]=arguments[k];Array.apply(null,f).forEach(function(b){d+=b+" "});p[b]&&l.get().debug.logLevel>=b&&p[b](d);g.trigger(h.default.LOG,{message:d,level:b})}b=b||{};var e,f=this.context,g=(0,k.default)(f).getInstance(),l=b.settings,p=[],R=void 0,K=void 0,H=void 0;return e={getLogger:function(b){return{fatal:function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];d.apply(void 0,[1,this].concat(c))}.bind(b),error:function(){for(var b=arguments.length,
 c=Array(b),e=0;e<b;e++)c[e]=arguments[e];d.apply(void 0,[2,this].concat(c))}.bind(b),warn:function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];d.apply(void 0,[3,this].concat(c))}.bind(b),info:function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];d.apply(void 0,[4,this].concat(c))}.bind(b),debug:function(){for(var b=arguments.length,c=Array(b),e=0;e<b;e++)c[e]=arguments[e];d.apply(void 0,[5,this].concat(c))}.bind(b)}},setLogTimestampVisible:function(b){R=
 b},setCalleeNameVisible:function(b){K=b}},K=R=!0,H=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(p[1]=c(window.console.error),p[2]=c(window.console.error),p[3]=c(window.console.warn),p[4]=c(window.console.info),p[5]=c(window.console.debug)),e}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(47)),h=e(b(55));b=e(b(48));g.__dashjs_factory_name="Debug";var l=b.default.getSingletonFactory(g);l.LOG_LEVEL_NONE=0;l.LOG_LEVEL_FATAL=1;l.LOG_LEVEL_ERROR=2;l.LOG_LEVEL_WARNING=3;
 l.LOG_LEVEL_INFO=4;l.LOG_LEVEL_DEBUG=5;b.default.updateSingletonFactory(g.__dashjs_factory_name,l);d.default=l;c.exports=d.default},{47:47,48:48,55:55}],47:[function(b,c,d){function e(){function b(b,d,e){var f=-1;return c[b]&&c[b].some(function(b,c){if(b&&b.callback===d&&(!e||e===b.scope))return f=c,!0}),f}var c={};return{on:function(d,e,f){var h=3>=arguments.length||void 0===arguments[3]?0:arguments[3];if(!d)throw Error("event type cannot be null or undefined");if(!e||"function"!=typeof e)throw Error("listener must be a function: "+
 e);if(!(0<=b(d,e,f))){c[d]=c[d]||[];var g={callback:e,scope:f,priority:h};c[d].some(function(b,e){if(b&&h>b.priority)return c[d].splice(e,0,g),!0})||c[d].push(g)}},off:function(d,e,f){d&&e&&c[d]&&(e=b(d,e,f),0>e||(c[d][e]=null))},trigger:function(b,d){if(b&&c[b]){if((d=d||{}).hasOwnProperty("type"))throw Error("'type' is a reserved word for event dispatching");d.type=b;c[b]=c[b].filter(function(b){return b});c[b].forEach(function(b){return b&&b.callback.call(b.scope,d)})}},reset:function(){c={}}}}
 Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="EventBus";g=b.default.getSingletonFactory(e);g.EVENT_PRIORITY_LOW=0;g.EVENT_PRIORITY_HIGH=5E3;b.default.updateSingletonFactory(e.__dashjs_factory_name,g);d.default=g;c.exports=d.default},{48:48}],48:[function(b,c,d){function e(b,c){for(var d in h){var e=h[d];if(e.context===b&&e.name===c)return e.instance}return null}function g(b,c,d){var e=void 0,f=b.__dashjs_factory_name,h=c[f];
 if(h){var g=h.instance;if(!h.override)return g.apply({context:c,factory:k},d);for(var l in e=b.apply({context:c},d),g=g.apply({context:c,factory:k,parent:e},d))e.hasOwnProperty(l)&&(e[l]=g[l])}else e=b.apply({context:c},d);return e.getClassName=function(){return f},e}Object.defineProperty(d,"__esModule",{value:!0});var k,h,l,p;b=(k=void 0,h=[],l={},p={},k={extend:function(b,c,d,e){!e[b]&&c&&(e[b]={instance:c,override:d})},getSingletonInstance:e,setSingletonInstance:function(b,c,d){for(var e in h){var f=
 h[e];if(f.context===b&&f.name===c)return void(h[e].instance=d)}h.push({name:c,context:b,instance:d})},getSingletonFactory:function(b){var c=l[b.__dashjs_factory_name];return c||(c=function(c){var d=void 0;return void 0===c&&(c={}),{getInstance:function(){return(d=d||e(c,b.__dashjs_factory_name))||(d=g(b,c,arguments),h.push({name:b.__dashjs_factory_name,context:c,instance:d})),d}}},l[b.__dashjs_factory_name]=c),c},getSingletonFactoryByName:function(b){return l[b]},updateSingletonFactory:function(b,
 c){b in l&&(l[b]=c)},getClassFactory:function(b){var c=p[b.__dashjs_factory_name];return c||(c=function(c){return void 0===c&&(c={}),{create:function(){return g(b,c,arguments)}}},p[b.__dashjs_factory_name]=c),c},getClassFactoryByName:function(b){return p[b]},updateClassFactory:function(b,c){b in p&&(p[b]=c)}});d.default=b;c.exports=d.default},{}],49:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b,c,d){return c in b?Object.defineProperty(b,c,{value:d,enumerable:!0,
 configurable:!0,writable:!0}):b[c]=d,b}function k(){var b,c,d={debug:{logLevel:p.default.LOG_LEVEL_WARNING},streaming:{metricsMaxListDepth:1E3,abandonLoadTimeout:1E4,liveDelayFragmentCount:4,liveDelay:null,scheduleWhilePaused:!0,fastSwitchEnabled:!1,bufferPruningInterval:10,bufferToKeep:20,bufferAheadToKeep:80,jumpGaps:!0,smallGapLimit:1.5,stableBufferTime:12,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,longFormContentDurationThreshold:600,wallclockTimeUpdateInterval:50,lowLatencyEnabled:!1,
 keepProtectionMediaKeys:!1,useManifestDateHeaderTimeSource:!0,useSuggestedPresentationDelay:!1,useAppendWindowEnd:!0,manifestUpdateRetryInterval:100,liveCatchUpMinDrift:.02,liveCatchUpMaxDrift:0,liveCatchUpPlaybackRate:.5,lastBitrateCachingInfo:{enabled:!0,ttl:36E4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36E4},cacheLoadThresholds:{video:50,audio:5},retryIntervals:(b={},g(b,m.HTTPRequest.MPD_TYPE,500),g(b,m.HTTPRequest.XLINK_EXPANSION_TYPE,500),g(b,m.HTTPRequest.MEDIA_SEGMENT_TYPE,1E3),g(b,m.HTTPRequest.INIT_SEGMENT_TYPE,
 1E3),g(b,m.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1E3),g(b,m.HTTPRequest.INDEX_SEGMENT_TYPE,1E3),g(b,m.HTTPRequest.OTHER_TYPE,1E3),b),retryAttempts:(c={},g(c,m.HTTPRequest.MPD_TYPE,3),g(c,m.HTTPRequest.XLINK_EXPANSION_TYPE,1),g(c,m.HTTPRequest.MEDIA_SEGMENT_TYPE,3),g(c,m.HTTPRequest.INIT_SEGMENT_TYPE,3),g(c,m.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),g(c,m.HTTPRequest.INDEX_SEGMENT_TYPE,3),g(c,m.HTTPRequest.OTHER_TYPE,3),c),abr:{movingAverageMethod:n.default.MOVING_AVERAGE_SLIDING_WINDOW,
 ABRStrategy:n.default.ABR_STRATEGY_DYNAMIC,bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useBufferOccupancyABR:!1,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{enabled:!1,sid:null,cid:null,did:null}}},e=l.default.clone(d);return{get:function(){return e},
 update:function(b){"object"==typeof b&&!function L(b,c,d){for(var e in b)b.hasOwnProperty(e)&&c.hasOwnProperty(e)&&("object"==typeof b[e]&&null!==b[e]?L(b[e],c[e],d.slice()+e+"."):c[e]=l.default.clone(b[e]))}(b,e,"")},reset:function(){e=l.default.clone(d)}}}Object.defineProperty(d,"__esModule",{value:!0});var h=e(b(48)),l=e(b(50)),p=e(b(46)),n=e(b(107)),m=b(190);k.__dashjs_factory_name="Settings";b=h.default.getSingletonFactory(k);d.default=b;c.exports=d.default},{107:107,190:190,46:46,48:48,50:50}],
 50:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0}Object.defineProperty(d,"__esModule",{value:!0});b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,null,[{key:"mixin",value:function(b,c,d){var e=void 0,f={};if(b)for(var h in c)c.hasOwnProperty(h)&&(e=c[h],
 h in b&&(b[h]===e||h in f&&f[h]===e)||("object"==typeof b[h]&&null!==b[h]?b[h]=g.mixin(b[h],e,d):b[h]=d(e)));return b}},{key:"clone",value:function(b){if(!b||"object"!=typeof b)return b;if(b instanceof Array){var c=[];for(var d=0,e=b.length;d<e;++d)d in b&&c.push(g.clone(b[d]))}else c={};return g.mixin(c,b,g.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(b,c){try{var d=function(){if(!c||0===c.length)return{v:b};var d=new URL(b);return c.forEach(function(b){b.key&&b.value&&d.searchParams.set(b.key,
 b.value)}),{v:d.href}}();if("object"==typeof d)return d.v}catch(p){return b}}},{key:"generateUuid",value:function(){var b=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var d=(b+16*Math.random())%16|0;return b=Math.floor(b/16),("x"==c?d:3&d|8).toString(16)})}},{key:"generateHashCode",value:function(b){var c=0;if(0===b.length)return c;for(var d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d),c|=0;return c}}]),g);d.default=b;c.exports=d.default},{}],51:[function(b,
 c,d){Object.defineProperty(d,"__esModule",{value:!0});d.getVersionString=function(){return e};var e="3.0.3"},{}],52:[function(b,c,d){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;a:{var b=Object.getPrototypeOf(e.prototype),c="constructor";var d=this;for(var f=!0;f;){null===b&&(b=Function.prototype);f=Object.getOwnPropertyDescriptor(b,c);if(void 0!==f){if("value"in f){d=f.value;break a}c=f.get;if(void 0===c)break;d=c.call(d);break a}b=Object.getPrototypeOf(b);
 if(null===b)break;f=!0}d=void 0}d.call(this);this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10;this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11;this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12;this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13;this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14;this.SEGMENT_BASE_LOADER_ERROR_CODE=15;this.TIME_SYNC_FAILED_ERROR_CODE=16;this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17;this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18;this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19;this.APPEND_ERROR_CODE=
 20;this.REMOVE_ERROR_CODE=21;this.DATA_UPDATE_FAILED_ERROR_CODE=22;this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23;this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24;this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25;this.DOWNLOAD_ERROR_ID_SIDX_CODE=26;this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27;this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28;this.DOWNLOAD_ERROR_ID_XLINK_CODE=29;this.MANIFEST_ERROR_ID_CODEC_CODE=30;this.MANIFEST_ERROR_ID_PARSE_CODE=31;this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32;this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33;
 this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34;this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35;this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ";this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ";this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ";this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed";this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet";this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments";
 this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time";this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null";this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL";this.APPEND_ERROR_MESSAGE="chunk is not defined";this.REMOVE_ERROR_MESSAGE="buffer is not defined";this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed";this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported";this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported";
 this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :";this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}Object.defineProperty(d,"__esModule",{value:!0});b=b(53);b=new (function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=
 c)}(e,(b&&b.__esModule?b:{default:b}).default),e);d.default=b;c.exports=d.default},{53:53}],53:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0}Object.defineProperty(d,"__esModule",{value:!0});b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"extend",value:function(b,
 c){if(b){var d=!!c&&c.override;c=!!c&&c.publicOnly;for(var e in b)!b.hasOwnProperty(e)||this[e]&&!d||c&&-1===b[e].indexOf("public_")||(this[e]=b[e])}}}]),g);d.default=b;c.exports=d.default},{}],54:[function(b,c,d){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;a:{var b=Object.getPrototypeOf(e.prototype),c="constructor";var d=this;for(var f=!0;f;){null===b&&(b=Function.prototype);f=Object.getOwnPropertyDescriptor(b,c);if(void 0!==f){if("value"in f){d=
 f.value;break a}c=f.get;if(void 0===c)break;d=c.call(d);break a}b=Object.getPrototypeOf(b);if(null===b)break;f=!0}d=void 0}d.call(this);this.BUFFERING_COMPLETED="bufferingCompleted";this.BUFFER_CLEARED="bufferCleared";this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated";this.BYTES_APPENDED="bytesAppended";this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment";this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted";this.CURRENT_TRACK_CHANGED="currentTrackChanged";this.DATA_UPDATE_COMPLETED=
 "dataUpdateCompleted";this.DATA_UPDATE_STARTED="dataUpdateStarted";this.INITIALIZATION_LOADED="initializationLoaded";this.INIT_FRAGMENT_LOADED="initFragmentLoaded";this.INIT_REQUESTED="initRequested";this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded";this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted";this.LOADING_COMPLETED="loadingCompleted";this.LOADING_PROGRESS="loadingProgress";this.LOADING_DATA_PROGRESS="loadingDataProgress";this.LOADING_ABANDONED="loadingAborted";this.MANIFEST_UPDATED=
 "manifestUpdated";this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded";this.QUOTA_EXCEEDED="quotaExceeded";this.REPRESENTATION_UPDATE_STARTED="representationUpdateStarted";this.REPRESENTATION_UPDATE_COMPLETED="representationUpdateCompleted";this.SEGMENTS_LOADED="segmentsLoaded";this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd";this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged";this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted";this.STREAMS_COMPOSED=
 "streamsComposed";this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted";this.STREAM_COMPLETED="streamCompleted";this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized";this.TIMED_TEXT_REQUESTED="timedTextRequested";this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete";this.URL_RESOLUTION_FAILED="urlResolutionFailed";this.VIDEO_CHUNK_RECEIVED="videoChunkReceived";this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated";this.XLINK_ELEMENT_LOADED="xlinkElementLoaded";this.XLINK_READY=
 "xlinkReady"}Object.defineProperty(d,"__esModule",{value:!0});b=b(56);b=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(e,(b&&b.__esModule?b:{default:b}).default),e);d.default=b;c.exports=d.default},{56:56}],55:[function(b,c,d){function e(){if(!(this instanceof
 e))throw new TypeError("Cannot call a class as a function");!0;a:{var b=Object.getPrototypeOf(e.prototype),c="constructor";var d=this;for(var f=!0;f;){null===b&&(b=Function.prototype);f=Object.getOwnPropertyDescriptor(b,c);if(void 0!==f){if("value"in f){d=f.value;break a}c=f.get;if(void 0===c)break;d=c.call(d);break a}b=Object.getPrototypeOf(b);if(null===b)break;f=!0}d=void 0}d.apply(this,arguments)}Object.defineProperty(d,"__esModule",{value:!0});b=b(54);b=new (function(b,c){if("function"!=typeof c&&
 null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(e,(b&&b.__esModule?b:{default:b}).default),e);d.default=b;c.exports=d.default},{54:54}],56:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=
 !0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0}Object.defineProperty(d,"__esModule",{value:!0});b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"extend",value:function(b,c){if(b){var d=!!c&&c.override;c=!!c&&c.publicOnly;for(var e in b)!b.hasOwnProperty(e)||this[e]&&!d||c&&-1===b[e].indexOf("public_")||(this[e]=b[e])}}}]),g);d.default=b;c.exports=d.default},{}],57:[function(b,c,d){function e(b){return b&&
 b.__esModule?b:{default:b}}function g(){function b(b,d,e){var f;b=w.getAdaptationsForType(C[0].mpd.manifest,b,d);if(!b||0===b.length)return null;if(1<b.length&&e){var h=c(e,d);if(N[e.id]&&N[e.id][d])for(var g=0,l=b.length;g<l;g++)if(N[e.id][d].isMediaInfoEqual(h[g]))return b[g];g=0;for(l=b.length;g<l;g++)if(f=b[g],w.getRolesForAdaptation(f).filter(function(b){return b.value===k.default.MAIN})[0])return b[g]}return b[0]}function c(b,c,e){var f,h=C,g=[],k=void 0,l,m=void 0,n,p=void 0;if(e)E(),h=d(e);
 else{if(!(0<C.length))return g;e=C[0].mpd.manifest}(f=L(b,h))&&(p=f.id);h=w.getAdaptationsForType(e,b?b.index:null,c!==I.EMBEDDED_TEXT?c:I.VIDEO);if(!h||0===h.length)return g;J[p]=J[p]||w.getAdaptationsForPeriod(f);var q=0;for(f=h.length;q<f;q++)if(k=h[q],m=w.getIndexForAdaptation(k,e,b.index),l=y(J[p][m]),c===I.EMBEDDED_TEXT){var r=l.accessibility.length;for(n=0;n<r;n++)if(l){var v=l.accessibility[n];if(0===v.indexOf("cea-608:"))if(v=v.substring(8).split(";"),"CC"===v[0].substring(0,2))for(n=0;n<
 v.length;n++)G(l=l||y.call(this,J[p][m]),v[n].substring(0,3),v[n].substring(4)),g.push(l),l=null;else for(n=0;n<v.length;n++)G(l=l||y.call(this,J[p][m]),"CC"+(n+1),v[n]),g.push(l),l=null;else 0===v.indexOf("cea-608")&&(G(l,I.CC1,"eng"),g.push(l),l=null)}}else c===I.IMAGE?(l.type=I.IMAGE,g.push(l)):l&&g.push(l);return g}function d(b){b=e(b);return w.getRegularPeriods(b)}function e(b){b=g(b);return w.getMpd(b)}function f(){C=[];J={};N={}}function g(b){return b||(0<C.length?C[0].mpd.manifest:null)}function t(b){return b&&
 b.streamInfo&&void 0!==b.streamInfo.id&&J[b.streamInfo.id]?J[b.streamInfo.id][b.index]:null}function L(b,c){for(var d=c.length,e=0;e<d;e++){var f=c[e];if(b&&b.id===f.id)return f}return null}function y(b){if(!b)return null;var c,d=new l.default,e=b.period.mpd.manifest.Period_asArray[b.period.index].AdaptationSet_asArray[b.index];return d.id=b.id,d.index=b.index,d.type=b.type,d.streamInfo=F(b.period),d.representationCount=w.getRepresentationCount(e),d.labels=w.getLabelsForAdaptation(e),d.lang=w.getLanguageForAdaptation(e),
 c=w.getViewpointForAdaptation(e),d.viewpoint=c?c.value:void 0,d.accessibility=w.getAccessibilityForAdaptation(e).map(function(b){var c=b.value,e=c;return b.schemeIdUri&&0<=b.schemeIdUri.search("cea-608")&&void 0!==O&&(e=c?"cea-608:"+c:"cea-608",d.embeddedCaptions=!0),e}),d.audioChannelConfiguration=w.getAudioChannelConfigurationForAdaptation(e).map(function(b){return b.value}),0===d.audioChannelConfiguration.length&&Array.isArray(e.Representation_asArray)&&0<e.Representation_asArray.length&&(d.audioChannelConfiguration=
 w.getAudioChannelConfigurationForRepresentation(e.Representation_asArray[0]).map(function(b){return b.value})),d.roles=w.getRolesForAdaptation(e).map(function(b){return b.value}),d.codec=w.getCodec(e),d.mimeType=w.getMimeType(e),d.contentProtection=w.getContentProtectionData(e),d.bitrateList=w.getBitrateListForAdaptation(e),d.contentProtection&&d.contentProtection.forEach(function(b){b.KID=w.getKID(b)}),d.isText=w.getIsTextTrack(d.mimeType),d.supplementalProperties=w.getSupplementalPropperties(e),
 d}function G(b,c,d){b.id=c;b.index=100+parseInt(c.substring(2,3));b.type=I.EMBEDDED_TEXT;b.codec="cea-608-in-SEI";b.isText=!0;b.isEmbedded=!0;b.lang=d;b.roles=["caption"]}function F(b){var c=new p.default;c.id=b.id;c.index=b.index;c.start=b.start;c.duration=b.duration;var d=b.mpd;var e=new n.default;d=(e.DVRWindowSize=d.timeShiftBufferDepth,e.loadedTime=d.manifest.loadedTime,e.availableFrom=d.availabilityStartTime,e.minBufferTime=d.manifest.minBufferTime,e.maxFragmentDuration=d.maxSegmentDuration,
 e.duration=w.getDuration(d.manifest),e.isDynamic=w.getIsDynamic(d.manifest),e.serviceDescriptions=w.getServiceDescriptions(d.manifest),e);return c.manifestInfo=d,c.isLast=1===b.mpd.manifest.Period_asArray.length||1>Math.abs(c.start+c.duration-c.manifestInfo.duration),c}function E(){if(!I)throw Error("setConfig function has to be called previously");}function x(b){return 0<C.length?C[0].mpd.manifest.Period_asArray[b]:null}function z(b,c,d){var e,f,h;if(b)for(b=b.AdaptationSet_asArray,f=0;f<b.length;f+=
 1){var g=b[f].Representation_asArray;for(h=0;h<g.length;h+=1)if(c===(e=g[h]).id)return d?h:e}return null}var B,w=void 0,C=void 0,J=void 0,N=void 0,I=void 0,O=void 0,V=this.context;return B={getBandwidthForRepresentation:function(b,c){var d;return(d=z(x(c),b))?d.bandwidth:null},getIndexForRepresentation:function(b,c){c=x(c);b=z(c,b,!0);return null!==b?b:-1},getMaxIndexForBufferType:function(b,c){a:{var d=x(c);c=void 0;var e,f;if(d&&b)for(d=d.AdaptationSet_asArray,f=0;f<d.length;f+=1)if(c=d[f],e=c.Representation_asArray,
 w.getIsTypeOf(c,b)){b=e.length;break a}b=-1}return b},convertDataToRepresentationInfo:function(b){if(b){var c=new h.default,d=w.getRepresentationFor(b.index,b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index]);return c.id=b.id,c.quality=b.index,c.bandwidth=w.getBandwidth(d),c.DVRWindow=b.segmentAvailabilityRange,c.fragmentDuration=b.segmentDuration||(b.segments&&0<b.segments.length?b.segments[0].duration:NaN),c.MSETimeOffset=b.MSETimeOffset,
 c.useCalculatedLiveEdgeTime=b.useCalculatedLiveEdgeTime,c.mediaInfo=y(b.adaptation),c}return null},getDataForMedia:t,getStreamsInfo:function(b,c){var e=[],f=C;if(b&&(E(),f=d(b)),0<f.length)for((!c||c>f.length)&&(c=f.length),b=0;b<c;b++)e.push(F(f[b]));return e},getMediaInfoForType:function(c,d){if(0===C.length||!c)return null;var e=L(c,C);if(!e)return null;var f=e.id;J[f]=J[f]||w.getAdaptationsForPeriod(e);d=b(c.index,d,c);if(!d)return null;c=w.getIndexForAdaptation(d,C[0].mpd.manifest,c.index);return y(J[f][c])},
 getAllMediaInfoForType:c,getAdaptationForType:b,getRealAdaptation:function(b,c){var d,e=void 0;b=L(b,C);return d=c?c.id:null,0<C.length&&b&&(e=d?w.getAdaptationForId(d,C[0].mpd.manifest,b.index):w.getAdaptationForIndex(c.index,C[0].mpd.manifest,b.index)),e},getVoRepresentations:function(b){b=t(b);return w.getRepresentationsForAdaptation(b)},getEventsFor:function(b,c){var d=[];if(0<C.length){var e=C[0].mpd.manifest;b instanceof p.default?d=w.getEventsForPeriod(L(b,C)):b instanceof l.default?d=w.getEventStreamForAdaptationSet(e,
 t(b)):b instanceof h.default&&(d=w.getEventStreamForRepresentation(e,c))}return d},getEvent:function(b,c,d){if(!b||!c)return null;var e=new m.default,f=b.scheme_id_uri,h=b.value,g=b.timescale,k=b.presentation_time_delta,l=b.event_duration,n=b.id;b=b.message_data;return c[f+"/"+h]?(e.eventStream=c[f+"/"+h],e.eventStream.value=h,e.eventStream.timescale=g,e.duration=l,e.id=n,e.presentationTime=d*g+k,e.messageData=b,e.presentationTimeDelta=k,e):null},setConfig:function(b){b&&(b.constants&&(I=b.constants),
 b.cea608parser&&(O=b.cea608parser),b.errHandler&&w.setConfig({errHandler:b.errHandler}),b.BASE64&&w.setConfig({BASE64:b.BASE64}))},updatePeriods:function(b){if(!b)return null;E();C=d(b);J={}},setCurrentMediaInfo:function(b,c,d){N[b]=N[b]||{};N[b][c]=N[b][c]||{};N[b][c]=d},getUseCalculatedLiveEdgeTimeForMediaInfo:function(b){b=t(b);return w.getUseCalculatedLiveEdgeTimeForAdaptation(b)},getIsTextTrack:function(b){return w.getIsTextTrack(b)},getUTCTimingSources:function(){var b=g();return w.getUTCTimingSources(b)},
 getSuggestedPresentationDelay:function(){return w.getSuggestedPresentationDelay(0<C.length?C[0].mpd:null)},getAvailabilityStartTime:function(b){b=e(b);return w.getAvailabilityStartTime(b)},getIsDynamic:function(b){b=g(b);return w.getIsDynamic(b)},getDuration:function(b){b=g(b);return w.getDuration(b)},getRegularPeriods:d,getLocation:function(b){return w.getLocation(b)},getManifestUpdatePeriod:function(b){return w.getManifestUpdatePeriod(b,1>=arguments.length||void 0===arguments[1]?0:arguments[1])},
 getIsDVB:function(b){return w.hasProfile(b,"urn:dvb:dash:profile:dvb-dash:2014")},getBaseURLsFromElement:function(b){return w.getBaseURLsFromElement(b)},getRepresentationSortFunction:function(){return w.getRepresentationSortFunction()},getCodec:function(b,c,d){return w.getCodec(b,c,d)},reset:f},w=(0,r.default)(V).getInstance(),f(),B}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(62)),h=e(b(93)),l=e(b(89)),p=e(b(95)),n=e(b(88)),m=e(b(86)),t=e(b(48)),r=e(b(65));g.__dashjs_factory_name="DashAdapter";
 d.default=t.default.getSingletonFactory(g);c.exports=d.default},{48:48,62:62,65:65,86:86,88:88,89:89,93:93,95:95}],58:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){O=-1;V=null}function d(b,c,d){d=J.resolve(d.path);var e=void 0,f=void 0;return d&&c!==d.url&&x.isRelative(c)?(e=d.url,f=d.serviceLocation,c&&(e=x.resolve(c,e))):e=c,!x.isRelative(e)&&(b.url=e,b.serviceLocation=f,!0)}function e(b){if(b.sender.getType()===z){b=b.representation;var c=b.hasInitialization(),
 d=b.hasSegments();c&&d?E.trigger(p.default.REPRESENTATION_UPDATE_COMPLETED,{sender:N,representation:b}):M.update(b,z,c,d)}}function f(b,c){if(null==c)return null;var e=new h.default,f=c.representation,g=f.adaptation.period.mpd.manifest.Period_asArray[f.adaptation.period.index].AdaptationSet_asArray[f.adaptation.index].Representation_asArray[f.index].bandwidth,k=c.media;return k=(0,u.replaceTokenForTemplate)(k,"Number",c.replacementNumber),k=(0,u.replaceTokenForTemplate)(k,"Time",c.replacementTime),
 k=(0,u.replaceTokenForTemplate)(k,"Bandwidth",g),k=(0,u.replaceIDForTemplate)(k,f.id),k=(0,u.unescapeDollarsInTemplate)(k),e.mediaType=z,e.type=l.HTTPRequest.MEDIA_SEGMENT_TYPE,e.range=c.mediaRange,e.startTime=c.presentationStartTime,e.duration=c.duration,e.timescale=f.timescale,e.availabilityStartTime=c.availabilityStartTime,e.availabilityEndTime=c.availabilityEndTime,e.wallStartTime=c.wallStartTime,e.quality=f.index,e.index=c.availabilityIdx,e.mediaInfo=b,e.adaptationIndex=f.adaptation.index,e.representationId=
 f.id,d(e,k,f)?e:void 0}function g(b){var c=!1;if(!b)return c;Z?V&&(c=parseFloat((V.presentationStartTime-b.adaptation.period.start).toFixed(5)),c=b.adaptation.period.duration<=(0<V.duration?c+1.5*V.duration:c)):O>=b.availableSegmentsNumber&&(c=!0);return c}function m(b){b=b.representation;b.segments&&E.trigger(p.default.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:b})}function v(b){if(!b.error&&z===b.mediaType){var c,d=b.segments;b=b.representation;var e=[],f=0,h=void 0;var g=0;for(c=
 d?d.length:0;g<c;g++){var k=d[g];(h=(0,u.getTimeBasedSegment)(w,Z,b,k.startTime,k.duration,k.timescale,k.media,k.mediaRange,f))&&(e.push(h),h=null,f++)}0<e.length&&(b.segmentAvailabilityRange={start:e[0].presentationStartTime,end:e[e.length-1].presentationStartTime},b.availableSegmentsNumber=e.length,b.segments=e,Z)&&(d=e[e.length-1].presentationStartTime-8,w.setExpectedLiveEdge(d),C.updateManifestUpdateInfo({presentationStartTime:d}),!0);b.hasInitialization()&&E.trigger(p.default.REPRESENTATION_UPDATE_COMPLETED,
 {sender:this,representation:b})}}b=b||{};var F=this.context,E=(0,n.default)(F).getInstance(),x=(0,r.default)(F).getInstance(),z=b.type,B=b.streamInfo,w=b.timelineConverter,C=b.dashMetrics,J=b.baseURLController,N=void 0,I=void 0,O=void 0,V=void 0,ea=void 0,ca=void 0,Z=void 0,M=void 0;N={initialize:function(b){Z=b;M.initialize(b)},getType:function(){return z},getStreamInfo:function(){return B},getInitRequest:function(b,c){if(c){var e=z,f=new h.default,g=c.adaptation.period,k=g.start;b=(f.mediaType=
 e,f.type=l.HTTPRequest.INIT_SEGMENT_TYPE,f.range=c.range,f.availabilityStartTime=w.calcAvailabilityStartTimeFromPresentationTime(k,g.mpd,Z),f.availabilityEndTime=w.calcAvailabilityEndTimeFromPresentationTime(k+g.duration,g.mpd,Z),f.quality=c.index,f.mediaInfo=b,f.representationId=c.id,d(f,c.initialization,c))?(f.url=(0,u.replaceTokenForTemplate)(f.url,"Bandwidth",c.bandwidth),f):void 0}else b=null;return b},getSegmentRequestForTime:function(b,c,d,e){var l=null;if(!c||!c.segmentInfoType)return l;var n=
 O,m=!!e&&e.keepIdx;e=!(!e||!e.ignoreIsFinished);ea!==d&&(ea=d,I.debug("Getting the request for time : "+d));var Q=M.getSegmentByTime(c,d);return Q?(O=Q.availabilityIdx,V=Q,I.debug("Index for time "+d+" is "+O),l=f(b,Q)):!e&&g(c)&&((l=new h.default).action=h.default.ACTION_COMPLETE,l.index=O-1,l.mediaType=z,l.mediaInfo=b,I.debug("Signal complete in getSegmentRequestForTime")),m&&0<=n&&(O=c.segmentInfoType===k.default.SEGMENT_TIMELINE&&Z?O:n),l},getNextSegmentRequest:function(b,c){var d=null;if(!c||
 !c.segmentInfoType)return null;ea=null;var e=O+1;I.debug("Getting the next request at index: "+e);var k=M.getSegmentByIndex(c,e,V?V.mediaStartTime:-1);return k||isFinite(c.adaptation.period.duration)?(O=k?(d=f(b,k),k.availabilityIdx):Z?e-1:e,k?V=k:g(c)&&((d=new h.default).action=h.default.ACTION_COMPLETE,d.index=O-1,d.mediaType=z,d.mediaInfo=b,I.debug("Signal complete")),d):(I.debug("No segment found at index: "+e+". Wait for next loop"),null)},setCurrentTime:function(b){ca=b},getCurrentTime:function(){return ca},
 reset:function(){c();ca=0;M=ea=null;E.off(p.default.INITIALIZATION_LOADED,m,N);E.off(p.default.SEGMENTS_LOADED,v,N);E.off(p.default.REPRESENTATION_UPDATE_STARTED,e,N)},resetIndex:c};I=(0,t.default)(F).getInstance().getLogger(N);c();ca=0;M=ea=null;return M=(0,q.default)(F).create(b),E.on(p.default.INITIALIZATION_LOADED,m,N),E.on(p.default.SEGMENTS_LOADED,v,N),E.on(p.default.REPRESENTATION_UPDATE_STARTED,e,N),N}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(62)),h=e(b(176)),l=b(190),p=e(b(55)),
 n=e(b(47)),m=e(b(48)),t=e(b(46)),r=e(b(169)),u=b(80),q=e(b(64));g.__dashjs_factory_name="DashHandler";d.default=m.default.getClassFactory(g);c.exports=d.default},{169:169,176:176,190:190,46:46,47:47,48:48,55:55,62:62,64:64,80:80}],59:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b,c,d){return f(F.getMetricsFor(b,c),d)}function d(b,c){b=F.getMetricsFor(b,c);if(!b)return null;b=b.HttpList;c=null;var d;if(!b||0>=b.length)return null;for(d=b.length-1;0<=
 d;){if(b[d].responsecode){c=b[d];break}d--}return c}function e(b){return(b=F.getMetricsFor(b,!0))&&b.HttpList?b.HttpList:[]}function f(b,c){if(!b)return null;b=b[c];return!b||0>=b.length?null:b[b.length-1]}function g(b){var c={};if(!b)return c;b=b.trim().split("\r\n");for(var d=0,e=b.length;d<e;d++){var f=b[d],h=f.indexOf(": ");0<h&&(c[f.substring(0,h)]=f.substring(h+2))}return c}b=b||{};var l,r=this.context,L=void 0,y=void 0,G=void 0,F=b.metricsModel;return l={getCurrentRepresentationSwitch:function(b,
 c){return f(F.getMetricsFor(b,c),p.default.TRACK_SWITCH)},getLatestBufferInfoVO:c,getCurrentBufferLevel:function(b,d){return(b=c(b,d,p.default.BUFFER_LEVEL))?n.default.round10(b.level/1E3,-3):0},getCurrentHttpRequest:d,getHttpRequests:e,getCurrentDroppedFrames:function(){return f(F.getMetricsFor(k.default.VIDEO,!0),p.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(b){return f(F.getMetricsFor(b,!0),p.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(b){return f(b?F.getMetricsFor(b,!0):
 F.getMetricsFor(k.default.VIDEO,!0)||F.getMetricsFor(k.default.AUDIO,!0),p.default.DVR_INFO)},getCurrentManifestUpdate:function(){return f(F.getMetricsFor(k.default.STREAM),p.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(b,c){var e={};b=d(b,!0);return b&&(e=g(b._responseHeaders)),void 0===e[c]?null:e[c]},getLatestMPDRequestHeaderValueByID:function(b){var c,d={},f,l;for(l=(c=e(k.default.STREAM)).length-1;0<=l;l--)if((f=c[l]).type===h.HTTPRequest.MPD_TYPE){d=g(f._responseHeaders);
 break}return void 0===d[b]?null:d[b]},addRepresentationSwitch:function(b,c,d,e,f){F.addRepresentationSwitch(b,c,d,e,f)},addDVRInfo:function(b,c,d,e){F.addDVRInfo(b,c,d,e)},updateManifestUpdateInfo:function(b){var c=this.getCurrentManifestUpdate();F.updateManifestUpdateInfo(c,b)},addManifestUpdateStreamInfo:function(b){if(b){var c=this.getCurrentManifestUpdate();F.addManifestUpdateStreamInfo(c,b.id,b.index,b.start,b.duration)}},addManifestUpdateRepresentationInfo:function(b,c){if(b){var d=this.getCurrentManifestUpdate();
 F.addManifestUpdateRepresentationInfo(d,b.id,b.index,b.streamIndex,c,b.presentationTimeOffset,b.startNumber,b.fragmentInfoType)}},addManifestUpdate:function(b){F.addManifestUpdate(k.default.STREAM,b.type,b.requestStartDate,b.requestEndDate)},addHttpRequest:function(b,c,d,e,f){F.addHttpRequest(b.mediaType,null,b.type,b.url,b.quality,c,b.serviceLocation||null,b.range||null,b.requestStartDate,b.firstByteDate,b.requestEndDate,d,b.duration,e,f)},addSchedulingInfo:function(b,c){F.addSchedulingInfo(b.mediaType,
 new Date,b.type,b.startTime,b.availabilityStartTime,b.duration,b.quality,b.range,c)},addRequestsQueue:function(b,c,d){F.addRequestsQueue(b,c,d)},addBufferLevel:function(b,c,d){F.addBufferLevel(b,c,d)},addBufferState:function(b,c,d){F.addBufferState(b,c,d)},addDroppedFrames:function(b){F.addDroppedFrames(k.default.VIDEO,b)},addPlayList:function(){G&&(F.addPlayList(G),G=null)},addDVBErrors:function(b){F.addDVBErrors(b)},createPlaylistMetrics:function(b,c){(G=new t.PlayList).start=new Date;G.mstart=
 b;G.starttype=c},createPlaylistTraceMetrics:function(b,c,d){!0===L&&(L=!1,(y=new t.PlayListTrace).representationid=b,y.start=new Date,y.mstart=c,y.playbackspeed=d)},updatePlayListTraceMetrics:function(b){if(y)for(var c in y)y[c]=b[c]},pushPlayListTraceMetrics:function(b,c){if(!1===L&&G&&y&&y.start){var d=y.start;b=b.getTime()-d.getTime();y.duration=b;y.stopreason=c;G.trace.push(y);L=!0}},clearAllCurrentMetrics:function(){F.clearAllCurrentMetrics()}},F=F||(0,m.default)(r).getInstance({settings:b.settings}),
 L=!0,G=y=null,l}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=b(190),l=e(b(48)),p=e(b(108)),n=e(b(78)),m=e(b(127)),t=b(192);g.__dashjs_factory_name="DashMetrics";d.default=l.default.getSingletonFactory(g);c.exports=d.default},{107:107,108:108,127:127,190:190,192:192,48:48,78:78}],60:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){if(!C||!C.hasOwnProperty("resolve"))throw Error("setConfig function has to be called previously");}function c(b){if(b.url){var c=
 new u.default;return c.setInfo(b),c}}function d(b,c,d){b?f.trigger(p.default.SEGMENTS_LOADED,{segments:b,representation:c,mediaType:d}):f.trigger(p.default.SEGMENTS_LOADED,{segments:null,representation:c,mediaType:d,error:new l.default(v.default.SEGMENT_BASE_LOADER_ERROR_CODE,v.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}var e=this.context,f=(0,n.default)(e).getInstance(),g=void 0,t=void 0,F=void 0,E=void 0,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0;return g={setConfig:function(b){b.baseURLController&&
 (C=b.baseURLController);b.dashMetrics&&(z=b.dashMetrics);b.mediaPlayerModel&&(B=b.mediaPlayerModel);b.errHandler&&(F=b.errHandler)},initialize:function(){E=(0,m.default)(e).getInstance();x=(0,k.default)(e).getInstance();w=(0,q.default)(e).create({errHandler:F,dashMetrics:z,mediaPlayerModel:B,requestModifier:x})},loadInitialization:function O(d,e){b();var h=null,g=d?C.resolve(d.path):null,k=e||{init:!0,url:g?g.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:d&&
 d.adaptation?d.adaptation.type:null};t.debug("Start searching for initialization.");e=c(k);w.load({request:e,success:function(b){k.bytesLoaded=k.range.end;(h=E.findInitRange(b))?(d.range=h,f.trigger(p.default.INITIALIZATION_LOADED,{representation:d})):(k.range.end=k.bytesLoaded+k.bytesToLoad,O(d,k))},error:function(){f.trigger(p.default.INITIALIZATION_LOADED,{representation:d})}});t.debug("Perform init search: "+k.url)},loadSegments:function Z(e,f,g,k,l){(b(),!g||void 0!==g.start&&void 0!==g.end)||
 (g=(g=g?g.toString().split("-"):null)?{start:parseFloat(g[0]),end:parseFloat(g[1])}:null);l=l||d;var n=null,m=null,p=!!g,q=e?C.resolve(e.path):null,r={init:!1,url:q?q.url:void 0,range:p?g:{start:0,end:1500},searching:!p,bytesLoaded:k?k.bytesLoaded:0,bytesToLoad:1500,mediaType:e&&e.adaptation?e.adaptation.type:null};k=c(r);w.load({request:k,success:function(b){var c=r.bytesToLoad,d=b.byteLength;if(r.bytesLoaded=r.range.end-r.range.start,n=E.parse(b),(m=n.getBox("sidx"))&&m.isComplete){var g=m.references;
 b=c=void 0;null!=g&&0<g.length&&(c=1===g[0].reference_type);c?function(){function b(b){b?(n=n.concat(b),d<=++Q&&(n.sort(function(b,c){return 0>b.startTime-c.startTime?-1:0}),l(n,e,f))):l(null,e,f)}t.debug("Initiate multiple SIDX load.");r.range.end=r.range.start+m.size;var c=void 0,d=void 0,h=void 0,k=void 0,n=[],Q=0,p=(m.offset||r.range.start)+m.size;c=0;for(d=g.length;c<d;c++)k=(h=p)+g[c].referenced_size-1,p+=g[c].referenced_size,Z(e,null,{start:h,end:k},r,b)}():(t.debug("Parsing segments from SIDX. representation "+
 e.adaptation.type+" - id: "+e.id+" for range : "+r.range.start+" - "+r.range.end),b=function(b,c){var d=b.references,e=d.length,f=b.timescale,g=b.earliest_presentation_time;b=c.range.start+b.offset+b.first_offset+b.size;c=[];for(var k,l,n,m,Q=0;Q<e;Q++)n=d[Q].subsegment_duration,m=d[Q].referenced_size,(k=new h.default).duration=n,k.startTime=g,k.timescale=f,l=b+m-1,k.mediaRange=b+"-"+l,c.push(k),g+=n,b+=m;return c}(m,r),l(b,e,f))}else{if(m)r.range.start=m.offset||r.range.start,r.range.end=r.range.start+
 (m.size||c);else{if(d<r.bytesLoaded)return void l(null,e,f);(b=n.getLastBox())&&b.size?(r.range.start=b.offset+b.size,r.range.end=r.range.start+c):r.range.end+=c}Z(e,f,r.range,r,l)}},error:function(){l(null,e,f)}});t.debug("Perform SIDX load: "+r.url+" with range : "+r.range.start+" - "+r.range.end)},reset:function(){w.abort();x=E=F=w=null}},t=(0,r.default)(e).getInstance().getLogger(g),g}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(166)),h=e(b(94)),l=e(b(174)),p=e(b(55)),n=e(b(47)),
 m=e(b(156)),t=e(b(48)),r=e(b(46)),u=e(b(176)),q=e(b(131)),v=e(b(52));g.__dashjs_factory_name="SegmentBaseLoader";d.default=t.default.getSingletonFactory(g);c.exports=d.default},{131:131,156:156,166:166,174:174,176:176,46:46,47:47,48:48,52:52,55:55,94:94}],61:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){if(!J||!J.hasOwnProperty("resolve"))throw Error("setConfig function has to be called previously");}function c(b,c,d){b?f.trigger(k.default.SEGMENTS_LOADED,
 {segments:b,representation:c,mediaType:d}):f.trigger(k.default.SEGMENTS_LOADED,{segments:null,representation:c,mediaType:d,error:new v.default(R.default.SEGMENT_BASE_LOADER_ERROR_CODE,R.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function d(b){var c=new u.default;return c.setInfo(b),c}var e=this.context,f=(0,h.default)(e).getInstance(),g=void 0,n=void 0,E=void 0,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0,J=void 0;return g={setConfig:function(b){if(!(b.baseURLController&&b.dashMetrics&&b.mediaPlayerModel&&
 b.errHandler))throw Error(p.default.MISSING_CONFIG_ERROR);J=b.baseURLController;B=b.dashMetrics;w=b.mediaPlayerModel;x=b.errHandler},initialize:function(){z=(0,t.default)(e).getInstance();C=(0,q.default)(e).create({errHandler:x,dashMetrics:B,mediaPlayerModel:w,requestModifier:z})},loadInitialization:function(c,e){b();var g=null,h=c?J.resolve(c.path):null,l=c?c.range.split("-"):null;e=e||{range:{start:l?parseFloat(l[0]):null,end:l?parseFloat(l[1]):null},request:g,url:h?h.url:void 0,init:!0,mediaType:c&&
 c.adaptation?c.adaptation.type:null};n.info("Start loading initialization.");g=d(e);C.load({request:g,success:function(){f.trigger(k.default.INITIALIZATION_LOADED,{representation:c})},error:function(){f.trigger(k.default.INITIALIZATION_LOADED,{representation:c})}});n.debug("Perform init load: "+e.url)},loadSegments:function(f,g,h,k){b();var m=null,p=f?J.resolve(f.path):null,q=p?p.url:void 0;m={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:m,url:q,init:!1,mediaType:f&&f.adaptation?
 f.adaptation.type:null};k=k||c;m=d(m);n.debug("Parsing ebml header");C.load({request:m,success:function(b){!function(b,c,f,g){if(b&&0!==b.byteLength){var h;b=(0,l.default)(e).create({data:b});var k=void 0,m=void 0,Q=void 0;f=f?f.split("-"):null;var p=null,q={url:c,range:{start:f?parseFloat(f[0]):null,end:f?parseFloat(f[1]):null},request:p};n.debug("Parse EBML header: "+q.url);b.skipOverElement(E.EBML);b.consumeTag(E.Segment);Q=b.getMatroskaCodedNum();Q+=b.getPos();for(h=b.getPos();b.moreData()&&!b.consumeTagAndSize(E.Segment.Info,
 !0);)if(!(b.skipOverElement(E.Segment.SeekHead,!0)||b.skipOverElement(E.Segment.Tracks,!0)||b.skipOverElement(E.Segment.Cues,!0)||b.skipOverElement(E.Void,!0)))throw Error("no valid top level element found");for(;void 0===k;)switch(c=b.getMatroskaCodedNum(!0),f=b.getMatroskaCodedNum(),c){case E.Segment.Info.Duration.tag:k=b[E.Segment.Info.Duration.parse](f);break;default:b.setPos(b.getPos()+f)}p=d(q);C.load({request:p,success:function(b){var c=Q,d=k,f;var p=[];var q=0;var v=[];b=(0,l.default)(e).create({data:b});
 var M=void 0;for(b.consumeTagAndSize(E.Segment.Cues);b.moreData()&&b.consumeTagAndSize(E.Segment.Cues.CuePoint,!0);){(f={}).CueTime=b.parseTag(E.Segment.Cues.CuePoint.CueTime);for(f.CueTracks=[];b.moreData()&&b.consumeTag(E.Segment.Cues.CuePoint.CueTrackPositions,!0);){var A=b.getMatroskaCodedNum();var da=b.getPos();if((M={}).Track=b.parseTag(E.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===M.Track)throw Error("Cue track cannot be 0");M.ClusterPosition=b.parseTag(E.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition);
 f.CueTracks.push(M);b.setPos(da+A)}if(0===f.CueTracks.length)throw Error("Mandatory cuetrack not found");v.push(f)}if(0===v.length)throw Error("mandatory cuepoint not found");for(b=v.length;q<b;q+=1)f=new r.default,M=q<v.length-1?v[q+1].CueTime-v[q].CueTime:d-v[q].CueTime,f.duration=M,f.startTime=v[q].CueTime,f.timescale=1E3,M=v[q].CueTracks[0].ClusterPosition+h,A=q<v.length-1?v[q+1].CueTracks[0].ClusterPosition+h-1:c-1,f.mediaRange=M+"-"+A,p.push(f);m=(n.debug("Parsed cues: "+p.length+" cues."),
 p);g(m)},error:function(){n.error("Download Error: Cues "+q.url);g(null)}});n.debug("Perform cues load: "+q.url+" bytes="+q.range.start+"-"+q.range.end)}else g(null)}(b,q,h,function(b){k(b,f,g)})},error:function(){k(null,f,g)}})},reset:function(){z=x=null}},n=(0,m.default)(e).getInstance().getLogger(g),E={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},
 Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},g}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(55)),h=e(b(47)),l=e(b(160)),p=e(b(107)),
 n=e(b(48)),m=e(b(46)),t=e(b(166)),r=e(b(94)),u=e(b(176)),q=e(b(131)),v=e(b(174)),R=e(b(52));g.__dashjs_factory_name="WebmSegmentBaseLoader";d.default=n.default.getSingletonFactory(g);c.exports=d.default},{107:107,131:131,160:160,166:166,174:174,176:176,46:46,47:47,48:48,52:52,55:55,94:94}],62:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof
 g))throw new TypeError("Cannot call a class as a function");!0;this.init()}Object.defineProperty(d,"__esModule",{value:!0});b=new (function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"init",value:function(){this.BASE_URL="BaseURL";this.SEGMENT_BASE="SegmentBase";this.SEGMENT_TEMPLATE="SegmentTemplate";this.SEGMENT_LIST="SegmentList";this.SEGMENT_URL="SegmentURL";this.SEGMENT_TIMELINE="SegmentTimeline";this.SEGMENT_PROFILES="segmentProfiles";this.ADAPTATION_SET="AdaptationSet";this.REPRESENTATION=
 "Representation";this.REPRESENTATION_INDEX="RepresentationIndex";this.SUB_REPRESENTATION="SubRepresentation";this.INITIALIZATION="Initialization";this.INITIALIZATION_MINUS="initialization";this.MPD="MPD";this.PERIOD="Period";this.ASSET_IDENTIFIER="AssetIdentifier";this.EVENT_STREAM="EventStream";this.ID="id";this.PROFILES="profiles";this.SERVICE_LOCATION="serviceLocation";this.RANGE="range";this.INDEX="index";this.MEDIA="media";this.BYTE_RANGE="byteRange";this.INDEX_RANGE="indexRange";this.MEDIA_RANGE=
 "mediaRange";this.VALUE="value";this.CONTENT_TYPE="contentType";this.MIME_TYPE="mimeType";this.BITSTREAM_SWITCHING="BitstreamSwitching";this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching";this.CODECS="codecs";this.DEPENDENCY_ID="dependencyId";this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId";this.METRICS="Metrics";this.METRICS_MINUS="metrics";this.REPORTING="Reporting";this.WIDTH="width";this.HEIGHT="height";this.SAR="sar";this.FRAMERATE="frameRate";this.AUDIO_SAMPLING_RATE="audioSamplingRate";
 this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod";this.START_WITH_SAP="startWithSAP";this.MAX_PLAYOUT_RATE="maxPlayoutRate";this.CODING_DEPENDENCY="codingDependency";this.SCAN_TYPE="scanType";this.FRAME_PACKING="FramePacking";this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration";this.CONTENT_PROTECTION="ContentProtection";this.ESSENTIAL_PROPERTY="EssentialProperty";this.SUPPLEMENTAL_PROPERTY="SupplementalProperty";this.INBAND_EVENT_STREAM="InbandEventStream";this.ACCESSIBILITY="Accessibility";this.ROLE=
 "Role";this.RATING="Rating";this.CONTENT_COMPONENT="ContentComponent";this.SUBSET="Subset";this.LANG="lang";this.VIEWPOINT="Viewpoint";this.ROLE_ASARRAY="Role_asArray";this.ACCESSIBILITY_ASARRAY="Accessibility_asArray";this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray";this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray";this.MAIN="main";this.DYNAMIC="dynamic";this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration";this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod";
 this.CODEC_PRIVATE_DATA="codecPrivateData";this.BANDWITH="bandwidth";this.SOURCE_URL="sourceURL";this.TIMESCALE="timescale";this.DURATION="duration";this.START_NUMBER="startNumber";this.PRESENTATION_TIME_OFFSET="presentationTimeOffset";this.AVAILABILITY_START_TIME="availabilityStartTime";this.AVAILABILITY_END_TIME="availabilityEndTime";this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth";this.MAX_SEGMENT_DURATION="maxSegmentDuration";this.PRESENTATION_TIME="presentationTime";this.MIN_BUFFER_TIME="minBufferTime";
 this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration";this.START="start";this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset";this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete";this.CENC_DEFAULT_KID="cenc:default_KID";this.DVB_PRIORITY="dvb:priority";this.DVB_WEIGHT="dvb:weight";this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay";this.SERVICE_DESCRIPTION="ServiceDescription";this.SERVICE_DESCRIPTION_SCOPE="Scope";this.SERVICE_DESCRIPTION_LATENCY="Latency";this.SERVICE_DESCRIPTION_PLAYBACK_RATE=
 "PlaybackRate"}}]),g);d.default=b;c.exports=d.default},{}],63:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){if(!(N&&V&&I&&O&&Z))throw Error(k.default.MISSING_CONFIG_ERROR);}function c(){w=!(B=null);C=[];V=O=I=N=null}function d(){b();var c=new Date,d=J,e=1E3*I.getTime();d&&V.addRepresentationSwitch(d.adaptation.type,c,e,d.id)}function e(b){return null==b||b>=C.length?null:C[b]}function f(b,c){(b.segmentAvailabilityRange=O.calcSegmentAvailabilityRange(b,
 c),b.segmentAvailabilityRange.end<b.segmentAvailabilityRange.start&&!b.useCalculatedLiveEdgeTime)?H(new p.default(h.default.SEGMENTS_UNAVAILABLE_ERROR_CODE,h.default.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:b.segmentAvailabilityRange.start-b.segmentAvailabilityRange.end})):c&&(b=b.segmentAvailabilityRange.end,O.setExpectedLiveEdge(b),V.updateManifestUpdateInfo({presentationStartTime:b}))}function g(c,d){b();for(var e=0,g=C.length;e<g;e++)f(C[e],c),d&&x.trigger(m.default.REPRESENTATION_UPDATE_STARTED,
 {sender:z,representation:C[e]})}function K(){w=!0;x.trigger(m.default.DATA_UPDATE_STARTED,{sender:z})}function H(b){w=!1;var c={sender:z,data:B,currentRepresentation:J};b&&(c.error=b);x.trigger(m.default.DATA_UPDATE_COMPLETED,c)}function S(b){x.trigger(m.default.AST_IN_FUTURE,{delay:b});setTimeout(function(){w||(K(),C.forEach(function(b){b.segmentAvailabilityRange=null}),g(I.getIsDynamic(),!0))},b)}function L(b){if(b.sender.getType()===ea&&b.sender.getStreamInfo().id===ca&&w)if(b.error)H(b.error);
 else{var c=b.sender.getStreamInfo();b=b.representation;var e=V.getCurrentManifestUpdate(),f=!1,g=0,k=void 0;b.adaptation.period.mpd.manifest.type!==l.default.DYNAMIC||b.adaptation.period.mpd.manifest.ignorePostponeTimePeriod||(g=b.segmentAvailabilityRange.end-b.segmentAvailabilityRange.start,g=1E3*(I.computeLiveDelay(J.segmentDuration,c.manifestInfo.DVRWindowSize)-g));if(0<g)return S(g),void H(new p.default(h.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE,h.default.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE));
 if(e){for(g=0;g<e.representationInfo.length;g++)if((k=e.representationInfo[g]).index===b.index&&k.mediaType===ea){f=!0;break}f||V.addManifestUpdateRepresentationInfo(b,ea)}a:{b=0;for(e=C.length;b<e;b++)if(f=C[b].segmentInfoType,null===C[b].segmentAvailabilityRange||!C[b].hasInitialization()||(f===l.default.SEGMENT_BASE||f===l.default.BASE_URL)&&!C[b].segments){b=!1;break a}b=!0}!b||(N.setPlaybackQuality(ea,c,C.indexOf(J)),V.updateManifestUpdateInfo({latency:J.segmentAvailabilityRange.end-I.getTime()}),
 V.getCurrentRepresentationSwitch(J.adaptation.type)||d(),H())}}function y(b){b.isDynamic&&g(b.isDynamic)}function G(b){b.mediaType===ea&&ca===b.streamInfo.id&&(J=e(b.newQuality),d())}function F(b){if(b.newDuration){var c=J;c&&c.adaptation.period&&(c.adaptation.period.duration=b.newDuration)}}var E=this.context,x=(0,n.default)(E).getInstance(),z=void 0,B=void 0,w=void 0,C=void 0,J=void 0,N=void 0,I=void 0,O=void 0,V=void 0,ea=void 0,ca=void 0,Z=void 0;return z={setConfig:function(b){b.abrController&&
 (N=b.abrController);b.dashMetrics&&(V=b.dashMetrics);b.playbackController&&(I=b.playbackController);b.timelineConverter&&(O=b.timelineConverter);b.manifestModel&&(Z=b.manifestModel);b.type&&(ea=b.type);b.streamId&&(ca=b.streamId)},getData:function(){return B},isUpdating:function(){return w},updateData:function(c,d,f,h){b();K();C=d;J=e(h);B=c;f===k.default.VIDEO||f===k.default.AUDIO||f===k.default.FRAGMENTED_TEXT?g(I.getIsDynamic(),!0):H()},updateRepresentation:f,getCurrentRepresentation:function(){return J},
 getRepresentationForQuality:e,getType:function(){return ea},getStreamId:function(){return ca},reset:function(){x.off(m.default.QUALITY_CHANGE_REQUESTED,G,z);x.off(m.default.REPRESENTATION_UPDATE_COMPLETED,L,z);x.off(m.default.WALLCLOCK_TIME_UPDATED,y,z);x.off(m.default.MANIFEST_VALIDITY_CHANGED,F,z);c()}},c(),x.on(m.default.QUALITY_CHANGE_REQUESTED,G,z),x.on(m.default.REPRESENTATION_UPDATE_COMPLETED,L,z),x.on(m.default.WALLCLOCK_TIME_UPDATED,y,z),x.on(m.default.MANIFEST_VALIDITY_CHANGED,F,z),z}Object.defineProperty(d,
 "__esModule",{value:!0});var k=e(b(107)),h=e(b(52)),l=e(b(62)),p=e(b(174)),n=e(b(47)),m=e(b(55));b=e(b(48));g.__dashjs_factory_name="RepresentationController";d.default=b.default.getClassFactory(g);c.exports=d.default},{107:107,174:174,47:47,48:48,52:52,55:55,62:62}],64:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){b=b||{};var c,d,e=this.context,f=b.dashMetrics,g=b.mediaPlayerModel,h=b.errHandler,u=b.baseURLController,y=void 0,G=void 0;return c={initialize:function(c){G.initialize();
 y[k.default.SEGMENT_TIMELINE]=(0,l.default)(e).create(b,c);y[k.default.SEGMENT_TEMPLATE]=(0,p.default)(e).create(b,c);y[k.default.SEGMENT_LIST]=(0,n.default)(e).create(b,c);y[k.default.SEGMENT_BASE]=(0,m.default)(e).create(b,c)},update:function(b,c,d,e){d||G.loadInitialization(b);e||G.loadSegments(b,c,b?b.indexRange:null)},getSegmentByIndex:function(b,c,d){var e=b?b.segments?y[k.default.SEGMENT_BASE]:y[b.segmentInfoType]:null;return e?e.getSegmentByIndex(b,c,d):null},getSegmentByTime:function(b,c){var d=
 b?b.segments?y[k.default.SEGMENT_BASE]:y[b.segmentInfoType]:null;return d?d.getSegmentByTime(b,c):null}},y={},(d=b.mimeType,G="webm"===(d?d.split("/")[1]:"").toLowerCase()?(0,r.default)(e).getInstance():(0,t.default)(e).getInstance()).setConfig({baseURLController:u,dashMetrics:f,mediaPlayerModel:g,errHandler:h}),c}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(62)),h=e(b(48)),l=e(b(83)),p=e(b(81)),n=e(b(77)),m=e(b(79)),t=e(b(60)),r=e(b(61));g.__dashjs_factory_name="SegmentsController";
 b=h.default.getClassFactory(g);d.default=b;c.exports=d.default},{48:48,60:60,61:61,62:62,77:77,79:79,81:81,83:83}],65:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b,c){var d=void 0;var e=void 0;var f,l=void 0,n=!1,m=!1;if(!b)throw Error("adaptation is not defined");if(!c)throw Error("type is not defined");if(b.hasOwnProperty("ContentComponent_asArray")&&(e=b.ContentComponent_asArray),f=c!==k.default.TEXT?new RegExp(c):/(vtt|ttml)/,b.Representation_asArray&&
 b.Representation_asArray.length&&0<b.Representation_asArray.length){var p=g(b.Representation_asArray[0]);if(p&&0<p.length&&0<=y.THUMBNAILS_SCHEME_ID_URIS.indexOf(p[0].schemeIdUri))return c===k.default.IMAGE;if(b.Representation_asArray[0].hasOwnProperty(h.default.CODECS)&&(0===(l=b.Representation_asArray[0].codecs).search(k.default.STPP)||0===l.search(k.default.WVTT)))return c===k.default.FRAGMENTED_TEXT}if(e){if(1<e.length)return c===k.default.MUXED;e[0]&&e[0].contentType===c&&(m=n=!0)}if(b.hasOwnProperty(h.default.MIME_TYPE)&&
 (n=f.test(b.mimeType),m=!0),!m)for(c=0,e=b.Representation_asArray&&b.Representation_asArray.length?b.Representation_asArray.length:0;!m&&c<e;)(d=b.Representation_asArray[c]).hasOwnProperty(h.default.MIME_TYPE)&&(n=f.test(d.mimeType),m=!0),c++;return n}function c(b){return"text/vtt"===b||"application/ttml+xml"===b}function d(b){return b&&Array.isArray(b.Representation_asArray)&&b.Representation_asArray.sort(function(b,c){return b.bandwidth-c.bandwidth}),b}function e(b,c){return b&&b.Period_asArray&&
 M(c)&&b.Period_asArray[c]?b.Period_asArray[c].AdaptationSet_asArray:[]}function f(b){var c=!1;return b&&b.hasOwnProperty("type")&&(c=b.type===h.default.DYNAMIC),c}function g(b){return b&&b.EssentialProperty_asArray&&b.EssentialProperty_asArray.length?b.EssentialProperty_asArray.map(function(b){return{schemeIdUri:b.schemeIdUri,value:b.value}}):null}function K(b){if(b&&b.period&&M(b.period.index)){var c=b.period.mpd.manifest.Period_asArray[b.period.index];if(c&&c.AdaptationSet_asArray&&M(b.index))return d(c.AdaptationSet_asArray[b.index])}}
 function C(b){b=b.S_asArray[b.S_asArray.length-1];return!b.hasOwnProperty("r")||0<=b.r}function J(b,c){var d=[],e;if(!b)return d;for(e=0;e<b.length;e++){var f=new q.default;if(f.timescale=1,f.representation=c,!b[e].hasOwnProperty(k.default.SCHEME_ID_URI))throw Error("Invalid EventStream. SchemeIdUri has to be set");f.schemeIdUri=b[e].schemeIdUri;b[e].hasOwnProperty(h.default.TIMESCALE)&&(f.timescale=b[e].timescale);b[e].hasOwnProperty(h.default.VALUE)&&(f.value=b[e].value);d.push(f)}return d}function N(b){var c=
 [],d=!1;return(b.BaseURL_asArray||[b.baseUri]).some(function(e){if(e){var f=new u.default,g=e.__text||e;return Z.isRelative(g)&&(d=!0,b.baseUri&&(g=Z.resolve(g,b.baseUri))),f.url=g,e.hasOwnProperty(h.default.SERVICE_LOCATION)&&e.serviceLocation.length?f.serviceLocation=e.serviceLocation:f.serviceLocation=g,e.hasOwnProperty(h.default.DVB_PRIORITY)&&(f.dvb_priority=e[h.default.DVB_PRIORITY]),e.hasOwnProperty(h.default.DVB_WEIGHT)&&(f.dvb_weight=e[h.default.DVB_WEIGHT]),e.hasOwnProperty(h.default.AVAILABILITY_TIME_OFFSET)&&
 (f.availabilityTimeOffset=e[h.default.AVAILABILITY_TIME_OFFSET]),e.hasOwnProperty(h.default.AVAILABILITY_TIME_COMPLETE)&&(f.availabilityTimeComplete="false"!==e[h.default.AVAILABILITY_TIME_COMPLETE]),c.push(f),d}}),c}var I=void 0,O=void 0,V=void 0,ea=void 0,ca=this.context,Z=(0,R.default)(ca).getInstance(),M=Number.isInteger||function(b){return"number"==typeof b&&isFinite(b)&&Math.floor(b)===b};return I={getIsTypeOf:b,getIsTextTrack:c,getLanguageForAdaptation:function(b){var c="";return b&&b.hasOwnProperty(h.default.LANG)&&
 (c=b.lang.replace(/[^A-Za-z0-9-]/g,"")),c},getViewpointForAdaptation:function(b){return b&&b.hasOwnProperty(h.default.VIEWPOINT)?b.Viewpoint:null},getRolesForAdaptation:function(b){return b&&b.hasOwnProperty(h.default.ROLE_ASARRAY)?b.Role_asArray:[]},getAccessibilityForAdaptation:function(b){return b&&b.hasOwnProperty(h.default.ACCESSIBILITY_ASARRAY)?b.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(b){return b&&b.hasOwnProperty(h.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?
 b.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(b){return b&&b.hasOwnProperty(h.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?b.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(b,c,d){c=e(c,d);return 0<c.length&&M(b)?c[b]:null},getIndexForAdaptation:function(b,c,d){if(!b)return-1;c=e(c,d);for(d=0;d<c.length;d++)if((0,v.default)(ca).getInstance().areEqual(c[d],b))return d;return-1},getAdaptationForId:function(b,c,d){d=e(c,d);var f=0;for(c=
 d.length;f<c;f++)if(d[f].hasOwnProperty(h.default.ID)&&d[f].id===b)return d[f];return null},getAdaptationsForType:function(c,f,g){f=e(c,f);var h=[];var k=0;for(c=f.length;k<c;k++)b(f[k],g)&&h.push(d(f[k]));return h},getCodec:function(b,c,d){var e=null;b&&b.Representation_asArray&&0<b.Representation_asArray.length&&(b=M(c)&&0<=c&&c<b.Representation_asArray.length?b.Representation_asArray[c]:b.Representation_asArray[0])&&(e=b.mimeType+';codecs="'+b.codecs+'"',d&&void 0!==b.width&&(e+=';width="'+b.width+
 '";height="'+b.height+'"'));return e},getMimeType:function(b){return b&&b.Representation_asArray&&0<b.Representation_asArray.length?b.Representation_asArray[0].mimeType:null},getKID:function(b){return b&&b.hasOwnProperty(h.default.CENC_DEFAULT_KID)?b[h.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(b){if(!b||!Array.isArray(b.Label_asArray))return[];for(var c=[],d=0;d<b.Label_asArray.length;d++)c.push({lang:b.Label_asArray[d].lang,text:b.Label_asArray[d].__text||b.Label_asArray[d]});
 return c},getContentProtectionData:function(b){return b&&b.hasOwnProperty(h.default.CONTENTPROTECTION_ASARRAY)&&0!==b.ContentProtection_asArray.length?b.ContentProtection_asArray:null},getIsDynamic:f,hasProfile:function(b,c){var d=!1;return b&&b.profiles&&0<b.profiles.length&&(d=-1!==b.profiles.indexOf(c)),d},getDuration:function(b){return b&&b.hasOwnProperty(h.default.MEDIA_PRESENTATION_DURATION)?b.mediaPresentationDuration:b&&"dynamic"==b.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},
 getBandwidth:function(b){return b&&b.bandwidth?b.bandwidth:NaN},getManifestUpdatePeriod:function(b){var c=1>=arguments.length||void 0===arguments[1]?0:arguments[1],d=NaN;return b&&b.hasOwnProperty(h.default.MINIMUM_UPDATE_PERIOD)&&(d=b.minimumUpdatePeriod),isNaN(d)?d:Math.max(d-c,1)},getRepresentationCount:function(b){return b&&Array.isArray(b.Representation_asArray)?b.Representation_asArray.length:0},getBitrateListForAdaptation:function(b){b=d(b);return(b&&Array.isArray(b.Representation_asArray)?
 b.Representation_asArray:[]).map(function(b){return{bandwidth:b.bandwidth,width:b.width||0,height:b.height||0,scanType:b.scanType||null}})},getRepresentationFor:function(b,c){return c&&c.Representation_asArray&&0<c.Representation_asArray.length&&M(b)?c.Representation_asArray[b]:null},getRepresentationsForAdaptation:function(b){var d,e,f=[],k=K(b),n=void 0,m=void 0;if(k&&k.Representation_asArray){if(b&&b.period&&M(b.period.index)){var p=N(b.period.mpd.manifest);p&&(m=p[0])}p=0;for(var q=k.Representation_asArray.length;p<
 q;++p){var r=k.Representation_asArray[p],v=new l.default;if(v.index=p,v.adaptation=b,r.hasOwnProperty(h.default.ID)&&(v.id=r.id),r.hasOwnProperty(h.default.CODECS)&&(v.codecs=r.codecs),r.hasOwnProperty(h.default.CODEC_PRIVATE_DATA)&&(v.codecPrivateData=r.codecPrivateData),r.hasOwnProperty(h.default.BANDWITH)&&(v.bandwidth=r.bandwidth),r.hasOwnProperty(h.default.WIDTH)&&(v.width=r.width),r.hasOwnProperty(h.default.HEIGHT)&&(v.height=r.height),r.hasOwnProperty(h.default.SCAN_TYPE)&&(v.scanType=r.scanType),
 r.hasOwnProperty(h.default.MAX_PLAYOUT_RATE)&&(v.maxPlayoutRate=r.maxPlayoutRate),r.hasOwnProperty(h.default.SEGMENT_BASE)?(n=r.SegmentBase,v.segmentInfoType=h.default.SEGMENT_BASE):r.hasOwnProperty(h.default.SEGMENT_LIST)?(n=r.SegmentList).hasOwnProperty(h.default.SEGMENT_TIMELINE)?(v.segmentInfoType=h.default.SEGMENT_TIMELINE,v.useCalculatedLiveEdgeTime=C(n.SegmentTimeline)):(v.segmentInfoType=h.default.SEGMENT_LIST,v.useCalculatedLiveEdgeTime=!0):r.hasOwnProperty(h.default.SEGMENT_TEMPLATE)?((n=
 r.SegmentTemplate).hasOwnProperty(h.default.SEGMENT_TIMELINE)?(v.segmentInfoType=h.default.SEGMENT_TIMELINE,v.useCalculatedLiveEdgeTime=C(n.SegmentTimeline)):v.segmentInfoType=h.default.SEGMENT_TEMPLATE,n.hasOwnProperty(h.default.INITIALIZATION_MINUS)&&(v.initialization=n.initialization.split("$Bandwidth$").join(r.bandwidth).split("$RepresentationID$").join(r.id))):v.segmentInfoType=h.default.BASE_URL,v.essentialProperties=g(r),n)n.hasOwnProperty(h.default.INITIALIZATION)?(r=n.Initialization,r.hasOwnProperty(h.default.SOURCE_URL)&&
 (v.initialization=r.sourceURL),r.hasOwnProperty(h.default.RANGE)&&(v.range=r.range)):r.hasOwnProperty(h.default.MIME_TYPE)&&c(r.mimeType)&&(v.range=0),n.hasOwnProperty(h.default.TIMESCALE)&&(v.timescale=n.timescale),n.hasOwnProperty(h.default.DURATION)&&(v.segmentDuration=n.duration/v.timescale),n.hasOwnProperty(h.default.MEDIA)&&(v.media=n.media),n.hasOwnProperty(h.default.START_NUMBER)&&(v.startNumber=n.startNumber),n.hasOwnProperty(h.default.INDEX_RANGE)&&(v.indexRange=n.indexRange),n.hasOwnProperty(h.default.PRESENTATION_TIME_OFFSET)&&
 (v.presentationTimeOffset=n.presentationTimeOffset/v.timescale),n.hasOwnProperty(h.default.AVAILABILITY_TIME_OFFSET)?v.availabilityTimeOffset=n.availabilityTimeOffset:m&&void 0!==m.availabilityTimeOffset&&(v.availabilityTimeOffset=m.availabilityTimeOffset),n.hasOwnProperty(h.default.AVAILABILITY_TIME_COMPLETE)?v.availabilityTimeComplete="false"!==n.availabilityTimeComplete:m&&void 0!==m.availabilityTimeComplete&&(v.availabilityTimeComplete=m.availabilityTimeComplete);v.MSETimeOffset=(void 0,e=(d=
 v).presentationTimeOffset,d.adaptation.period.start-e);v.path=[b.period.index,b.index,p];f.push(v)}}return f},getAdaptationsForPeriod:function(c){var d=c&&M(c.index)?c.mpd.manifest.Period_asArray[c.index]:null,e=[],f;if(d&&d.AdaptationSet_asArray)for(f=0;f<d.AdaptationSet_asArray.length;f++){var g=d.AdaptationSet_asArray[f];var l=new p.default;g.hasOwnProperty(h.default.ID)&&(l.id=g.id);l.index=f;l.period=c;b(g,k.default.MUXED)?l.type=k.default.MUXED:b(g,k.default.AUDIO)?l.type=k.default.AUDIO:b(g,
 k.default.VIDEO)?l.type=k.default.VIDEO:b(g,k.default.FRAGMENTED_TEXT)?l.type=k.default.FRAGMENTED_TEXT:b(g,k.default.IMAGE)?l.type=k.default.IMAGE:l.type=k.default.TEXT;e.push(l)}return e},getRegularPeriods:function(b){var c,d=!!b&&f(b.manifest),e=[],g=null,l=null,m=null,p=null;var q=0;for(c=b&&b.manifest&&b.manifest.Period_asArray?b.manifest.Period_asArray.length:0;q<c;q++){(l=b.manifest.Period_asArray[q]).hasOwnProperty(h.default.START)?(p=new n.default).start=l.start:null!==g&&g.hasOwnProperty(h.default.DURATION)&&
 null!==m?(p=new n.default).start=parseFloat((m.start+m.duration).toFixed(5)):0!==q||d||((p=new n.default).start=0);null!==m&&isNaN(m.duration)&&(null!==p?m.duration=parseFloat((p.start-m.start).toFixed(5)):O.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback"));if(null!==p){m=p;var r=l;if(!r)throw Error("Period cannot be null or undefined");g=n.default.DEFAULT_ID+"_"+q;r=(r.hasOwnProperty(h.default.ID)&&
 0<r.id.length&&"__proto__"!==r.id&&(g=r.id),g);m.id=r;p.index=q;p.mpd=b;l.hasOwnProperty(h.default.DURATION)&&(p.duration=l.duration);e.push(p);g=l;m=p}p=l=null}if(0!==e.length&&null!==m&&isNaN(m.duration)){b=m;c=parseFloat;d=m;if(!V||!V.hasOwnProperty("error"))throw Error(k.default.MISSING_CONFIG_ERROR);!0;l=f(d.mpd.manifest);p=void 0;d.mpd.manifest.mediaPresentationDuration?p=d.mpd.manifest.mediaPresentationDuration:d.duration?p=d.duration:l?p=Number.POSITIVE_INFINITY:V.error(new S.default(L.default.MANIFEST_ERROR_ID_PARSE_CODE,
 "Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",d));b.duration=c((p-m.start).toFixed(5))}return e},getMpd:function(b){var c=new m.default;return b&&((c.manifest=b).hasOwnProperty(h.default.AVAILABILITY_START_TIME)?c.availabilityStartTime=new Date(b.availabilityStartTime.getTime()):b.loadedTime&&(c.availabilityStartTime=new Date(b.loadedTime.getTime())),b.hasOwnProperty(h.default.AVAILABILITY_END_TIME)&&(c.availabilityEndTime=new Date(b.availabilityEndTime.getTime())),
 b.hasOwnProperty(h.default.MINIMUM_UPDATE_PERIOD)&&(c.minimumUpdatePeriod=b.minimumUpdatePeriod),b.hasOwnProperty(h.default.MEDIA_PRESENTATION_DURATION)&&(c.mediaPresentationDuration=b.mediaPresentationDuration),b.hasOwnProperty(k.default.SUGGESTED_PRESENTATION_DELAY)&&(c.suggestedPresentationDelay=b.suggestedPresentationDelay),b.hasOwnProperty(h.default.TIMESHIFT_BUFFER_DEPTH)&&(c.timeShiftBufferDepth=b.timeShiftBufferDepth),b.hasOwnProperty(h.default.MAX_SEGMENT_DURATION)&&(c.maxSegmentDuration=
 b.maxSegmentDuration)),c},getEventsForPeriod:function(b){var c=b&&b.mpd&&b.mpd.manifest?b.mpd.manifest:null;c=(c=c?c.Period_asArray:null)&&b&&M(b.index)?c[b.index].EventStream_asArray:null;var d=[],e,f;if(c)for(e=0;e<c.length;e++){var g=new q.default;if(g.period=b,g.timescale=1,!c[e].hasOwnProperty(k.default.SCHEME_ID_URI))throw Error("Invalid EventStream. SchemeIdUri has to be set");g.schemeIdUri=c[e].schemeIdUri;c[e].hasOwnProperty(h.default.TIMESCALE)&&(g.timescale=c[e].timescale);c[e].hasOwnProperty(h.default.VALUE)&&
 (g.value=c[e].value);for(f=0;c[e].Event_asArray&&f<c[e].Event_asArray.length;f++){var l=new r.default;l.presentationTime=0;l.eventStream=g;c[e].Event_asArray[f].hasOwnProperty(h.default.PRESENTATION_TIME)&&(l.presentationTime=c[e].Event_asArray[f].presentationTime);c[e].Event_asArray[f].hasOwnProperty(h.default.DURATION)&&(l.duration=c[e].Event_asArray[f].duration);c[e].Event_asArray[f].hasOwnProperty(h.default.ID)&&(l.id=c[e].Event_asArray[f].id);c[e].Event_asArray[f].Signal&&c[e].Event_asArray[f].Signal.Binary?
 l.messageData=ea.decodeArray(c[e].Event_asArray[f].Signal.Binary.toString()):l.messageData=c[e].Event_asArray[f].messageData||c[e].Event_asArray[f].__text;d.push(l)}}return d},getEventStreamForAdaptationSet:function(b,c){var d=void 0,e=void 0,f=void 0;return b&&b.Period_asArray&&c&&c.period&&M(c.period.index)&&(e=b.Period_asArray[c.period.index])&&e.AdaptationSet_asArray&&M(c.index)&&(f=e.AdaptationSet_asArray[c.index])&&(d=f.InbandEventStream_asArray),J(d,null)},getEventStreamForRepresentation:function(b,
 c){var d=void 0,e=void 0,f=void 0,g=void 0;return b&&b.Period_asArray&&c&&c.adaptation&&c.adaptation.period&&M(c.adaptation.period.index)&&(e=b.Period_asArray[c.adaptation.period.index])&&e.AdaptationSet_asArray&&M(c.adaptation.index)&&(f=e.AdaptationSet_asArray[c.adaptation.index])&&f.Representation_asArray&&M(c.index)&&(g=f.Representation_asArray[c.index])&&(d=g.InbandEventStream_asArray),J(d,c)},getUTCTimingSources:function(b){var c=f(b),d=!!b&&b.hasOwnProperty(h.default.AVAILABILITY_START_TIME);
 b=b?b.UTCTiming_asArray:null;var e=[];return(c||d)&&b&&b.forEach(function(b){var c=new t.default;b.hasOwnProperty(k.default.SCHEME_ID_URI)&&(c.schemeIdUri=b.schemeIdUri,b.hasOwnProperty(h.default.VALUE)&&(c.value=b.value.toString(),e.push(c)))}),e},getBaseURLsFromElement:N,getRepresentationSortFunction:function(){return function(b,c){return b.bandwidth-c.bandwidth}},getLocation:function(b){if(b&&b.hasOwnProperty(k.default.LOCATION))return b.Location=b.Location_asArray[0],b.Location},getUseCalculatedLiveEdgeTimeForAdaptation:function(b){b=
 (b=K(b))&&Array.isArray(b.Representation_asArray)?b.Representation_asArray[0]:null;var c=void 0;if(b){if(b.hasOwnProperty(h.default.SEGMENT_LIST))return!(c=b.SegmentList).hasOwnProperty(h.default.SEGMENT_TIMELINE)||C(c.SegmentTimeline);if(b.hasOwnProperty(h.default.SEGMENT_TEMPLATE)&&(c=b.SegmentTemplate).hasOwnProperty(h.default.SEGMENT_TIMELINE))return C(c.SegmentTimeline)}return!1},getSuggestedPresentationDelay:function(b){return b&&b.hasOwnProperty(h.default.SUGGESTED_PRESENTATION_DELAY)?b.suggestedPresentationDelay:
 null},getAvailabilityStartTime:function(b){return b&&b.hasOwnProperty(h.default.AVAILABILITY_START_TIME)&&null!==b.availabilityStartTime?b.availabilityStartTime.getTime():null},getServiceDescriptions:function(b){var c=[];if(b&&b.hasOwnProperty(h.default.SERVICE_DESCRIPTION)){var d=!0,e=!1,f=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var g,l=b.ServiceDescription_asArray[Symbol.iterator]();!(d=(g=l.next()).done);d=!0){var n=g.value,m=b=void 0,p=void 0,q=void 0,r;for(r in n)n.hasOwnProperty(r)&&
 (r===h.default.ID?b=n[r]:r===h.default.SERVICE_DESCRIPTION_SCOPE?m=n[r].schemeIdUri:r===h.default.SERVICE_DESCRIPTION_LATENCY?p={target:n[r].target,max:n[r].max,min:n[r].min}:r===h.default.SERVICE_DESCRIPTION_PLAYBACK_RATE&&(q={max:n[r].max,min:n[r].min}));m===k.default.SERVICE_DESCRIPTION_LL_SCHEME&&(p||q)&&c.push({id:b,schemeIdUri:m,latency:p,playbackRate:q})}}catch(Oa){e=!0,f=Oa}finally{try{!d&&l.return&&l.return()}finally{if(e)throw f;}}}return c},getSupplementalPropperties:function(b){var c=
 {};if(b&&b.hasOwnProperty(h.default.SUPPLEMENTAL_PROPERTY)){var d=!0,e=!1,f=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var g,l=b.SupplementalProperty_asArray[Symbol.iterator]();!(d=(g=l.next()).done);d=!0){var n=g.value;n.hasOwnProperty(k.default.SCHEME_ID_URI)&&n.hasOwnProperty(h.default.VALUE)&&(c[n[k.default.SCHEME_ID_URI]]=n[h.default.VALUE])}}catch(ba){e=!0,f=ba}finally{try{!d&&l.return&&l.return()}finally{if(e)throw f;}}}return c},setConfig:function(b){b&&(b.errHandler&&
 (V=b.errHandler),b.BASE64&&(ea=b.BASE64))}},O=(0,H.default)(ca).getInstance().getLogger(I),I}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(62)),l=e(b(92)),p=e(b(84)),n=e(b(91)),m=e(b(90)),t=e(b(96)),r=e(b(86)),u=e(b(85)),q=e(b(87)),v=e(b(165)),R=e(b(169)),K=e(b(48)),H=e(b(46)),S=e(b(174)),L=e(b(52)),y=b(154);g.__dashjs_factory_name="DashManifestModel";d.default=K.default.getSingletonFactory(g);c.exports=d.default},{107:107,154:154,165:165,169:169,174:174,46:46,48:48,52:52,
 62:62,84:84,85:85,86:86,87:87,90:90,91:91,92:92,96:96}],66:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=this.context,c=void 0,d=void 0,e=void 0,f=void 0,g=void 0;return c={parse:function(b){var c=window.performance.now();if(!(b=f.xml_str2json(b)))throw Error("parsing the manifest failed");var e=window.performance.now();g.run(b);var h=window.performance.now();return d.info("Parsing complete: ( xml2json: "+(e-c).toPrecision(3)+"ms, objectiron: "+(h-e).toPrecision(3)+
 "ms, total: "+((h-c)/1E3).toPrecision(3)+"s)"),b},getMatchers:function(){return e},getIron:function(){return g}},d=(0,h.default)(b).getInstance().getLogger(c),e=[new m.default,new t.default,new r.default,new n.default],f=new p.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!0,matchers:e}),g=(0,l.default)(b).create({adaptationset:new u.default,period:new q.default}),c}Object.defineProperty(d,"__esModule",
 {value:!0});var k=e(b(48)),h=e(b(46)),l=e(b(76)),p=e(b(3)),n=e(b(75)),m=e(b(73)),t=e(b(72)),r=e(b(74)),u=e(b(69)),q=e(b(70));g.__dashjs_factory_name="DashParser";d.default=k.default.getClassFactory(g);c.exports=d.default},{3:3,46:46,48:48,69:69,70:70,72:72,73:73,74:74,75:75,76:76}],67:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(b){if(!(this instanceof
 g))throw new TypeError("Cannot call a class as a function");!0;this._merge=(this._name=b)&&b.length&&b.charAt(0)===b.charAt(0).toUpperCase()}Object.defineProperty(d,"__esModule",{value:!0});b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),g);d.default=b;c.exports=d.default},{}],68:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=
 !0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(b,c,d){var e=this;if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this._name=b||"";this._properties=[];this._children=d||[];Array.isArray(c)&&c.forEach(function(b){e._properties.push(new h.default(b))})}Object.defineProperty(d,"__esModule",{value:!0});var k,h=(k=b(67))&&k.__esModule?k:{default:k};b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"name",get:function(){return this._name}},
 {key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),g);d.default=b;c.exports=d.default},{67:67}],69:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;var b=[h.default.PROFILES,h.default.WIDTH,h.default.HEIGHT,h.default.SAR,h.default.FRAMERATE,h.default.AUDIO_SAMPLING_RATE,h.default.MIME_TYPE,h.default.SEGMENT_PROFILES,h.default.CODECS,
 h.default.MAXIMUM_SAP_PERIOD,h.default.START_WITH_SAP,h.default.MAX_PLAYOUT_RATE,h.default.CODING_DEPENDENCY,h.default.SCAN_TYPE,h.default.FRAME_PACKING,h.default.AUDIO_CHANNEL_CONFIGURATION,h.default.CONTENT_PROTECTION,h.default.ESSENTIAL_PROPERTY,h.default.SUPPLEMENTAL_PROPERTY,h.default.INBAND_EVENT_STREAM];a:{var c=Object.getPrototypeOf(g.prototype),d="constructor";var e=this;for(var f=!0;f;){null===c&&(c=Function.prototype);f=Object.getOwnPropertyDescriptor(c,d);if(void 0!==f){if("value"in f){e=
 f.value;break a}d=f.get;if(void 0===d)break;e=d.call(e);break a}c=Object.getPrototypeOf(c);if(null===c)break;f=!0}e=void 0}e.call(this,h.default.ADAPTATION_SET,b,[new k.default(h.default.REPRESENTATION,b,[new k.default(h.default.SUB_REPRESENTATION,b)])])}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(68)),h=e(b(62));b=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,
 {constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(g,k.default),g);d.default=b;c.exports=d.default},{62:62,68:68}],70:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;var b=[h.default.SEGMENT_BASE,h.default.SEGMENT_TEMPLATE,h.default.SEGMENT_LIST];a:{var c=Object.getPrototypeOf(g.prototype),d="constructor";
 var e=this;for(var f=!0;f;){null===c&&(c=Function.prototype);f=Object.getOwnPropertyDescriptor(c,d);if(void 0!==f){if("value"in f){e=f.value;break a}d=f.get;if(void 0===d)break;e=d.call(e);break a}c=Object.getPrototypeOf(c);if(null===c)break;f=!0}e=void 0}e.call(this,h.default.PERIOD,b,[new k.default(h.default.ADAPTATION_SET,b,[new k.default(h.default.REPRESENTATION,b)])])}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(68)),h=e(b(62));b=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
 typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(g,k.default),g);d.default=b;c.exports=d.default},{62:62,68:68}],71:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(b,c){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
 !0;this._test=b;this._converter=c}Object.defineProperty(d,"__esModule",{value:!0});b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),g);d.default=b;c.exports=d.default},{}],72:[function(b,c,d){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;(function(b,c,d){for(var e=!0;e;){null===b&&(b=Function.prototype);e=Object.getOwnPropertyDescriptor(b,
 c);if(void 0!==e){if("value"in e)return e.value;c=e.get;if(void 0===c)break;return c.call(d)}b=Object.getPrototypeOf(b);if(null===b)break;e=!0}})(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,function(b){return k.test(b.value)},function(b){b=k.exec(b);var c;if(c=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],10),parseInt(b[5],10),b[6]&&parseInt(b[6],10)||0,b[7]&&1E3*parseFloat(b[7])||0),b[9]&&b[10]){var d=60*parseInt(b[9],10)+parseInt(b[10],10);c+=
 ("+"===b[8]?-1:1)*d*6E4}return new Date(c)})}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(71))&&g.__esModule?g:{default:g};var k=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;g=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
 c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(e,b.default),e);d.default=g;c.exports=d.default},{71:71}],73:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;(function(b,c,d){for(var e=!0;e;){null===b&&(b=Function.prototype);e=Object.getOwnPropertyDescriptor(b,c);if(void 0!==e){if("value"in e)return e.value;c=e.get;if(void 0===c)break;return c.call(d)}b=Object.getPrototypeOf(b);
 if(null===b)break;e=!0}})(Object.getPrototypeOf(g.prototype),"constructor",this).call(this,function(b){for(var c=[l.default.MIN_BUFFER_TIME,l.default.MEDIA_PRESENTATION_DURATION,l.default.MINIMUM_UPDATE_PERIOD,l.default.TIMESHIFT_BUFFER_DEPTH,l.default.MAX_SEGMENT_DURATION,l.default.MAX_SUBSEGMENT_DURATION,h.default.SUGGESTED_PRESENTATION_DELAY,l.default.START,h.default.START_TIME,l.default.DURATION],d=c.length,e=0;e<d;e++)if(b.nodeName===c[e])return p.test(b.value);return!1},function(b){b=p.exec(b);
 var c=31536E3*parseFloat(b[3]||0)+2592E3*parseFloat(b[5]||0)+86400*parseFloat(b[7]||0)+3600*parseFloat(b[9]||0)+60*parseFloat(b[11]||0)+parseFloat(b[13]||0);return void 0!==b[1]&&(c=-c),c})}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(71)),h=e(b(107)),l=e(b(62)),p=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;b=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);
 b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(g,k.default),g);d.default=b;c.exports=d.default},{107:107,62:62,71:71}],74:[function(b,c,d){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;(function(b,c,d){for(var e=!0;e;){null===b&&(b=Function.prototype);e=Object.getOwnPropertyDescriptor(b,c);if(void 0!==e){if("value"in e)return e.value;
 c=e.get;if(void 0===c)break;return c.call(d)}b=Object.getPrototypeOf(b);if(null===b)break;e=!0}})(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,function(b){return k.test(b.value)},function(b){return parseFloat(b)})}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(71))&&g.__esModule?g:{default:g};var k=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;g=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
 typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(e,b.default),e);d.default=g;c.exports=d.default},{71:71}],75:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b,c,d){return c in b?Object.defineProperty(b,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[c]=d,b}function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");
 !0;(function(b,c,d){for(var e=!0;e;){null===b&&(b=Function.prototype);e=Object.getOwnPropertyDescriptor(b,c);if(void 0!==e){if("value"in e)return e.value;c=e.get;if(void 0===c)break;return c.call(d)}b=Object.getPrototypeOf(b);if(null===b)break;e=!0}})(Object.getPrototypeOf(k.prototype),"constructor",this).call(this,function(b,c){var d,e=(g(d={},l.default.MPD,[l.default.ID,l.default.PROFILES]),g(d,l.default.PERIOD,[l.default.ID]),g(d,l.default.BASE_URL,[l.default.SERVICE_LOCATION,l.default.BYTE_RANGE]),
 g(d,l.default.SEGMENT_BASE,[l.default.INDEX_RANGE]),g(d,l.default.INITIALIZATION,[l.default.RANGE]),g(d,l.default.REPRESENTATION_INDEX,[l.default.RANGE]),g(d,l.default.SEGMENT_LIST,[l.default.INDEX_RANGE]),g(d,l.default.BITSTREAM_SWITCHING,[l.default.RANGE]),g(d,l.default.SEGMENT_URL,[l.default.MEDIA_RANGE,l.default.INDEX_RANGE]),g(d,l.default.SEGMENT_TEMPLATE,[l.default.INDEX_RANGE,l.default.MEDIA,l.default.INDEX,l.default.INITIALIZATION_MINUS,l.default.BITSTREAM_SWITCHING_MINUS]),g(d,l.default.ASSET_IDENTIFIER,
 [l.default.VALUE,l.default.ID]),g(d,l.default.EVENT_STREAM,[l.default.VALUE]),g(d,l.default.ADAPTATION_SET,[l.default.PROFILES,l.default.MIME_TYPE,l.default.SEGMENT_PROFILES,l.default.CODECS,l.default.CONTENT_TYPE]),g(d,l.default.FRAME_PACKING,[l.default.VALUE,l.default.ID]),g(d,l.default.AUDIO_CHANNEL_CONFIGURATION,[l.default.VALUE,l.default.ID]),g(d,l.default.CONTENT_PROTECTION,[l.default.VALUE,l.default.ID]),g(d,l.default.ESSENTIAL_PROPERTY,[l.default.VALUE,l.default.ID]),g(d,l.default.SUPPLEMENTAL_PROPERTY,
 [l.default.VALUE,l.default.ID]),g(d,l.default.INBAND_EVENT_STREAM,[l.default.VALUE,l.default.ID]),g(d,l.default.ACCESSIBILITY,[l.default.VALUE,l.default.ID]),g(d,l.default.ROLE,[l.default.VALUE,l.default.ID]),g(d,l.default.RATING,[l.default.VALUE,l.default.ID]),g(d,l.default.VIEWPOINT,[l.default.VALUE,l.default.ID]),g(d,l.default.CONTENT_COMPONENT,[l.default.CONTENT_TYPE]),g(d,l.default.REPRESENTATION,[l.default.ID,l.default.DEPENDENCY_ID,l.default.MEDIA_STREAM_STRUCTURE_ID]),g(d,l.default.SUBSET,
 [l.default.ID]),g(d,l.default.METRICS,[l.default.METRICS_MINUS]),g(d,l.default.REPORTING,[l.default.VALUE,l.default.ID]),d);return e.hasOwnProperty(c)?(c=e[c],void 0!==c&&0<=c.indexOf(b.name)):!1},function(b){return String(b)})}Object.defineProperty(d,"__esModule",{value:!0});var h=e(b(71)),l=e(b(62));b=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,
 enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(k,h.default),k);d.default=b;c.exports=d.default},{62:62,71:71}],76:[function(b,c,d){function e(b){function c(b,d){for(var e=0,f=b.children.length;e<f;++e){var g=b.children[e],h=d[g.name+"_asArray"];if(h)for(var k=0,l=h.length;k<l;++k){for(var p=h[k],R=b.properties,K=d,H=p,S=0,L=R.length;S<L;++S){var y=R[S];if(K[y.name])if(H[y.name]){if(y.merge){var G=K[y.name],F=H[y.name];if("object"==
 typeof G&&"object"==typeof F)for(y in y=void 0,G)F.hasOwnProperty(y)||(F[y]=G[y]);else H[y.name]=G+F}}else H[y.name]=K[y.name]}c(g,p)}}}return{run:function(d){if(null===d||"object"!=typeof d)return d;if("period"in b)for(var e=b.period,f=d.Period_asArray,g=0,h=f.length;g<h;++g){var k=f[g];if(c(e,k),"adaptationset"in b)if(k=k.AdaptationSet_asArray)for(var l=b.adaptationset,q=0,v=k.length;q<v;++q)c(l,k[q])}return d}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:
 {default:g};e.__dashjs_factory_name="ObjectIron";g=b.default.getClassFactory(e);d.default=g;c.exports=d.default},{48:48}],77:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b,c){function d(){if(!f||!f.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(h.default.MISSING_CONFIG_ERROR);}function e(b,e){if(d(),!b)return null;var g=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentList,
 h=g.SegmentURL_asArray.length,k=b.startNumber,n=null;e<h&&(g=g.SegmentURL_asArray[e],(n=(0,l.getIndexBasedSegment)(f,c,b,e)).replacementTime=(k+e-1)*b.segmentDuration,n.media=g.media?g.media:"",n.mediaRange=g.mediaRange,n.index=e,n.indexRange=g.indexRange);return b.availableSegmentsNumber=h,n}var f=(b=b||{}).timelineConverter;return{getSegmentByIndex:e,getSegmentByTime:function(b,c){if(d(),!b)return null;var g=b.segmentDuration;if(isNaN(g))return null;c=f.calcPeriodRelativeTimeFromMpdRelativeTime(b,
 c);return e(b,Math.floor(c/g))}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(107)),l=b(80);g.__dashjs_factory_name="ListSegmentsGetter";b=k.default.getClassFactory(g);d.default=b;c.exports=d.default},{107:107,48:48,80:80}],78:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
 !0}Object.defineProperty(d,"__esModule",{value:!0});b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,null,[{key:"round10",value:function(b,c){return void 0!==c&&0!=+c?(c=+c,null===(b=+b)||isNaN(b)||"number"!=typeof c||0!=c%1?NaN:(b=b.toString().split("e"),+((b=(b=Math.round(+(b[0]+"e"+(b[1]?+b[1]-c:-c)))).toString().split("e"))[0]+"e"+(b[1]?+b[1]+c:c)))):Math.round(b)}}]),g);d.default=b;c.exports=d.default},{}],79:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){if(!e||
 !e.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(h.default.MISSING_CONFIG_ERROR);}function d(b,d){if(c(),!b)return null;var e=b.segments?b.segments.length:-1,f=void 0;if(d<e&&(f=b.segments[d])&&f.availabilityIdx===d)return f;for(var g=0;g<e;g++)if((f=b.segments[g])&&f.availabilityIdx===d)return f;return null}var e=(b=b||{}).timelineConverter;return{getSegmentByIndex:d,getSegmentByTime:function(b,f){c();f=e.calcPeriodRelativeTimeFromMpdRelativeTime(b,f);if(b){var g=b.segments,
 h=g?g.length:null,k=-1,l=void 0,n=void 0,m=void 0,r=void 0,p;if(g&&0<h)for(p=0;p<h;p++)if(n=g[p],m=n.presentationStartTime,r=n.duration,m<=f+(l=r/2)&&f-l<m+r){k=n.availabilityIdx;break}f=k}else f=-1;return d(b,f)}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(107));g.__dashjs_factory_name="SegmentBaseGetter";b=k.default.getClassFactory(g);d.default=b;c.exports=d.default},{107:107,48:48}],80:[function(b,c,d){function e(b,c){for(;b.length<c;)b="0"+b;return b}function g(b,c,
 d){var f,g,h=void 0,k=void 0,l,n=c.length;if(!b)return b;for(;;){if(0>(f=b.indexOf("$"+c))||0>(g=b.indexOf("$",f+n)))return b;if(f<(h=b.indexOf("%0",f+n))&&h<g)switch(k=b.charAt(g-1),l=parseInt(b.substring(h+2,g-1),10),k){case "d":case "i":case "u":l=e(d.toString(),l);break;case "x":l=e(d.toString(16),l);break;case "X":l=e(d.toString(16),l).toUpperCase();break;case "o":l=e(d.toString(8),l);break;default:return b}else l=d;b=b.substring(0,f)+l+b.substring(g+1)}}function k(b,c,d,e,f,g,h,k,l){var n=new p.default;
 return n.representation=b,n.duration=c,n.presentationStartTime=d,n.mediaStartTime=e,n.availabilityStartTime=f,n.availabilityEndTime=g.calcAvailabilityEndTimeFromPresentationTime(h,b.adaptation.period.mpd,k),n.wallStartTime=g.calcWallTimeForSegment(n,k),n.replacementNumber=n.representation.startNumber+l,n.availabilityIdx=l,n}function h(b,c,d,e){var f=b.getPeriodEnd(c,e);return b.calcPeriodRelativeTimeFromMpdRelativeTime(c,f)<=b.calcPeriodRelativeTimeFromMpdRelativeTime(c,d.presentationStartTime)&&
 (!e||c.segmentAvailabilityRange&&d.presentationStartTime>=c.segmentAvailabilityRange.end)?!1:!0}Object.defineProperty(d,"__esModule",{value:!0});d.unescapeDollarsInTemplate=function(b){return b?b.split("$$").join("$"):b};d.replaceIDForTemplate=function(b,c){if(!c||!b||-1===b.indexOf("$RepresentationID$"))return b;c=c.toString();return b.split("$RepresentationID$").join(c)};d.replaceTokenForTemplate=g;d.getIndexBasedSegment=function(b,c,d,e){var f=d.segmentDuration;isNaN(f)&&(f=d.adaptation.period.duration);
 var g=parseFloat((d.adaptation.period.start+e*f).toFixed(5));var l=parseFloat((g+f).toFixed(5));e=k(d,f,g,b.calcMediaTimeFromPresentationTime(g,d),b.calcAvailabilityStartTimeFromPresentationTime(g,d.adaptation.period.mpd,c),b,l,c,e);return h(b,d,e,c)?e:null};d.getTimeBasedSegment=function(b,c,d,e,f,l,p,R,K,H){var n,m,q=e/l;f=Math.min(f/l,d.adaptation.period.mpd.maxSegmentDuration);l=void 0;return n=b.calcPresentationTimeFromMediaTime(q,d),m=n+f,l=k(d,f,n,q,d.adaptation.period.mpd.manifest.loadedTime,
 b,m,c,K),h(b,d,l,c)?(l.replacementTime=H||e,p=g(p=g(p,"Number",l.replacementNumber),"Time",l.replacementTime),l.media=p,l.mediaRange=R,l):null};var l,p=(l=b(94))&&l.__esModule?l:{default:l}},{94:94}],81:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b,c){function d(){if(!f||!f.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw Error(h.default.MISSING_CONFIG_ERROR);}function e(b,e){if(d(),!b)return null;var g=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentTemplate;
 e=Math.max(e,0);var h=(0,l.getIndexBasedSegment)(f,c,b,e);h&&(h.replacementTime=(e-1)*b.segmentDuration,e=g.media,e=(0,l.replaceTokenForTemplate)(e,"Number",h.replacementNumber),e=(0,l.replaceTokenForTemplate)(e,"Time",h.replacementTime),h.media=e);e=b.segmentDuration;g=b.segmentAvailabilityRange;return isNaN(e)?b.availableSegmentsNumber=1:b.availableSegmentsNumber=Math.ceil((g.end-g.start)/e),h}var f=(b=b||{}).timelineConverter;return{getSegmentByIndex:e,getSegmentByTime:function(b,c){if(d(),!b)return null;
 var g=b.segmentDuration;if(isNaN(g))return null;c=f.calcPeriodRelativeTimeFromMpdRelativeTime(b,c);return e(b,Math.floor(c/g))}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(107)),l=b(80);g.__dashjs_factory_name="TemplateSegmentsGetter";b=k.default.getClassFactory(g);d.default=b;c.exports=d.default},{107:107,48:48,80:80}],82:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b,c,d,e){return e?d&&c.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?
 new Date(c.availabilityStartTime.getTime()+1E3*(b+c.timeShiftBufferDepth)):c.availabilityEndTime:d?new Date(c.availabilityStartTime.getTime()+1E3*(b-g)):c.availabilityStartTime}function c(b,c){return(b.getTime()-c.mpd.availabilityStartTime.getTime()+1E3*g)/1E3}function d(b){u||void 0===b.offset||(g=b.offset/1E3,u=!0)}var e=this.context,f=(0,k.default)(e).getInstance(),g=void 0,u=void 0,q=void 0;return{initialize:function(){g=0;u=!1;q=NaN;f.on(h.default.TIME_SYNCHRONIZATION_COMPLETED,d,this)},isTimeSyncCompleted:function(){return u},
 setTimeSyncCompleted:function(b){u=b},getClientTimeOffset:function(){return g},setClientTimeOffset:function(b){g=b},getExpectedLiveEdge:function(){return q},setExpectedLiveEdge:function(b){q=b},calcAvailabilityStartTimeFromPresentationTime:function(c,d,e){return b.call(this,c,d,e)},calcAvailabilityEndTimeFromPresentationTime:function(c,d,e){return b.call(this,c,d,e,!0)},calcPresentationTimeFromWallTime:c,calcPresentationTimeFromMediaTime:function(b,c){return b+(c.adaptation.period.start-c.presentationTimeOffset)},
 calcPeriodRelativeTimeFromMpdRelativeTime:function(b,c){return c-b.adaptation.period.start},calcMediaTimeFromPresentationTime:function(b,c){return b-c.adaptation.period.start+c.presentationTimeOffset},calcSegmentAvailabilityRange:function(b,d){var e=b.adaptation.period,f={start:e.start,end:e.start+e.duration};if(!d)return f;if(!u&&b.segmentAvailabilityRange)return b.segmentAvailabilityRange;var g=b.segmentDuration||(b.segments&&b.segments.length?b.segments[b.segments.length-1].duration:0);d=c(new Date,
 e);var h=e.start+e.duration;f.start=Math.max(d-e.mpd.timeShiftBufferDepth,e.start);b=void 0!==b.availabilityTimeOffset&&b.availabilityTimeOffset<g?g-b.availabilityTimeOffset:g;return f.end=h<=d&&d-b<h?h:d-b,f},getPeriodEnd:function(b,d){var e=b.adaptation.period;if(!d)return e.start+e.duration;if(!u&&b.segmentAvailabilityRange)return b.segmentAvailabilityRange;d=b.segmentDuration||(b.segments&&b.segments.length?b.segments[b.segments.length-1].duration:0);var f=c(new Date,e);return Math.min(f-(void 0!==
 b.availabilityTimeOffset&&b.availabilityTimeOffset<d?d-b.availabilityTimeOffset:d),e.start+e.duration)},calcWallTimeForSegment:function(b,c){var d=void 0,e=void 0,f=void 0;return c&&(d=b.representation.adaptation.period.mpd.suggestedPresentationDelay,e=b.presentationStartTime+d,f=new Date(b.availabilityStartTime.getTime()+1E3*e)),f},reset:function(){f.off(h.default.TIME_SYNCHRONIZATION_COMPLETED,d,this);g=0;u=!1;q=NaN}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(47)),h=e(b(55));b=
 e(b(48));g.__dashjs_factory_name="TimelineConverter";d.default=b.default.getSingletonFactory(g);c.exports=d.default},{47:47,48:48,55:55}],83:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b,c){function d(){if(!f||!f.hasOwnProperty("calcMediaTimeFromPresentationTime")||!f.hasOwnProperty("calcSegmentAvailabilityRange"))throw Error(h.default.MISSING_CONFIG_ERROR);}function e(b,d){var e,g=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentTemplate||
 b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentList;var h=g.SegmentTimeline;var k=g.SegmentURL_asArray,l=0,n=0,m=-1,q=void 0,p,r=void 0,t=void 0;var u=b.timescale;var B=!1;var w=0;for(e=(h=h.S_asArray).length;w<e&&!B;w++){if(r=0,(q=h[w]).hasOwnProperty("r")&&(r=q.r),q.hasOwnProperty("t")&&(n=(l=q.t)/u),0>r)(t=h[w+1])&&t.hasOwnProperty("t")?r=t.t/u:(r=b.segmentAvailabilityRange?b.segmentAvailabilityRange.end:
 f.calcSegmentAvailabilityRange(b,c).end,r=f.calcMediaTimeFromPresentationTime(r,b),b.segmentDuration=q.d/u),r=Math.ceil((r-n)/(q.d/u))-1;for(p=0;p<=r&&!B;p++)(B=d(l,n,g,k,q,u,++m,w))&&(b.segmentDuration=q.d/u,(p<r-1||w<e-1)&&m++),n=(l+=q.d)/u}b.availableSegmentsNumber=m}var f=(b=b||{}).timelineConverter;return{getSegmentByIndex:function(b,g,h){if(d(),!b)return null;var k=null,n=!1;return e(b,function(d,e,g,m,q,p,r,v){return n||0>h?(e=g.media,g=q.mediaRange,m&&(e=m[v].media||"",g=m[v].mediaRange),
 k=(0,l.getTimeBasedSegment)(f,c,b,d,q.d,p,e,g,r,q.tManifest),!0):(e>=h-.5*q.d/p&&(n=!0),!1)}),k},getSegmentByTime:function(b,g){if(d(),!b)return null;void 0===g&&(g=null);var h=null,k=f.calcMediaTimeFromPresentationTime(g,b);return e(b,function(d,e,g,n,m,q,p,r){return k<e+m.d/q?(e=g.media,g=m.mediaRange,n&&(e=n[r].media||"",g=n[r].mediaRange),h=(0,l.getTimeBasedSegment)(f,c,b,d,m.d,q,e,g,p,m.tManifest),!0):!1}),h}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(107)),l=b(80);
 g.__dashjs_factory_name="TimelineSegmentsGetter";b=k.default.getClassFactory(g);d.default=b;c.exports=d.default},{107:107,48:48,80:80}],84:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.period=null;this.index=-1;this.type=null};c.exports=d.default},{}],85:[function(b,c,d){function e(b,c,d,f){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");
 !0;this.url=b||"";this.serviceLocation=c||b||"";this.dvb_priority=d||1;this.dvb_weight=f||1;this.availabilityTimeOffset=0;this.availabilityTimeComplete=!0}Object.defineProperty(d,"__esModule",{value:!0});e.DEFAULT_DVB_PRIORITY=1;e.DEFAULT_DVB_WEIGHT=1;d.default=e;c.exports=d.default},{}],86:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.id=this.presentationTime=this.duration=
 NaN;this.messageData="";this.eventStream=null;this.presentationTimeDelta=NaN};c.exports=d.default},{}],87:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.period=this.representation=this.adaptionSet=null;this.timescale=1;this.schemeIdUri=this.value=""};c.exports=d.default},{}],88:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof
 g))throw new TypeError("Cannot call a class as a function");!0;this.DVRWindowSize=NaN;this.availableFrom=this.loadedTime=null;this.duration=this.minBufferTime=NaN;this.isDynamic=!1;this.maxFragmentDuration=null};c.exports=d.default},{}],89:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
 !0;this.streamInfo=this.type=this.index=this.id=null;this.representationCount=0;this.contentProtection=this.mimeType=this.codec=this.roles=this.audioChannelConfiguration=this.accessibility=this.viewpoint=this.lang=null;this.isText=!1;this.bitrateList=this.KID=null}Object.defineProperty(d,"__esModule",{value:!0});b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"isMediaInfoEqual",value:function(b){if(!b)return!1;var c=this.viewpoint===b.viewpoint,d=this.lang===b.lang,e=this.roles.toString()===
 b.roles.toString(),f=this.accessibility.toString()===b.accessibility.toString(),g=this.audioChannelConfiguration.toString()===b.audioChannelConfiguration.toString();return this.id===b.id&&c&&d&&e&&f&&g}}]),g);d.default=b;c.exports=d.default},{}],90:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.manifest=null;this.suggestedPresentationDelay=0;this.availabilityStartTime=
 null;this.maxSegmentDuration=this.timeShiftBufferDepth=this.availabilityEndTime=Number.POSITIVE_INFINITY;this.mediaPresentationDuration=this.minimumUpdatePeriod=NaN};c.exports=d.default},{}],91:[function(b,c,d){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;this.id=null;this.index=-1;this.start=this.duration=NaN;this.mpd=null}Object.defineProperty(d,"__esModule",{value:!0});e.DEFAULT_ID="defaultId";d.default=e;c.exports=d.default},{}],92:[function(b,
 c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.id=null;this.index=-1;this.codecPrivateData=this.codecs=this.initialization=this.segmentInfoType=this.adaptation=null;this.segmentDuration=NaN;this.startNumber=this.timescale=1;this.range=this.indexRange=null;this.presentationTimeOffset=
 0;this.MSETimeOffset=NaN;this.segmentAvailabilityRange=null;this.availableSegmentsNumber=0;this.height=this.width=this.bandwidth=NaN;this.scanType=null;this.maxPlayoutRate=NaN;this.availabilityTimeOffset=0;this.availabilityTimeComplete=!0}Object.defineProperty(d,"__esModule",{value:!0});var k,h=(k=b(62))&&k.__esModule?k:{default:k};b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",
 value:function(){return this.segmentInfoType!==h.default.BASE_URL&&this.segmentInfoType!==h.default.SEGMENT_BASE&&!this.indexRange}}]),g);d.default=b;c.exports=d.default},{62:62}],93:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.MSETimeOffset=this.mediaInfo=this.fragmentDuration=this.DVRWindow=this.quality=this.id=null};c.exports=d.default},{}],94:[function(b,c,d){Object.defineProperty(d,
 "__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.media=this.mediaRange=this.index=this.indexRange=null;this.duration=NaN;this.replacementTime=null;this.wallStartTime=this.availabilityIdx=this.availabilityEndTime=this.availabilityStartTime=this.presentationStartTime=this.mediaStartTime=this.replacementNumber=NaN;this.representation=null};c.exports=d.default},{}],95:[function(b,c,d){Object.defineProperty(d,"__esModule",
 {value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.index=this.id=null;this.duration=this.start=NaN;this.manifestInfo=null;this.isLast=!0};c.exports=d.default},{}],96:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.value=this.schemeIdUri=""};c.exports=d.default},{}],97:[function(b,c,d){function e(b){return b&&
 b.__esModule?b:{default:b}}function g(b){b=b||{};var c,d=this.context,e=(0,p.default)(d).getInstance(),f=void 0,g=void 0;return f={checkForExistence:function(b){function c(c){e.trigger(m.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:b,exists:c})}if(b){var d=new h.default(b.url);g.load({request:d,success:function(){c(!0)},error:function(){c(!1)}})}else c(!1)},load:function(b){function c(c,d){e.trigger(m.default.LOADING_COMPLETED,{request:b,response:c||null,error:d||null,sender:f})}b?g.load({request:b,
 progress:function(c){e.trigger(m.default.LOADING_PROGRESS,{request:b,stream:c.stream});c.data&&e.trigger(m.default.LOADING_DATA_PROGRESS,{request:b,response:c.data||null,error:null,sender:f})},success:function(b){c(b)},error:function(b,d,e){c(void 0,new l.default(t.default.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,e,d))},abort:function(b){b&&e.trigger(m.default.LOADING_ABANDONED,{request:b,mediaType:b.mediaType,sender:f})}}):c(void 0,new l.default(t.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,
 t.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){g&&g.abort()},reset:function(){g&&(g.abort(),g=null)}},c=(0,n.default)(d).getInstance(),g=(0,k.default)(d).create({errHandler:b.errHandler,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier,boxParser:c,useFetch:b.settings.get().streaming.lowLatencyEnabled}),f}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(131)),h=e(b(177)),l=e(b(174)),p=e(b(47)),n=e(b(156)),m=e(b(55)),
 t=e(b(52));b=e(b(48));g.__dashjs_factory_name="FragmentLoader";d.default=b.default.getClassFactory(g);c.exports=d.default},{131:131,156:156,174:174,177:177,47:47,48:48,52:52,55:55}],98:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b){e.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:b.manifest})}b=b||{};var d=this.context,e=(0,r.default)(d).getInstance(),f=(0,p.default)(d).getInstance(),g=void 0,v=void 0,H=void 0,z=void 0,B=void 0,w=b.mssHandler,
 C=b.errHandler;return g={load:function(b){var c=new n.default(b,t.HTTPRequest.MPD_TYPE);H.load({request:c,success:function(c,g,h){if(z){var l=g=void 0,n=void 0;h&&h!==b?(l=f.parseBaseUrl(h),g=h):(f.isRelative(b)&&(b=f.resolve(b,window.location.href)),l=f.parseBaseUrl(b));null===B&&(h=null,B=-1<c.indexOf("SmoothStreamingMedia")?(w&&(h=w.createMssParser(),w.registerEvents()),h):-1<c.indexOf("MPD")?(0,R.default)(d).create():h);if(null!==B){z.setMatchers(B.getMatchers());z.setIron(B.getIron());try{n=
 B.parse(c)}catch(Z){return void e.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(q.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,q.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+b)})}n?(n.url=g||b,n.originalUrl||(n.originalUrl=n.url),n.hasOwnProperty(k.default.LOCATION)&&(l=f.parseBaseUrl(n.Location_asArray[0]),v.debug("BaseURI set by Location to: "+l)),n.baseUri=l,n.loadedTime=new Date,z.resolveManifestOnLoad(n)):e.trigger(u.default.INTERNAL_MANIFEST_LOADED,
 {manifest:null,error:new m.default(q.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,q.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+b)})}else e.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(q.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,q.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+b)})}},error:function(c,d,f){e.trigger(u.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new m.default(q.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,
 q.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(b+", ")+f)})}})},reset:function(){e.off(u.default.XLINK_READY,c,g);z&&(z.reset(),z=null);H&&(H.abort(),H=null);w&&w.reset()}},v=(0,K.default)(d).getInstance().getLogger(g),e.on(u.default.XLINK_READY,c,g),H=(0,l.default)(d).create({errHandler:C,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier}),z=(0,h.default)(d).create({errHandler:C,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,
 requestModifier:b.requestModifier}),B=null,g}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(121)),l=e(b(131)),p=e(b(169)),n=e(b(181)),m=e(b(174)),t=b(190),r=e(b(47)),u=e(b(55)),q=e(b(52)),v=e(b(48)),R=e(b(66)),K=e(b(46));g.__dashjs_factory_name="ManifestLoader";b=v.default.getClassFactory(g);d.default=b;c.exports=d.default},{107:107,121:121,131:131,169:169,174:174,181:181,190:190,46:46,47:47,48:48,52:52,55:55,66:66}],99:[function(b,c,d){function e(b){return b&&b.__esModule?
 b:{default:b}}function g(){function b(){null!==E&&(clearTimeout(E),E=null)}function c(c){b();isNaN(c)&&!isNaN(F)&&(c=1E3*F);isNaN(c)||(G.debug("Refresh manifest in "+c+" milliseconds."),E=setTimeout(f,c))}function d(){z=!0;var b=w.getValue(),c=b.url;(b=C.getLocation(b))&&(c=b);B.load(c)}function e(b){w.setValue(b);var d=new Date,e=(d.getTime()-b.loadedTime.getTime())/1E3;2147483647<1E3*(F=C.getManifestUpdatePeriod(b,e))&&(F=2147483.647);L.trigger(h.default.MANIFEST_UPDATED,{manifest:b});G.info("Manifest has been refreshed at "+
 d+"["+d.getTime()/1E3+"] ");x||c()}function f(){x&&!N.get().streaming.scheduleWhilePaused||(z?c(N.get().streaming.manifestUpdateRetryInterval):d())}function g(b){b.error?b.error.code===n.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&J.error(b.error):e(b.manifest)}function l(){x=!1;c()}function K(){x=!0;b()}function H(){z=!1}var S=this.context,L=(0,k.default)(S).getInstance(),y=void 0,G=void 0,F=void 0,E=void 0,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0,J=void 0,N=void 0;return y={initialize:function(){F=
 NaN;x=!(z=!1);b();L.on(h.default.STREAMS_COMPOSED,H,this);L.on(h.default.PLAYBACK_STARTED,l,this);L.on(h.default.PLAYBACK_PAUSED,K,this);L.on(h.default.INTERNAL_MANIFEST_LOADED,g,this)},setManifest:function(b){e(b)},refreshManifest:d,setConfig:function(b){b&&(b.manifestModel&&(w=b.manifestModel),b.adapter&&(C=b.adapter),b.manifestLoader&&(B=b.manifestLoader),b.errHandler&&(J=b.errHandler),b.settings&&(N=b.settings))},reset:function(){L.off(h.default.PLAYBACK_STARTED,l,this);L.off(h.default.PLAYBACK_PAUSED,
 K,this);L.off(h.default.STREAMS_COMPOSED,H,this);L.off(h.default.INTERNAL_MANIFEST_LOADED,g,this);F=NaN;x=!(z=!1);b()}},G=(0,p.default)(S).getInstance().getLogger(y),y}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(47)),h=e(b(55)),l=e(b(48)),p=e(b(46)),n=e(b(52));g.__dashjs_factory_name="ManifestUpdater";d.default=l.default.getClassFactory(g);c.exports=d.default},{46:46,47:47,48:48,52:52,55:55}],100:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){return!!P&&
 !!U.getElement()}function c(){return(0,I.getVersionString)()}function d(){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";return Ga.isPaused()}function e(b){var c=Da.getCurrentDVRInfo();if(!c)return 0;var d=Ga.getLiveDelay();b=c.range.start+b;return b>c.range.end-d&&(b=c.range.end-d),b}function f(b){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";var c=D().currentTime;void 0!==b?c=qa.getTimeRelativeToStreamId(c,
 b):Ga.getIsDynamic()&&(b=Da.getCurrentDVRInfo(),c=null===b?0:g()-(b.range.end-b.time));return c}function g(){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";var b=D().duration;if(Ga.getIsDynamic()){var c;b=Da.getCurrentDVRInfo();if(!b)return 0;b=(c=b.range.end-b.range.start)<b.manifestInfo.DVRWindowSize?c:b.manifestInfo.DVRWindowSize}return b}function ba(b){(0,da.checkParameterType)(b,"boolean");Qa=b}function Sa(){La.restoreDefaultUTCTimingSources()}
 function D(){if(!U.getElement())throw"You must first call attachView() to set the video element before calling this method";return U.getElement()}function Ca(b){if(!ya)throw"MediaPlayer not initialized!";U.setElement(b);b&&(Y(),function(){if(!Ka){var b=tv.freewheel.Dashjs.MetricsReporting;"function"==typeof b&&(Ka=b(X).create().createMetricsReporting({debug:na,eventBus:sa,mediaElement:D(),adapter:Ia,dashMetrics:Da,events:w.default,constants:h.default,metricsConstants:l.default}))}}(),function(){if(!ia){var b=
 tv.freewheel.Dashjs.MssHandler;"function"==typeof b&&(z.default.extend(b.errors),ia=b(X).create({eventBus:sa,mediaPlayerModel:La,dashMetrics:Da,manifestModel:fa,playbackController:Ga,protectionController:ua,baseURLController:(0,t.default)(X).getInstance(),errHandler:Ja,events:w.default,constants:h.default,debug:na,initSegmentType:ca.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Z.default,ISOBoxer:M.default,settings:ja}))}}(),qa&&qa.switchToVideoElement());xa&&T();W()}function Oa(b){if(!ra)throw"You must first call initialize() and set a source before calling this method";
 var c=qa.getActiveStreamInfo();return va.getTracksFor(b,c)}function ma(c){if(!ya)throw"MediaPlayer not initialized!";"string"==typeof c&&Va.initialize(c);P=c;(ra||xa)&&T();b()&&W()}function ka(){if(!ra)throw"You must first call initialize() and set a source before calling this method";var b=qa.getActiveStreamInfo();return b?qa.getStreamById(b.id):null}function T(){ra=xa=!1;Ia.reset();qa.reset();Ga.reset();Ea.reset();va.reset();Fa.reset();ua&&(ja.get().streaming.keepProtectionMediaKeys?ua.stop():(ua.reset(),
 ua=null,Y()));Pa.reset()}function aa(){return(0,r.default)(X).create({errHandler:Ja,dashMetrics:Da,mediaPlayerModel:La,requestModifier:(0,R.default)(X).getInstance(),mssHandler:ia,settings:ja})}function Y(){if(ua)return ua;var b=tv.freewheel.Dashjs.Protection;if("function"!=typeof b)return null;var c=b(X).create();return w.default.extend(b.events),C.default.extend(b.events,{publicOnly:!0}),z.default.extend(b.errors),Ma=Ma||(0,q.default)(X).getInstance(),ua=c.createProtectionSystem({debug:na,errHandler:Ja,
 videoModel:U,capabilities:Ma,eventBus:sa,events:w.default,BASE64:Z.default,constants:h.default})}function pa(b){var c=Da.getCurrentDVRInfo();return c?b+(c.manifestInfo.availableFrom.getTime()/1E3+c.range.start):0}function W(){if(!ra&&P){ra=!0;ta.info("Streaming Initialized");var c=aa();qa=qa||(0,n.default)(X).getInstance();va.setConfig({domStorage:Wa});qa.setConfig({capabilities:Ma,manifestLoader:c,manifestModel:fa,mediaPlayerModel:La,protectionController:ua,adapter:Ia,dashMetrics:Da,errHandler:Ja,
 timelineConverter:Ha,videoModel:U,playbackController:Ga,abrController:Ea,mediaController:va,textController:Fa,settings:ja});Ga.setConfig({streamController:qa,dashMetrics:Da,mediaPlayerModel:La,adapter:Ia,videoModel:U,timelineConverter:Ha,uriFragmentModel:Va,settings:ja});Ea.setConfig({streamController:qa,domStorage:Wa,mediaPlayerModel:La,dashMetrics:Da,adapter:Ia,videoModel:U,settings:ja});Ea.createAbrRulesCollection();Fa.setConfig({errHandler:Ja,manifestModel:fa,adapter:Ia,mediaController:va,streamController:qa,
 videoModel:U});Pa.setConfig({abrController:Ea,dashMetrics:Da,playbackController:Ga});qa.initialize(Qa,Aa);Pa.initialize();"string"==typeof P?qa.load(P):qa.loadWithManifest(P)}!xa&&b()&&(xa=!0,ta.info("Playback Initialized"))}var X=this.context,sa=(0,B.default)(X).getInstance(),ja=(0,N.default)(X).getInstance(),na=(0,x.default)(X).getInstance({settings:ja}),la=void 0,ta=void 0,P=void 0,Aa=void 0,ya=void 0,ra=void 0,xa=void 0,Qa=void 0,Ea=void 0,Ha=void 0,va=void 0,ua=void 0,Ka=void 0,ia=void 0,Ia=
 void 0,La=void 0,Ja=void 0,Ma=void 0,qa=void 0,Ga=void 0,Da=void 0,fa=void 0,Pa=void 0,U=void 0,Fa=void 0,Va=void 0,Wa=void 0;return la={initialize:function(b,d,e){Ma=Ma||(0,q.default)(X).getInstance();Ja=(0,u.default)(X).getInstance();Ma.supportsMediaSource()?ya||(ya=!0,Ha=(0,ea.default)(X).getInstance(),Ea=Ea||(0,y.default)(X).getInstance(),Ga=Ga||(0,p.default)(X).getInstance(),va=va||(0,m.default)(X).getInstance(),Ia=(0,O.default)(X).getInstance(),fa=(0,S.default)(X).getInstance(),Pa=(0,F.default)(X).getInstance(),
 Da=(0,V.default)(X).getInstance({settings:ja}),Fa=(0,K.default)(X).getInstance(),Wa=(0,E.default)(X).getInstance({settings:ja}),Ia.setConfig({constants:h.default,cea608parser:k.default,errHandler:Ja,BASE64:Z.default}),Sa(),ba(void 0===e||e),b&&Ca(b),d&&ma(d),ta.info("[dash.js "+c()+"] MediaPlayer has been initialized")):Ja.error(new Q.default(z.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,z.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(b){b&&(b.capabilities&&(Ma=b.capabilities),
 b.streamController&&(qa=b.streamController),b.playbackController&&(Ga=b.playbackController),b.mediaPlayerModel&&(La=b.mediaPlayerModel),b.abrController&&(Ea=b.abrController),b.mediaController&&(va=b.mediaController),b.settings&&(ja=b.settings))},on:function(b,c,d){sa.on(b,c,d)},off:function(b,c,d){sa.off(b,c,d)},extend:function(b,c,d){J.default.extend(b,c,d,X)},attachView:Ca,attachSource:ma,isReady:b,preload:function(){if(U.getElement()||ra)return!1;if(!P)throw"You must first call attachSource() with a valid source before calling this method";
 W()},play:function(){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";(!Qa||d()&&xa)&&Ga.play()},isPaused:d,pause:function(){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";Ga.pause()},isSeeking:function(){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";return Ga.isSeeking()},isDynamic:function(){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";
 return Ga.getIsDynamic()},seek:function(b){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";if((0,da.checkParameterType)(b,"number"),isNaN(b))throw h.default.BAD_ARGUMENT_ERROR;b=Ga.getIsDynamic()?e(b):b;Ga.seek(b)},setPlaybackRate:function(b){D().playbackRate=b},getPlaybackRate:function(){return D().playbackRate},setMute:function(b){(0,da.checkParameterType)(b,"boolean");D().muted=b},isMuted:function(){return D().muted},setVolume:function(b){if("number"!=
 typeof b||isNaN(b)||0>b||1<b)throw h.default.BAD_ARGUMENT_ERROR;D().volume=b},getVolume:function(){return D().volume},time:f,duration:g,timeAsUTC:function(){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";return 0>f()?NaN:pa(f())},durationAsUTC:function(){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";return pa(g())},getActiveStream:ka,getDVRWindowSize:function(){var b=Da.getCurrentDVRInfo();
 return b?b.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:e,convertToTimeCode:function(b){b=Math.max(b,0);var c=Math.floor(b/3600),d=Math.floor(b%3600/60);b=Math.floor(b%3600%60);return(0===c?"":10>c?"0"+c.toString()+":":c.toString()+":")+(10>d?"0"+d.toString():d.toString())+":"+(10>b?"0"+b.toString():b.toString())},formatUTC:function(b,c,d){var e=!(3>=arguments.length||void 0===arguments[3])&&arguments[3],f=new Date(1E3*b),g=f.toLocaleDateString(c);f=f.toLocaleTimeString(c,{hour12:d});return e?f+
 " "+g:f},getVersion:c,getDebug:function(){return na},getBufferLength:function(b){var c,d=[h.default.VIDEO,h.default.AUDIO,h.default.FRAGMENTED_TEXT];return b?-1===d.indexOf(b)?(ta.warn("getBufferLength requested for invalid type"),NaN):(c=Da.getCurrentBufferLevel(b))||NaN:(c=d.map(function(b){return 0<Oa(b).length?Da.getCurrentBufferLevel(b):Number.MAX_VALUE}).reduce(function(b,c){return Math.min(b,c)}))===Number.MAX_VALUE?NaN:c},getTTMLRenderingDiv:function(){return U?U.getTTMLRenderingDiv():null},
 getVideoElement:D,getSource:function(){if(!P)throw"You must first call attachSource() with a valid source before calling this method";return P},getCurrentLiveLatency:function(){if(!ya)throw"MediaPlayer not initialized!";return xa?Ga.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function(b){if(!ra)throw"You must first call initialize() and set a source before calling this method";return Ea.getTopBitrateInfoFor(b)},setAutoPlay:ba,getAutoPlay:function(){return Qa},getDashMetrics:function(){return Da},
 getQualityFor:function(b){if(!ra)throw"You must first call initialize() and set a source before calling this method";if(b!==h.default.IMAGE)return Ea.getQualityFor(b);b=ka();return b?(b=b.getThumbnailController())?b.getCurrentTrackIndex():-1:-1},setQualityFor:function(b,c){if(!ra)throw"You must first call initialize() and set a source before calling this method";if(b===h.default.IMAGE){var d=ka();if(!d)return;(d=d.getThumbnailController())&&d.setTrackByIndex(c)}Ea.setPlaybackQuality(b,qa.getActiveStreamInfo(),
 c)},updatePortalSize:function(){Ea.setElementSize();Ea.setWindowResizeEventCalled(!0)},setTextDefaultLanguage:function(b){void 0===Fa&&(Fa=(0,K.default)(X).getInstance());Fa.setTextDefaultLanguage(b)},getTextDefaultLanguage:function(){return void 0===Fa&&(Fa=(0,K.default)(X).getInstance()),Fa.getTextDefaultLanguage()},setTextDefaultEnabled:function(b){void 0===Fa&&(Fa=(0,K.default)(X).getInstance());Fa.setTextDefaultEnabled(b)},getTextDefaultEnabled:function(){return void 0===Fa&&(Fa=(0,K.default)(X).getInstance()),
 Fa.getTextDefaultEnabled()},enableText:function(b){void 0===Fa&&(Fa=(0,K.default)(X).getInstance());Fa.enableText(b)},enableForcedTextStreaming:function(b){void 0===Fa&&(Fa=(0,K.default)(X).getInstance());Fa.enableForcedTextStreaming(b)},isTextEnabled:function(){return void 0===Fa&&(Fa=(0,K.default)(X).getInstance()),Fa.isTextEnabled()},setTextTrack:function(b){if(!xa)throw"You must first call initialize() and set a valid source and view before calling this method";void 0===Fa&&(Fa=(0,K.default)(X).getInstance());
 Fa.setTextTrack(b)},getBitrateInfoListFor:function(b){if(!ra)throw"You must first call initialize() and set a source before calling this method";var c=ka();return c?c.getBitrateListFor(b):[]},getStreamsFromManifest:function(b){if(!ra)throw"You must first call initialize() and set a source before calling this method";return Ia.getStreamsInfo(b)},getTracksFor:Oa,getTracksForTypeFromManifest:function(b,c,d){if(!ra)throw"You must first call initialize() and set a source before calling this method";return(d=
 d||Ia.getStreamsInfo(c,1)[0])?Ia.getAllMediaInfoForType(d,b,c):[]},getCurrentTrackFor:function(b){if(!ra)throw"You must first call initialize() and set a source before calling this method";var c=qa.getActiveStreamInfo();return va.getCurrentTrackFor(b,c)},setInitialMediaSettingsFor:function(b,c){if(!ya)throw"MediaPlayer not initialized!";va.setInitialSettings(b,c)},getInitialMediaSettingsFor:function(b){if(!ya)throw"MediaPlayer not initialized!";return va.getInitialSettings(b)},setCurrentTrack:function(b){if(!ra)throw"You must first call initialize() and set a source before calling this method";
 va.setTrack(b)},getTrackSwitchModeFor:function(b){if(!ya)throw"MediaPlayer not initialized!";return va.getSwitchMode(b)},setTrackSwitchModeFor:function(b,c){if(!ya)throw"MediaPlayer not initialized!";va.setSwitchMode(b,c)},setSelectionModeForInitialTrack:function(b){if(!ya)throw"MediaPlayer not initialized!";va.setSelectionModeForInitialTrack(b)},getSelectionModeForInitialTrack:function(){if(!ya)throw"MediaPlayer not initialized!";return va.getSelectionModeForInitialTrack()},addABRCustomRule:function(b,
 c,d){La.addABRCustomRule(b,c,d)},removeABRCustomRule:function(b){La.removeABRCustomRule(b)},removeAllABRCustomRule:function(){La.removeABRCustomRule()},getAverageThroughput:function(b){var c=Ea.getThroughputHistory();return c?c.getAverageThroughput(b):0},retrieveManifest:function(b,c){var d=aa(),e=this;sa.on(w.default.INTERNAL_MANIFEST_LOADED,function cb(b){b.error?c(null,b.error):c(b.manifest);sa.off(w.default.INTERNAL_MANIFEST_LOADED,cb,e);d.reset()},e);Va.initialize(b);d.load(b)},addUTCTimingSource:function(b,
 c){La.addUTCTimingSource(b,c)},removeUTCTimingSource:function(b,c){La.removeUTCTimingSource(b,c)},clearDefaultUTCTimingSources:function(){La.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Sa,setXHRWithCredentialsForType:function(b,c){La.setXHRWithCredentialsForType(b,c)},getXHRWithCredentialsForType:function(b){return La.getXHRWithCredentialsForType(b)},getProtectionController:function(){return Y()},attachProtectionController:function(b){ua=b},setProtectionData:function(b){Aa=b;qa&&
 qa.setProtectionData(Aa)},displayCaptionsOnTop:function(b){var c=(0,v.default)(X).getInstance();c.setConfig({videoModel:U});c.initialize();c.setDisplayCConTop(b)},attachTTMLRenderingDiv:function(b){if(!U.getElement())throw"You must first call attachView() to set the video element before calling this method";U.setTTMLRenderingDiv(b)},getCurrentTextTrackIndex:function(){var b=NaN;return Fa&&(b=Fa.getCurrentTrackIdx()),b},getThumbnail:function(b,c){if(0>b)return null;var d=Ga.getIsDynamic()?e(b):b,f=
 qa.getStreamForTime(d);if(null===f)return null;b=f.getThumbnailController();if(!b)return null;d=qa.getTimeRelativeToStreamId(d,f.getId());return b.get(d,c)},getDashAdapter:function(){return Ia},getSettings:function(){return ja.get()},updateSettings:function(b){ja.update(b)},resetSettings:function(){ja.reset()},reset:function(){ma(null);Ca(null);Aa=null;ua&&(ua.reset(),ua=null);Ka&&(Ka.reset(),Ka=null);ja.reset()}},ta=na.getLogger(la),Qa=!(ra=xa=ya=!1),Ia=Aa=ua=null,w.default.extend(C.default),La=
 (0,L.default)(X).getInstance(),U=(0,G.default)(X).getInstance(),Va=(0,H.default)(X).getInstance(),la}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(2)),h=e(b(107)),l=e(b(108)),p=e(b(117)),n=e(b(119)),m=e(b(115)),t=e(b(110)),r=e(b(98)),u=e(b(161)),q=e(b(157)),v=e(b(152)),R=e(b(166)),K=e(b(150)),H=e(b(128)),S=e(b(125)),L=e(b(126)),y=e(b(109)),G=e(b(129)),F=e(b(123)),E=e(b(159)),x=e(b(46)),z=e(b(52)),B=e(b(47)),w=e(b(55)),C=e(b(101)),J=e(b(48)),N=e(b(49)),I=b(51),O=e(b(57)),V=e(b(59)),ea=
 e(b(82)),ca=b(190),Z=e(b(1)),M=e(b(8)),Q=e(b(174)),da=b(167);g.__dashjs_factory_name="MediaPlayer";b=J.default.getClassFactory(g);b.events=C.default;b.errors=z.default;J.default.updateClassFactory(g.__dashjs_factory_name,b);d.default=b;c.exports=d.default},{1:1,101:101,107:107,108:108,109:109,110:110,115:115,117:117,119:119,123:123,125:125,126:126,128:128,129:129,150:150,152:152,157:157,159:159,161:161,166:166,167:167,174:174,190:190,2:2,46:46,47:47,48:48,49:49,51:51,52:52,55:55,57:57,59:59,8:8,82:82,
 98:98}],101:[function(b,c,d){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;a:{var b=Object.getPrototypeOf(e.prototype),c="constructor";var d=this;for(var f=!0;f;){null===b&&(b=Function.prototype);f=Object.getOwnPropertyDescriptor(b,c);if(void 0!==f){if("value"in f){d=f.value;break a}c=f.get;if(void 0===c)break;d=c.call(d);break a}b=Object.getPrototypeOf(b);if(null===b)break;f=!0}d=void 0}d.call(this);this.AST_IN_FUTURE="astInFuture";this.BUFFER_EMPTY=
 "bufferStalled";this.BUFFER_LOADED="bufferLoaded";this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged";this.ERROR="error";this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted";this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress";this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted";this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned";this.LOG="log";this.MANIFEST_LOADED="manifestLoaded";this.METRICS_CHANGED="metricsChanged";this.METRIC_CHANGED="metricChanged";this.METRIC_ADDED="metricAdded";
 this.METRIC_UPDATED="metricUpdated";this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted";this.PERIOD_SWITCH_STARTED="periodSwitchStarted";this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested";this.QUALITY_CHANGE_RENDERED="qualityChangeRendered";this.TRACK_CHANGE_RENDERED="trackChangeRendered";this.SOURCE_INITIALIZED="sourceInitialized";this.STREAM_INITIALIZING="streamInitializing";this.STREAM_INITIALIZED="streamInitialized";this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete";this.TEXT_TRACKS_ADDED=
 "allTextTracksAdded";this.TEXT_TRACK_ADDED="textTrackAdded";this.TTML_PARSED="ttmlParsed";this.TTML_TO_PARSE="ttmlToParse";this.CAPTION_RENDERED="captionRendered";this.CAPTION_CONTAINER_RESIZE="captionContainerResize";this.CAN_PLAY="canPlay";this.PLAYBACK_ENDED="playbackEnded";this.PLAYBACK_ERROR="playbackError";this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed";this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded";this.PLAYBACK_PAUSED="playbackPaused";this.PLAYBACK_PLAYING="playbackPlaying";this.PLAYBACK_PROGRESS=
 "playbackProgress";this.PLAYBACK_RATE_CHANGED="playbackRateChanged";this.PLAYBACK_SEEKED="playbackSeeked";this.PLAYBACK_SEEKING="playbackSeeking";this.PLAYBACK_SEEK_ASKED="playbackSeekAsked";this.PLAYBACK_STALLED="playbackStalled";this.PLAYBACK_STARTED="playbackStarted";this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated";this.PLAYBACK_WAITING="playbackWaiting";this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}Object.defineProperty(d,"__esModule",{value:!0});b=b(56);b=new (function(b,c){if("function"!=
 typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(e,(b&&b.__esModule?b:{default:b}).default),e);d.default=b;c.exports=d.default},{56:56}],102:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b,c){h=h.filter(function(d){return!((isNaN(c)||
 d.start<c)&&(isNaN(b)||d.end>b))})}var d=this.context,e=void 0,f=void 0,g=void 0,h=[],u=b;return e={getAllBufferRanges:function(){for(var b=[],c=0;c<h.length;c++){var d=h[c];0===b.length||d.start>b[b.length-1].end?b.push({start:d.start,end:d.end}):b[b.length-1].end=d.end}c={start:function(c){return b[c].start},end:function(c){return b[c].end}};return Object.defineProperty(c,"length",{get:function(){return b.length}}),c},append:function(b){g="InitializationSegment"!==b.segmentType?(h.push(b),h.sort(function(b,
 c){return b.start-c.start}),null):b;f.debug("PreBufferSink appended chunk s: "+b.start+"; e: "+b.end);u&&u({chunk:b})},remove:c,abort:function(){},discharge:function(b,d){var e=function(b,c){return h.filter(function(d){return(isNaN(c)||d.start<c)&&(isNaN(b)||d.end>b)})}(b,d);return g&&(e.push(g),g=null),c(b,d),e},reset:function(){h=[];u=g=null},updateTimestampOffset:function(){},hasDiscontinuitiesAfter:function(){return!1},waitForUpdateEnd:function(b){b()},getBuffer:function(){return this}},f=(0,
 k.default)(d).getInstance().getLogger(e),e}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(46));b=e(b(48));g.__dashjs_factory_name="PreBufferSink";b=b.default.getClassFactory(g);d.default=b;c.exports=d.default},{46:46,48:48}],103:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b,c,d,e,f){function g(){try{return B.buffered}catch(V){return z.error("getAllBufferRanges exception: "+V.message),null}}function n(){if(0<J.length){var b=J.shift();B.updating?u(b):(b(),
 n())}}function q(){B.updating||n()}function r(){B.updating||n()}function v(){z.error("SourceBufferSink error",c.type)}function u(b){J.push(b);B.updating||n()}var R=this.context,E=(0,l.default)(R).getInstance(),x=void 0,z=void 0,B=void 0,w=void 0,C=void 0,J=[],N=[],I=d,O=!1!==e;return x={getAllBufferRanges:g,getBuffer:function(){return B},append:function(b){b?(N.push(b),w||u(function ca(){var b=this,c=this;0<N.length&&function(){w=!0;var d=N[0];N.splice(0,1);var e=[],f=function(){var b=g(),f=e,h;if(h=
 f&&0<f.length&&f.length<b.length)a:{for(h=0;h<f.length;h++){var k=Math.round(f.start(h)),l=Math.round(f.end(h));if(l===d.start||k===d.end||d.start>=k&&d.end<=l){h=!0;break a}}h=!1}h&&E.trigger(p.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:c,from:b.end(b.length-2),to:b.start(b.length-1),unintended:!0});0<N.length?ca.call(this):(w=!1,I&&I({chunk:d}))};try{0===d.bytes.length?f.call(b):(e=g(),B.appendBuffer?B.appendBuffer(d.bytes):B.append(d.bytes,d),u(f.bind(b)))}catch(oa){z.fatal('SourceBuffer append failed "'+
 oa+'"'),0<N.length?ca():w=!1,I&&I({chunk:d,error:new h.default(oa.code,oa.message)})}}()}.bind(this))):I({chunk:b,error:new h.default(t.default.APPEND_ERROR_CODE,t.default.APPEND_ERROR_MESSAGE)})},remove:function(c,d,e){var f=this;u(function(){try{0<=c&&c<d&&(e||"ended"!==b.readyState)&&B.remove(c,d),u(function(){E.trigger(p.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:f,from:c,to:d,unintended:!1})})}catch(M){E.trigger(p.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:f,from:c,to:d,unintended:!1,error:new h.default(M.code,
 M.message)})}})},abort:function(){try{"open"===b.readyState?B.abort():B.setTextTrack&&"ended"===b.readyState&&B.abort()}catch(V){z.error('SourceBuffer append abort failed: "'+V+'"')}N=[]},reset:function(c){if(B){if("function"==typeof B.removeEventListener&&(B.removeEventListener("updateend",r,!1),B.removeEventListener("error",v,!1),B.removeEventListener("abort",v,!1)),clearInterval(C),B.appendWindowEnd=1/0,!c){try{B.getClassName&&"TextSourceBuffer"===B.getClassName()||b.removeSourceBuffer(B)}catch(ea){z.error("Failed to remove source buffer from media source.")}B=
 null}w=!1}N=[];I=null},updateTimestampOffset:function(b){B.timestampOffset===b||isNaN(b)||u(function(){B.timestampOffset=b})},hasDiscontinuitiesAfter:function(b){try{var c=g();if(c&&1<c.length)for(var d=0,e=c.length;d<e;d++)if(0<d&&b<c.start(d)&&c.start(d)>c.end(d-1)+.1)return!0}catch(M){z.error("hasDiscontinuities exception: "+M.message)}return!1},waitForUpdateEnd:u},function(){z=(0,k.default)(R).getInstance().getLogger(x);w=!1;var d=c.codec;try{if(d.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw Error("not really supported");
 (B=f||b.addSourceBuffer(d)).changeType&&f&&(z.debug("Doing period transition with changeType"),B.changeType(d));O&&B&&(B.appendWindowEnd=b.duration);if("function"==typeof B.addEventListener)try{B.addEventListener("updateend",r,!1),B.addEventListener("error",v,!1),B.addEventListener("abort",v,!1)}catch(ea){C=setInterval(q,50)}else C=setInterval(q,50)}catch(ea){if(!c.isText&&-1===d.indexOf('codecs="stpp')&&-1===d.indexOf('codecs="wvtt'))throw ea;B=(0,m.default)(R).getInstance().getTextSourceBuffer()}}(),
 x}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(46)),h=e(b(174)),l=e(b(47)),p=e(b(55)),n=e(b(48)),m=e(b(150)),t=e(b(52));g.__dashjs_factory_name="SourceBufferSink";b=n.default.getClassFactory(g);d.default=b;c.exports=d.default},{150:150,174:174,46:46,47:47,48:48,52:52,55:55}],104:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b){for(var c=Y?Y.length:0,d=0;d<c;d++)Y[d].getFragmentModel().removeExecutedRequestsBeforeTime(f()+e()),Y[d].reset(!1,
 b);Aa=W=pa=!(Y=[]);Q.off(t.default.CURRENT_TRACK_CHANGED,x,T)}function d(){q();D&&D.pause();la&&(la.reset(),la=null);c();X=null;ja=!(sa={});Q.off(t.default.DATA_UPDATE_COMPLETED,O,T);Q.off(t.default.BUFFERING_COMPLETED,I,T);na&&(Q.off(t.default.KEY_ERROR,R,T),Q.off(t.default.SERVER_CERTIFICATE_UPDATED,R,T),Q.off(t.default.LICENSE_REQUEST_COMPLETE,R,T),Q.off(t.default.KEY_SYSTEM_SELECTED,R,T),Q.off(t.default.KEY_SESSION_CREATED,R,T),Q.off(t.default.KEY_STATUSES_CHANGED,R,T));Aa=!1}function e(){return X?
 X.duration:NaN}function f(){return X?X.start:NaN}function g(){if(!(ma&&Sa&&Sa.hasOwnProperty("getBitrateList")&&wa&&wa.hasOwnProperty("getAllMediaInfoForType")&&wa.hasOwnProperty("getEventsFor")))throw Error(k.default.MISSING_CONFIG_ERROR);}function q(){P&&P.stop()}function R(b){b.error&&(za.error(b.error),aa.fatal(b.error.message),d())}function E(b){var c,d=b?b.type:null,e=void 0;if(d===k.default.MUXED)return e="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",
 aa.fatal(e),za.error(new v.default(u.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,e,da.getValue())),!1;if(d===k.default.TEXT||d===k.default.FRAGMENTED_TEXT||d===k.default.EMBEDDED_TEXT||d===k.default.IMAGE)return!0;if(c=b.codec,aa.debug(d+" codec: "+c),b.contentProtection&&!ha.supportsEncryptedMedia())za.error(new v.default(u.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,u.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!ha.supportsCodec(c))return e=d+"Codec ("+c+") is not supported.",aa.error(e),!1;
 return!0}function x(b){if(X&&b.newMediaInfo.streamInfo.id===X.id){var c=b.newMediaInfo,d=da.getValue();wa.setCurrentMediaInfo(X.id,c.type,c);var e=V(c);if(e){var f=D.getTime();aa.info("Stream -  Process track changed at current time "+f);aa.debug("Stream -  Update stream controller");d.refreshManifestOnSwitchTrack?(aa.debug("Stream -  Refreshing manifest for switch track"),ya=b,oa.refreshManifest()):(e.selectMediaInfo(c),c.type!==k.default.FRAGMENTED_TEXT?(Sa.updateTopQualityIndex(c),e.switchTrackAsked(),
 e.getFragmentModel().abortRequests()):(e.getScheduleController().setSeekTarget(f),e.setIndexHandlerTime(f),e.resetIndexHandler()))}}}function z(c,d){var e=wa.getAllMediaInfoForType(X,c),f=null,g=void 0;if(e&&0!==e.length){for(var l=0,m=e.length;l<m;l++)(f=e[l],c===k.default.EMBEDDED_TEXT)?Oa.addEmbeddedTrack(f):E(f)&&Ca.addTrack(f);if(c!==k.default.EMBEDDED_TEXT&&0!==Ca.getTracksFor(c,X).length)if(c!==k.default.IMAGE)if((c!==k.default.FRAGMENTED_TEXT||c===k.default.FRAGMENTED_TEXT&&Oa.getTextDefaultEnabled())&&
 (Ca.checkInitialMediaSettingsForType(c,X),g=Ca.getCurrentTrackFor(c,X)),c!==k.default.FRAGMENTED_TEXT||Oa.getTextDefaultEnabled()||(g=Ca.getTracksFor(c,X)[0]),Q.trigger(t.default.STREAM_INITIALIZING,{streamInfo:X,mediaInfo:f}),c=g,f=(0,h.default)(M).create({type:c?c.type:null,mimeType:c?c.mimeType:null,timelineConverter:Ba,adapter:wa,manifestModel:da,mediaPlayerModel:A,dashMetrics:b.dashMetrics,baseURLController:b.baseURLController,stream:T,abrController:Sa,playbackController:D,mediaController:Ca,
 streamController:b.streamController,textController:Oa,errHandler:za,settings:ka}),f.initialize(d),Sa.updateTopQualityIndex(c),Y.push(f),!c||c.type!==k.default.TEXT&&c.type!==k.default.FRAGMENTED_TEXT)f.addMediaInfo(c,!0);else{d=void 0;for(g=0;g<e.length;g++)e[g].index===c.index&&(d=g),f.addMediaInfo(e[g]);f.selectMediaInfo(e[d])}else ta=(0,n.default)(M).create({adapter:wa,baseURLController:b.baseURLController,stream:T,timelineConverter:b.timelineConverter})}else aa.info("No "+c+" data.")}function B(){P||
 ((P=(0,l.default)(M).create()).setConfig({manifestUpdater:oa,playbackController:D}),w())}function w(){var b=wa.getEventsFor(X);P.addInlineEvents(b)}function C(b){var c=wa.getAdaptationForType(X?X.index:null,b,X);c&&Array.isArray(c.Representation_asArray)&&(c.Representation_asArray=c.Representation_asArray.filter(function(b,d){if(0===d)return!0;b=wa.getCodec(c,d,!0);return!!ha.supportsCodec(b)||(aa.error("[Stream] codec not supported: "+b),!1)}))}function J(){for(var b=Y.length,c=sa.audio||sa.video?
 new v.default(u.default.DATA_UPDATE_FAILED_ERROR_CODE,u.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,d=0;d<b;d++)if(Y[d].isUpdating()||ja)return;if(W){if(na)for(d=0;d<b&&Y[d];d++)Y[d].getType()!==k.default.AUDIO&&Y[d].getType()!==k.default.VIDEO&&Y[d].getType()!==k.default.FRAGMENTED_TEXT||na.initializeForMedia(Y[d].getMediaInfo());c?za.error(c):Q.trigger(t.default.STREAM_INITIALIZED,{streamInfo:X})}}function N(b){for(var c={},d=0,e=Y.length;d<e;d++){var f=Y[d].createBuffer(b);f&&(c[Y[d].getType()]=
 f.getBuffer())}return c}function I(b){if(b.streamInfo===X){b=ea();var c=b.length;if(0!==c){for(var d=0;d<c;d++)if(!b[d].isBufferingCompleted()&&(b[d].getType()===k.default.AUDIO||b[d].getType()===k.default.VIDEO))return void aa.warn("onBufferingCompleted - One streamProcessor has finished but",b[d].getType(),"one is not buffering completed");aa.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED");Q.trigger(t.default.STREAM_BUFFERING_COMPLETED,{streamInfo:X})}else aa.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}}
 function O(b){X&&b.sender.getStreamId()===X.id&&(sa[b.sender.getType()]=b.error,J())}function V(b){return b?ea().filter(function(c){return c.getType()===b.type})[0]:null}function ea(){for(var b=[],c=void 0,d=void 0,e=0;e<Y.length;e++)(c=(d=Y[e]).getType())!==k.default.AUDIO&&c!==k.default.VIDEO&&c!==k.default.FRAGMENTED_TEXT&&c!==k.default.TEXT||b.push(d);return b}function ca(b,c){if(!b)return!1;var d=b.getStreamInfo();b=X;if(!d||!b)return!1;d=wa.getAdaptationForType(d.index,c,d);c=wa.getAdaptationForType(b.index,
 c,b);return d&&c?!d.ContentProtection&&!c.ContentProtection:!d&&!c}function Z(b,c){if(!b||!b.hasOwnProperty("getStreamInfo"))return!1;b=b.getStreamInfo();var d=X;if(!b||!d)return!1;b=wa.getAdaptationForType(b.index,c,b);d=wa.getAdaptationForType(d.index,c,d);if(!b||!d)return!b&&!d;c=b&&d&&b.mimeType===d.mimeType;var e=d.Representation_asArray.map(function(b){return b.codecs});d=b.Representation_asArray.map(function(b){return b.codecs});b=d.some(function(b){return-1<e.indexOf(b)});d=d.some(function(b){return e.some(function(c){return function(b,
 c){b=b.split(".")[0];for(var d=0===c.indexOf(b),e=void 0,f=0;f<ra.length;f++)if(ra[f].codec===b){e=ra[f];break}return e?d||e.compatibleCodecs.some(function(b){return 0===c.indexOf(b)}):d}(c,b)})});return b||d&&c}b=b||{};var M=this.context,Q=(0,m.default)(M).getInstance(),da=b.manifestModel,A=b.mediaPlayerModel,oa=b.manifestUpdater,wa=b.adapter,ha=b.capabilities,za=b.errHandler,Ba=b.timelineConverter,ba=b.dashMetrics,Sa=b.abrController,D=b.playbackController,Ca=b.mediaController,Oa=b.textController,
 ma=b.videoModel,ka=b.settings,T=void 0,aa=void 0,Y=void 0,pa=void 0,W=void 0,X=void 0,sa=void 0,ja=void 0,na=void 0,la=void 0,ta=void 0,P=void 0,Aa=void 0,ya=void 0,ra=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];T={initialize:function(b,c){X=b;(na=c)&&(Q.on(t.default.KEY_ERROR,R,T),Q.on(t.default.SERVER_CERTIFICATE_UPDATED,R,T),Q.on(t.default.LICENSE_REQUEST_COMPLETE,R,T),Q.on(t.default.KEY_SYSTEM_SELECTED,R,T),Q.on(t.default.KEY_SESSION_CREATED,R,T),Q.on(t.default.KEY_STATUSES_CHANGED,
 R,T))},activate:function(b,c){if(pa)return c;var d=void 0;Q.on(t.default.CURRENT_TRACK_CHANGED,x,T);if(Aa)(ja=!0,g(),C(k.default.VIDEO),C(k.default.AUDIO),ja=!(W=!0),0===Y.length)?(za.error(new v.default(u.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,"No streams to play.",da.getValue())),aa.debug("No streams to play.")):J(),b=c;else{g();var e=ma.getElement();B();ja=!0;C(k.default.VIDEO);C(k.default.AUDIO);(!e||e&&/^VIDEO$/i.test(e.nodeName))&&z(k.default.VIDEO,b);z(k.default.AUDIO,b);z(k.default.TEXT,
 b);z(k.default.FRAGMENTED_TEXT,b);z(k.default.EMBEDDED_TEXT,b);z(k.default.MUXED,b);z(k.default.IMAGE,b);b=N(c);(ja=!(W=!0),0===Y.length)?(za.error(new v.default(u.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,"No streams to play.",da.getValue())),aa.fatal("No streams to play.")):J()}return d=b,pa=!0,d},deactivate:c,isActive:function(){return pa},getDuration:e,getStartTime:f,getId:function(){return X?X.id:null},getStreamInfo:function(){return X},preload:function(b,c){B();z(k.default.VIDEO,b);z(k.default.AUDIO,
 b);z(k.default.TEXT,b);z(k.default.FRAGMENTED_TEXT,b);z(k.default.EMBEDDED_TEXT,b);z(k.default.MUXED,b);z(k.default.IMAGE,b);N(c);Q.on(t.default.CURRENT_TRACK_CHANGED,x,T);for(b=0;b<Y.length&&Y[b];b++)Y[b].getScheduleController().start();Aa=!0},getFragmentController:function(){return la},getThumbnailController:function(){return ta},getBitrateListFor:function(b){if(g(),b===k.default.IMAGE)return ta?ta.getBitrateList():[];a:{for(var c,d=0;d<Y.length;d++)if((c=Y[d]).getType()===b){b=c.getMediaInfo();
 break a}b=null}return Sa.getBitrateList(b)},startEventController:function(){P&&P.start()},stopEventController:q,updateData:function(b){aa.info("Manifest updated... updating data system wide.");ja=!(pa=!1);X=b;P&&w();C(k.default.VIDEO);C(k.default.AUDIO);b=0;for(var c=Y.length;b<c;b++){var d=Y[b],e=wa.getMediaInfoForType(X,d.getType());Sa.updateTopQualityIndex(e);d.addMediaInfo(e,!0)}if(ya&&ya.newMediaInfo.type!==k.default.FRAGMENTED_TEXT){b=V(ya.oldMediaInfo);if(!b)return;b.switchTrackAsked();ya=
 void 0}ja=!1;J()},reset:d,getProcessors:ea,setMediaSource:function(b){for(var c=0;c<Y.length;)E(Y[c].getMediaInfo())?(Y[c].setMediaSource(b),c++):(Y[c].reset(),Y.splice(c,1));for(c=0;c<Y.length;c++)Y[c].dischargePreBuffer();0===Y.length&&(za.error(new v.default(u.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,"No streams to play.nostreams",da.getValue())),aa.fatal("No streams to play."))},isMediaCodecCompatible:function(b){return Z(b,k.default.VIDEO)&&Z(b,k.default.AUDIO)},isProtectionCompatible:function(b){return ca(b,
 k.default.VIDEO)&&ca(b,k.default.AUDIO)},getPreloaded:function(){return Aa},addInbandEvents:function(b){P&&P.addInbandEvents(b)}};aa=(0,r.default)(M).getInstance().getLogger(T);c();X=null;ja=!(sa={});return la=(0,p.default)(M).create({mediaPlayerModel:A,dashMetrics:ba,errHandler:za,settings:ka}),Q.on(t.default.BUFFERING_COMPLETED,I,T),Q.on(t.default.DATA_UPDATE_COMPLETED,O,T),T}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(105)),l=e(b(113)),p=e(b(114)),n=e(b(153)),m=e(b(47)),
 t=e(b(55)),r=e(b(46)),u=e(b(52)),q=e(b(48)),v=e(b(174));g.__dashjs_factory_name="Stream";d.default=q.default.getClassFactory(g);c.exports=d.default},{105:105,107:107,113:113,114:114,153:153,174:174,46:46,47:47,48:48,52:52,55:55}],105:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){Ba=[]}function d(b){b.sender.getType()===E&&b.sender.getStreamId()===g().id&&b.error&&b.error.code===v.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE&&f()}function e(b){b.sender.getStreamProcessor()===
 Q&&(C.getValue().doNotUpdateDVRWindowOnBufferUpdated||f())}function f(){var b=g(),c=(b=b?b.manifestInfo:null)?b.isDynamic:null;c=B.calcSegmentAvailabilityRange(ha.getCurrentRepresentation(),c);Z.addDVRInfo(E,O.getTime(),b,c)}function g(){return N?N.getStreamInfo():null}b=b||{};var m=this.context,R=(0,r.default)(m).getInstance(),E=b.type,x=b.errHandler,z=b.mimeType,B=b.timelineConverter,w=b.adapter,C=b.manifestModel,J=b.mediaPlayerModel,N=b.stream,I=b.abrController,O=b.playbackController,V=b.streamController,
 ea=b.mediaController,ca=b.textController,Z=b.dashMetrics,M=b.settings,Q=void 0,da=void 0,A=void 0,oa=void 0,wa=void 0,ha=void 0,za=void 0,Ba=void 0,ba=void 0;Q={initialize:function(c){(ba=(0,q.default)(m).create({type:E,mimeType:z,timelineConverter:B,dashMetrics:Z,mediaPlayerModel:J,baseURLController:b.baseURLController,errHandler:x,settings:M,streamInfo:g()})).initialize(O.getIsDynamic());I.registerStreamType(E,Q);(za=N.getFragmentController().getModel(E)).setStreamProcessor(Q);var d=E;oa=d===k.default.VIDEO||
 d===k.default.AUDIO?(0,h.default)(m).create({type:d,dashMetrics:Z,mediaPlayerModel:J,manifestModel:C,errHandler:x,streamController:V,mediaController:ea,adapter:w,textController:ca,abrController:I,playbackController:O,streamProcessor:Q,settings:M}):(0,l.default)(m).create({type:d,mimeType:z,dashMetrics:Z,mediaPlayerModel:J,manifestModel:C,errHandler:x,streamController:V,mediaController:ea,adapter:w,textController:ca,abrController:I,playbackController:O,streamProcessor:Q,settings:M});wa=(0,p.default)(m).create({type:E,
 mimeType:z,adapter:w,dashMetrics:Z,timelineConverter:B,mediaPlayerModel:J,abrController:I,playbackController:O,streamController:V,textController:ca,streamProcessor:Q,mediaController:ea,settings:M});(ha=(0,n.default)(m).create()).setConfig({abrController:I,dashMetrics:Z,manifestModel:C,playbackController:O,timelineConverter:B,streamProcessor:Q,type:E,streamId:g()?g().id:null});oa.initialize(c);wa.initialize()},isUpdating:function(){return!!ha&&ha.isUpdating()},getType:function(){return E},getBufferController:function(){return oa},
 getFragmentModel:function(){return za},getScheduleController:function(){return wa},getRepresentationController:function(){return ha},getRepresentationInfo:function(b){var c=void 0;return c=void 0!==b?((0,t.checkInteger)(b),ha?ha.getRepresentationForQuality(b):null):ha?ha.getCurrentRepresentation():null,w.convertDataToRepresentationInfo(c)},getBufferLevel:function(){return oa?oa.getBufferLevel():0},switchInitData:function(b,c){if(oa){var d=g();oa.switchInitData(d?d.id:null,b,c)}},isBufferingCompleted:function(){return!!oa&&
 oa.getIsBufferingCompleted()},createBuffer:function(b){return oa.getBuffer()||oa.createBuffer(da,b)},getStreamInfo:g,selectMediaInfo:function(b){b===da||b&&da&&b.type!==da.type||(da=b);var c=g();b=w.getRealAdaptation(c,da);var d=w.getVoRepresentations(da);if(ha){var e=ha.getData();c=I.getTopQualityIndexFor(E,c?c.id:null);var f=I.getMinAllowedIndexFor(E),h=null;e=null!==e&&e.id==b.id||E===k.default.FRAGMENTED_TEXT?I.getQualityFor(E):(h=I.getThroughputHistory().getAverageThroughput(E)||I.getInitialBitrateFor(E),
 I.getQualityForBitrate(da,h));void 0!==f&&e<f&&(e=f);c<e&&(e=c);ha.updateData(b,d,E,e)}},addMediaInfo:function(b,c){-1===A.indexOf(b)&&A.push(b);c&&this.selectMediaInfo(b)},switchTrackAsked:function(){wa.switchTrackAsked()},getMediaInfoArr:function(){return A},getMediaInfo:function(){return da},getMediaSource:function(){return oa.getMediaSource()},setMediaSource:function(b){oa.setMediaSource(b,da)},dischargePreBuffer:function(){oa.dischargePreBuffer()},getBuffer:function(){return oa.getBuffer()},
 setBuffer:function(b){oa.setBuffer(b)},registerExternalController:function(b){Ba.push(b)},unregisterExternalController:function(b){b=Ba.indexOf(b);-1!==b&&Ba.splice(b,1)},getExternalControllers:function(){return Ba},unregisterAllExternalController:c,addInbandEvents:function(b){N&&N.addInbandEvents(b)},setIndexHandlerTime:function(b){ba&&ba.setCurrentTime(b)},getIndexHandlerTime:function(){return ba?ba.getCurrentTime():NaN},resetIndexHandler:function(){ba&&ba.resetIndex()},getInitRequest:function(b){(0,
 t.checkInteger)(b);b=ha?ha.getRepresentationForQuality(b):null;return ba?ba.getInitRequest(da,b):null},getFragmentRequest:function(b,c,d){var e=null;ba&&(b=ha&&b?ha.getRepresentationForQuality(b.quality):null,e=void 0!==c&&void 0!==d?ba.getSegmentRequestForTime(da,b,c,d):ba.getNextSegmentRequest(da,b));return e},reset:function(b,f){ba.reset();oa&&(oa.reset(b,f),oa=null);wa&&(wa.reset(),wa=null);ha&&(ha.reset(),ha=null);I&&I.unRegisterStreamType(E);Ba.forEach(function(b){b.reset()});R.off(u.default.BUFFER_LEVEL_UPDATED,
 e,Q);R.off(u.default.DATA_UPDATE_COMPLETED,d,Q);A=[];da=null;c();N=E=null}};A=[];da=null;c();return R.on(u.default.BUFFER_LEVEL_UPDATED,e,Q),R.on(u.default.DATA_UPDATE_COMPLETED,d,Q),Q}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(112)),l=e(b(149)),p=e(b(118)),n=e(b(63)),m=e(b(48)),t=b(167),r=e(b(47)),u=e(b(55)),q=e(b(58)),v=e(b(52));g.__dashjs_factory_name="StreamProcessor";d.default=m.default.getClassFactory(g);c.exports=d.default},{107:107,112:112,118:118,149:149,167:167,
 47:47,48:48,52:52,55:55,58:58,63:63}],106:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){b=b||{};var c=this.context,d=(0,n.default)(c).getInstance(),e=(0,h.default)(c).create({errHandler:b.errHandler,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier});return{load:function(b,c,f){function g(e,g){c.resolved=!0;c.resolvedContent=e||null;d.trigger(m.default.XLINK_ELEMENT_LOADED,{element:c,resolveObject:f,error:e||g?null:
 new k.default(r.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,r.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+b)})}if("urn:mpeg:dash:resolve-to-zero:2013"===b)g(null,!0);else{var h=new p.default(b,l.HTTPRequest.XLINK_EXPANSION_TYPE);e.load({request:h,success:function(b){g(b)},error:function(){g(null)}})}},reset:function(){e&&(e.abort(),e=null)}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(174)),h=e(b(131)),l=b(190),p=e(b(181)),n=e(b(47)),m=e(b(55)),t=e(b(48)),r=e(b(52));g.__dashjs_factory_name=
 "XlinkLoader";d.default=t.default.getClassFactory(g);c.exports=d.default},{131:131,174:174,181:181,190:190,47:47,48:48,52:52,55:55}],107:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.init()}Object.defineProperty(d,"__esModule",{value:!0});b=new (function(b,c,d){return c&&
 e(b.prototype,c),d&&e(b,d),b}(g,[{key:"init",value:function(){this.STREAM="stream";this.VIDEO="video";this.AUDIO="audio";this.TEXT="text";this.FRAGMENTED_TEXT="fragmentedText";this.EMBEDDED_TEXT="embeddedText";this.MUXED="muxed";this.IMAGE="image";this.STPP="stpp";this.TTML="ttml";this.VTT="vtt";this.WVTT="wvtt";this.ABR_STRATEGY_DYNAMIC="abrDynamic";this.ABR_STRATEGY_BOLA="abrBola";this.ABR_STRATEGY_THROUGHPUT="abrThroughput";this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow";this.MOVING_AVERAGE_EWMA=
 "ewma";this.BAD_ARGUMENT_ERROR="Invalid Arguments";this.MISSING_CONFIG_ERROR="Missing config parameter(s)";this.LOCATION="Location";this.INITIALIZE="initialize";this.TEXT_SHOWING="showing";this.TEXT_HIDDEN="hidden";this.CC1="CC1";this.CC3="CC3";this.UTF8="utf-8";this.SCHEME_ID_URI="schemeIdUri";this.START_TIME="starttime";this.SERVICE_DESCRIPTION_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019";this.SUPPLEMENTAL_PROPERTY_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019"}}]),g);d.default=b;c.exports=
 d.default},{}],108:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.init()}Object.defineProperty(d,"__esModule",{value:!0});b=new (function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList";this.HTTP_REQUEST=
 "HttpList";this.TRACK_SWITCH="RepSwitchList";this.BUFFER_LEVEL="BufferLevel";this.BUFFER_LOADED="bufferLoaded";this.ABANDON_LOAD="abandonload";this.ALLOW_LOAD="allowload";this.BUFFER_EMPTY="bufferStalled";this.BUFFER_STATE="BufferState";this.DVR_INFO="DVRInfo";this.DROPPED_FRAMES="DroppedFrames";this.SCHEDULING_INFO="SchedulingInfo";this.REQUESTS_QUEUE="RequestsQueue";this.MANIFEST_UPDATE="ManifestUpdate";this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo";this.MANIFEST_UPDATE_TRACK_INFO=
 "ManifestUpdateRepresentationInfo";this.PLAY_LIST="PlayList";this.DVB_ERRORS="DVBErrors"}}]),g);d.default=b;c.exports=d.default},{}],109:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){(da=(0,k.default)(ea).create({dashMetrics:X,mediaPlayerModel:ma,settings:sa})).initialize()}function c(){oa={};wa={};za={};ha={};aa={};W={};void 0===ba&&(ba=!1);pa=Y=T=void 0;clearTimeout(Ba);Ba=null}function d(b){b.mediaType===h.default.VIDEO&&(T=b.oldQuality,Y.push(T,
 U.getPlaybackQuality()))}function e(b){b.metric!==l.default.HTTP_REQUEST||!b.value||b.value.type!==S.HTTPRequest.MEDIA_SEGMENT_TYPE||b.mediaType!==h.default.AUDIO&&b.mediaType!==h.default.VIDEO||pa.push(b.mediaType,b.value,sa.get().streaming.abr.useDeadTimeLatency);if(b.metric===l.default.BUFFER_LEVEL&&(b.mediaType===h.default.AUDIO||b.mediaType===h.default.VIDEO)){var c=b.mediaType;b=.001*b.value.level;var d=sa.get().streaming.abr.ABRStrategy;if(d===h.default.ABR_STRATEGY_BOLA)W[c]=!0;else if(d===
 h.default.ABR_STRATEGY_THROUGHPUT)W[c]=!1;else{var e=ma.getStableBufferTime();d=W[c];e=(d?.5*e:e)<b;(W[c]=e)!==d&&(e?Q.info("["+c+"] switching from throughput to buffer occupancy ABR rule (buffer: "+b.toFixed(3)+")."):Q.info("["+c+"] switching from buffer occupancy to throughput ABR rule (buffer: "+b.toFixed(3)+")."))}}}function f(b,c){return oa[c]=oa[c]||{},oa[c].hasOwnProperty(b)||(oa[c][b]=0),function(b,c){if(c!==h.default.VIDEO||!sa.get().streaming.abr.limitBitrateByPortal||!ha[c])return b;ba||
 O();c=Ca.getAdaptationForType(0,c).Representation;if(0<D&&0<$a){for(;0<b&&c[b]&&D<c[b].width&&D-c[b-1].width<c[b].width-D;)--b;for(;b<c.length-1&&c[b].width===c[b+1].width;)b+=1}return b}(function(b,c,d){c=sa.get().streaming.abr.maxRepresentationRatio[c];return isNaN(c)||1<=c||0>c?b:Math.min(b,Math.round(d*c))}(function(b,c){var d=b;if(!ha[c])return d;var e=r(c);void 0!==e&&(d=Math.max(b,e));b=g(c);void 0!==b&&(d=Math.min(d,b));return d}(oa[c][b],b),b,oa[c][b]),b)}function g(b){var c=sa.get().streaming.abr.maxBitrate[b];
 return-1<c?J(ha[b].getMediaInfo(),c):void 0}function r(b){var c=sa.get().streaming.abr.minBitrate[b];if(-1<c){var d=ha[b].getMediaInfo();b=N(d);d=J(d,c);return b[d]&&d<b.length-1&&b[d].bitrate<1E3*c&&d++,d}}function w(b,c,d,e){var g=c.id;c=I(b);(0,L.checkInteger)(d);g=f(b,g);d!==c&&0<=d&&d<=g&&C(b,c,d,g,e)}function C(b,c,d,e,f){if(b&&ha[b]){var g=ha[b].getStreamInfo(),h=g?g.id:null;if(sa.get().debug.logLevel===H.default.LOG_LEVEL_DEBUG){var k=X.getCurrentBufferLevel(b,!0);Q.info("["+b+"] switch from "+
 c+" to "+d+"/"+e+" (buffer: "+k+") "+(f?JSON.stringify(f):"."))}wa[h]=wa[h]||{};wa[h][b]=d;!0;Z.trigger(t.default.QUALITY_CHANGE_REQUESTED,{mediaType:b,streamInfo:g,oldQuality:c,newQuality:d,reason:f});c=pa.getAverageThroughput(b);isNaN(c)||ka.setSavedBitrateSettings(b,c)}}function J(b,c,d){var e=b&&b.type?ha[b.type].getRepresentationInfo():null;if(sa.get().streaming.abr.useDeadTimeLatency&&d&&e&&e.fragmentDuration){d/=1E3;e=e.fragmentDuration;if(e<d)return 0;c*=1-d/e}b=N(b);for(d=b.length-1;0<=d;d--)if(1E3*
 c>=b[d].bitrate)return d;return 0}function N(b){var c=[];if(!b||!b.bitrateList)return c;var d=b.bitrateList;b=b.type;for(var e,f=0,g=d.length;f<g;f++)(e=new p.default).mediaType=b,e.qualityIndex=f,e.bitrate=d[f].bandwidth,e.width=d[f].width,e.height=d[f].height,e.scanType=d[f].scanType,c.push(e);return c}function I(b){if(b&&ha[b]){var c=ha[b].getStreamInfo();if(c=c?c.id:null)return wa[c]=wa[c]||{},wa[c].hasOwnProperty(b)||(wa[c][b]=0),wa[c][b]}return 0}function O(){if(U){var b=sa.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&
 window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;D=U.getClientWidth()*b;$a=U.getClientHeight()*b}}function V(b){var c=b.request.mediaType;if(sa.get().streaming.abr.autoSwitchBitrate[c]){var d=ha[c];if(d){var e=(0,u.default)(ea).create({abrController:M,streamProcessor:d,currentRequest:b.request,useBufferOccupancyABR:W[c]});e=da.shouldAbandonFragment(e);e.quality>q.default.NO_CHANGE&&(d=d.getFragmentModel(),d.getRequests({state:n.default.FRAGMENT_MODEL_LOADING,index:b.request.index})[0]&&
 (d.abortRequests(),za[c].state=l.default.ABANDON_LOAD,aa[c].reset(),aa[c].push({oldValue:I(c),newValue:e.quality,confidence:1,reason:e.reason}),w(c,A.getActiveStreamInfo(),e.quality,e.reason),clearTimeout(Ba),Ba=setTimeout(function(){za[c].state=l.default.ALLOW_LOAD;Ba=null},sa.get().streaming.abandonLoadTimeout)))}}}var ea=this.context,ca=(0,H.default)(ea).getInstance(),Z=(0,m.default)(ea).getInstance(),M=void 0,Q=void 0,da=void 0,A=void 0,oa=void 0,wa=void 0,ha=void 0,za=void 0,Ba=void 0,ba=void 0,
 D=void 0,$a=void 0,Ca=void 0,U=void 0,ma=void 0,ka=void 0,T=void 0,aa=void 0,Y=void 0,pa=void 0,W=void 0,X=void 0,sa=void 0;return M={isPlayingAtTopQuality:function(b){b=b?b.id:null;var c=I(h.default.AUDIO),d=I(h.default.VIDEO);return c===f(h.default.AUDIO,b)&&d===f(h.default.VIDEO,b)},updateTopQualityIndex:function(b){var c=b.representationCount-1,d=b.type;b=b.streamInfo.id;oa[b]=oa[b]||{};return oa[b][d]=c},getThroughputHistory:function(){return pa},getBitrateList:N,getQualityForBitrate:J,getTopBitrateInfoFor:function(b){if(b&&
 ha&&ha[b]){var c=ha[b].getStreamInfo();if(c&&c.id)return c=f(b,c.id),b=N(ha[b].getMediaInfo()),b[c]?b[c]:null}return null},getMaxAllowedIndexFor:g,getMinAllowedIndexFor:r,getInitialBitrateFor:function(b){if(!ka||!ka.hasOwnProperty("getSavedBitrateSettings"))throw Error(h.default.MISSING_CONFIG_ERROR);if(b===h.default.TEXT||b===h.default.FRAGMENTED_TEXT)return NaN;var c=ka.getSavedBitrateSettings(b),d=sa.get().streaming.abr.initialBitrate[b],e=sa.get().streaming.abr.initialRepresentationRatio[b];-1===
 d&&(-1<e?(b=Ca.getAdaptationForType(0,b).Representation,d=Array.isArray(b)?b[Math.max(Math.round(b.length*e)-1,0)].bandwidth:0):d=isNaN(c)?b===h.default.VIDEO?1E3:100:c);return d},getQualityFor:I,getAbandonmentStateFor:function(b){return za[b]?za[b].state:null},setPlaybackQuality:w,checkPlaybackQuality:function(b){if(b&&ha&&ha[b]){var c=ha[b].getStreamInfo(),d=c?c.id:null;c=I(b);var e=(0,u.default)(ea).create({abrController:M,streamProcessor:ha[b],currentValue:c,switchHistory:aa[b],droppedFramesHistory:Y,
 useBufferOccupancyABR:W[b]});if(Y){var g=U.getPlaybackQuality();g&&Y.push(T,g)}if(sa.get().streaming.abr.autoSwitchBitrate[b]){g=r(b);d=f(b,d);e=da.getMaxQuality(e);var h=e.quality;(void 0!==g&&(h>q.default.NO_CHANGE?h:c)<g&&(h=g),d<h&&(h=d),aa[b].push({oldValue:c,newValue:h}),h>q.default.NO_CHANGE&&h!=c)?(za[b].state===l.default.ALLOW_LOAD||c<h)&&C(b,c,h,d,e.reason):sa.get().debug.logLevel===H.default.LOG_LEVEL_DEBUG&&(g=X.getCurrentBufferLevel(b,!0),Q.debug("["+b+"] stay on "+c+"/"+d+" (buffer: "+
 g+")"))}}},getTopQualityIndexFor:f,setElementSize:O,setWindowResizeEventCalled:function(b){ba=b},createAbrRulesCollection:b,registerStreamType:function(c,f){aa[c]=aa[c]||(0,v.default)(ea).create();ha[c]=f;za[c]=za[c]||{};za[c].state=l.default.ALLOW_LOAD;W[c]=!1;Z.on(t.default.LOADING_PROGRESS,V,this);c==h.default.VIDEO&&(Z.on(t.default.QUALITY_CHANGE_RENDERED,d,this),Y=Y||(0,R.default)(ea).create(),O());Z.on(t.default.METRIC_ADDED,e,this);Z.on(t.default.PERIOD_SWITCH_COMPLETED,b,this);pa=pa||(0,K.default)(ea).create({settings:sa})},
 unRegisterStreamType:function(b){delete ha[b]},setConfig:function(b){b&&(b.streamController&&(A=b.streamController),b.domStorage&&(ka=b.domStorage),b.mediaPlayerModel&&(ma=b.mediaPlayerModel),b.dashMetrics&&(X=b.dashMetrics),b.adapter&&(Ca=b.adapter),b.videoModel&&(U=b.videoModel),b.settings&&(sa=b.settings))},reset:function(){c();Z.off(t.default.LOADING_PROGRESS,V,this);Z.off(t.default.QUALITY_CHANGE_RENDERED,d,this);Z.off(t.default.METRIC_ADDED,e,this);Z.off(t.default.PERIOD_SWITCH_COMPLETED,b,
 this);da&&da.reset()}},Q=ca.getLogger(M),c(),M}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(138)),h=e(b(107)),l=e(b(108)),p=e(b(173)),n=e(b(124)),m=e(b(47)),t=e(b(55)),r=e(b(48)),u=e(b(134)),q=e(b(135)),v=e(b(136)),R=e(b(133)),K=e(b(137)),H=e(b(46)),S=b(190),L=b(167);g.__dashjs_factory_name="AbrController";b=r.default.getSingletonFactory(g);b.QUALITY_DEFAULT=0;r.default.updateSingletonFactory(g.__dashjs_factory_name,b);d.default=b;c.exports=d.default},{107:107,108:108,124:124,133:133,
 134:134,135:135,136:136,137:137,138:138,167:167,173:173,190:190,46:46,47:47,48:48,55:55}],110:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=void 0,c=void 0,d=this.context,e=(0,m.default)(d).getInstance(),f=(0,l.default)(d).getInstance(),g=void 0,n=void 0;return b={reset:function(){g.reset();n.reset()},initialize:function(b){g.setConfig({adapter:c});g.update(b);n.chooseSelector(c.getIsDVB(b))},resolve:function(b){b=g.getForPath(b).reduce(function(b,c){return(c=
 n.select(c))?(f.isRelative(c.url)?b.url=f.resolve(c.url,b.url):(b.url=c.url,b.serviceLocation=c.serviceLocation),b.availabilityTimeOffset=c.availabilityTimeOffset,b.availabilityTimeComplete=c.availabilityTimeComplete,b):new p.default},new p.default);if(!f.isRelative(b.url))return b},setConfig:function(b){b.baseURLTreeModel&&(g=b.baseURLTreeModel);b.baseURLSelector&&(n=b.baseURLSelector);b.adapter&&(c=b.adapter)}},g=(0,k.default)(d).create(),n=(0,h.default)(d).create(),e.on(t.default.SERVICE_LOCATION_BLACKLIST_CHANGED,
 function(b){g.invalidateSelectedIndexes(b.entry)},b),b}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(122)),h=e(b(155)),l=e(b(169)),p=e(b(85)),n=e(b(48)),m=e(b(47)),t=e(b(55));g.__dashjs_factory_name="BaseURLController";d.default=n.default.getSingletonFactory(g);c.exports=d.default},{122:122,155:155,169:169,47:47,48:48,55:55,85:85}],111:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b){-1===e.indexOf(b)&&(e.push(b),f.trigger(g,{entry:b}))}
 function d(b){c(b.entry)}b=b||{};var e=[],f=(0,h.default)(this.context).getInstance(),g=b.updateEventName,k=b.addBlacklistEventName;return function(){k&&f.on(k,d,this)}(),{add:c,contains:function(b){return!!(e.length&&b&&b.length)&&-1!==e.indexOf(b)},reset:function(){e=[]}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(47));g.__dashjs_factory_name="BlackListController";d.default=k.default.getClassFactory(g);c.exports=d.default},{47:47,48:48}],112:[function(b,c,d){function e(b){return b&&
 b.__esModule?b:{default:b}}function g(b){function c(b,c){if(!Ga||!b||!P)return null;if(va)try{"function"==typeof(ia=c&&c[ta]?(0,p.default)(T).create(va,b,v.bind(this),Aa.get().streaming.useAppendWindowEnd,c[ta]):(0,p.default)(T).create(va,b,v.bind(this),Aa.get().streaming.useAppendWindowEnd)).getBuffer().initialize&&ia.getBuffer().initialize(ta,P)}catch(Ta){ra.fatal("Caught error on create SourceBuffer: "+Ta),pa.error(new H.default(S.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,S.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+
 ta))}else ia=(0,n.default)(T).create(v.bind(this));return za(P.getRepresentationInfo(xa).MSETimeOffset),ia}function d(b){b.fragmentModel===P.getFragmentModel()&&(ra.info("Init fragment finished loading saving to",ta+"'s init cache"),Ga.save(b.chunk),ra.debug("Append Init fragment",ta," with representationId:",b.chunk.representationId," and quality:",b.chunk.quality,", data size:",b.chunk.bytes.byteLength),f(b.chunk))}function e(b){if(b.fragmentModel===P.getFragmentModel()){b=b.chunk;var c=b.bytes,
 d=b.quality,e=P.getRepresentationInfo(d),g=P.getRepresentationController();g=g&&e?g.getRepresentationForQuality(e.quality):null;var h=sa.getEventsFor(e.mediaInfo),k=sa.getEventsFor(e,g);if(h&&0<h.length||k&&0<k.length){d=P.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,quality:d,index:b.index})[0];d=Math.max(!d||isNaN(d.startTime)?0:d.startTime,0);e=[];g=[];var n=h.concat(k);h=0;for(k=n.length;h<k;h++)e[n[h].schemeIdUri+"/"+n[h].value]=n[h];c=(0,q.default)(T).getInstance().parse(c).getBoxes("emsg");
 h=0;for(k=c.length;h<k;h++)(n=sa.getEvent(c[h],e,d))&&g.push(n);P.addInbandEvents(g)}Ra?(Fa=b,(b=ia&&ia.getAllBufferRanges())&&0<b.length&&.5<la.getTimeToStreamEnd()&&(ra.debug("Clearing buffer because track changed - "+(b.end(b.length-1)+.5)),oa([{start:0,end:b.end(b.length-1)+.5,force:!0}]))):f(b)}}function f(b){ia.append(b);b.mediaInfo.type===k.default.VIDEO&&aa.trigger(u.default.VIDEO_CHUNK_RECEIVED,{chunk:b})}function g(b){if(b&&0<b.length)for(var c=0,d=b.length;c<d;c++)ra.debug("Buffered Range",
 b.start(c)," - ",b.end(c)," currentTime = ",la.getTime())}function v(b){if(b.error){if(22===b.error.code&&(Ha=.8*ma(),ra.warn("Quota exceeded, Critical Buffer: "+Ha),0<Ha)){var c=Math.max(.2*Ha,1),d=Ha-c;c={streaming:{bufferToKeep:parseFloat(c.toFixed(5)),bufferAheadToKeep:parseFloat(d.toFixed(5))}};Aa.update(c)}22!==b.error.code&&ma()<Ha||(ra.warn("Clearing playback buffer to overcome quota exceed situation"),aa.trigger(u.default.QUOTA_EXCEEDED,{sender:ya,criticalBufferLevel:Ha}),N())}else(Ja=b.chunk)&&
 !isNaN(Ja.index)&&(ua=Math.max(Ja.index,ua),M()),b=ia.getAllBufferRanges(),Ja.segmentType===L.HTTPRequest.MEDIA_SEGMENT_TYPE?(g(b),I()):Ra&&(c=la.getTime(),ra.debug("AppendToBuffer seek target should be "+c),P.getScheduleController().setSeekTarget(c),P.setIndexHandlerTime(c)),b={sender:ya,quality:Ja.quality,startTime:Ja.start,index:Ja.index,bufferedRanges:b},Ja&&!Ja.endFragment?aa.trigger(u.default.BYTES_APPENDED,b):Ja&&aa.trigger(u.default.BYTES_APPENDED_END_FRAGMENT,b)}function w(b){xa!==b.newQuality&&
 ta===b.mediaType&&P.getStreamInfo().id===b.streamInfo.id&&(za(P.getRepresentationInfo(b.newQuality).MSETimeOffset),xa=b.newQuality)}function y(){fa&&(fa=!(Ua=!0),Ka=Number.POSITIVE_INFINITY);ta!==k.default.FRAGMENTED_TEXT?N():I()}function J(){Da=void 0}function N(){ia.waitForUpdateEnd(function(){var b=[],c=ia.getAllBufferRanges();if(c&&0!==c.length){var d=la.getTime(),e=c.end(c.length-1)+.5;if(d=P.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,time:d,threshold:.01})[0]){var f=
 {start:0,end:d.startTime-.5},g=P.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,time:d.startTime-d.duration/2,threshold:.01})[0];g&&g.startTime!=d.startTime&&(f.end=g.startTime);f.start<f.end&&f.end>c.start(0)&&b.push(f);c={start:d.startTime+d.duration+.5,end:e};(f=P.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,time:d.startTime+d.duration+.5,threshold:.01})[0])&&f.startTime!==d.startTime&&(c.start=f.startTime+f.duration+.5);c.start<c.end&&c.start<
 e&&b.push(c)}else ra.debug("getAllRangesWithSafetyFactor - No request found in current time position, removing full buffer 0 -",e),b.push({start:0,end:e})}b&&0!==b.length||I();oa(b)})}function I(){(!Ra||ta===k.default.FRAGMENTED_TEXT&&ja.isTextEnabled())&&(ca(),Z())}function O(){Q()}function V(){void 0!==Da&&(Da=void 0);Q()}function ea(b,c){var d=ia.getAllBufferRanges(),e,f=null,g=null,h,k=c||.15;if(null!=d){var l=0;for(h=d.length;l<h;l++)if(c=d.start(l),e=d.end(l),null===f){var n=Math.abs(c-b);c<=
 b&&b<e?(f=c,g=e):n<=k&&(f=c,g=e)}else{if(!(c-g<=k))break;g=e}if(null!==f)return{start:f,end:g}}return null}function ca(){la&&(Ea=function(b,c){var d;return null===(d=ea(b,c))?0:d.end-b}(function(){var b=la.getTime();if(Da){var c=ia.getAllBufferRanges();c&&c.length&&(b=Math.max(c.start(0),Da))}return b}()||0),aa.trigger(u.default.BUFFER_LEVEL_UPDATED,{sender:ya,bufferLevel:Ea}),Q())}function Z(){P&&W&&P.getStreamInfo()&&(Y.addBufferState(ta,La,P.getScheduleController().getBufferTarget()),Y.addBufferLevel(ta,
 new Date,1E3*Ea))}function M(){Ka-1<=ua&&!fa&&void 0===ia.discharge&&(fa=!0,ra.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),aa.trigger(u.default.BUFFERING_COMPLETED,{sender:ya,streamInfo:P.getStreamInfo()}))}function Q(){ta!==k.default.AUDIO&&ta!==k.default.VIDEO||(Ua&&!fa&&0<Ea&&la&&.5>la.getTimeToStreamEnd()-Ea&&(fa=!(Ua=!1),ra.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),aa.trigger(u.default.BUFFERING_COMPLETED,{sender:ya,streamInfo:P.getStreamInfo()})),(!Aa.get().streaming.lowLatencyEnabled&&
 .5>Ea||0===Ea)&&!fa?da(h.default.BUFFER_EMPTY):(fa||Ea>=P.getStreamInfo().manifestInfo.minBufferTime)&&da(h.default.BUFFER_LOADED))}function da(b){La===b||b===h.default.BUFFER_EMPTY&&0===la.getTime()||ta===k.default.FRAGMENTED_TEXT&&!ja.isTextEnabled()||(La=b,Z(),aa.trigger(u.default.BUFFER_LEVEL_STATE_CHANGED,{sender:ya,state:b,mediaType:ta,streamInfo:P.getStreamInfo()}),aa.trigger(b===h.default.BUFFER_LOADED?u.default.BUFFER_LOADED:u.default.BUFFER_EMPTY,{mediaType:ta}),ra.debug(b===h.default.BUFFER_LOADED?
 "Got enough buffer to start":"Waiting for more buffer before starting playback"))}function A(){ia&&ta!==k.default.FRAGMENTED_TEXT&&(fa||oa(function(){var b=[],c=ia.getAllBufferRanges();if(!c||0===c.length)return b;var d=la.getTime(),e=Math.max(0,d-Aa.get().streaming.bufferToKeep),f=d+Aa.get().streaming.bufferAheadToKeep,g=P.getFragmentModel().getRequests({state:l.default.FRAGMENT_MODEL_EXECUTED,time:d,threshold:.01})[0];if(g)e=Math.min(g.startTime,e),f=Math.max(g.startTime+g.duration,f);else if(0===
 d&&la.getIsDynamic())return[];if(c.start(0)<=e){d={start:0,end:e};for(g=0;g<c.length&&c.end(g)<=e;g++)d.end=c.end(g);d.start<d.end&&b.push(d)}c.end(c.length-1)>=f&&(c={start:f,end:c.end(c.length-1)+.01},c.start<c.end&&b.push(c));return b}()))}function oa(b){b&&ia&&0!==b.length&&(Pa.push.apply(Pa,b),qa||wa())}function wa(){if(0===Pa.length||!ia)return ra.debug("Nothing to prune, halt pruning"),void(qa=!(Pa=[]));var b=ia.getBuffer();if(!b||!b.buffered||0===b.buffered.length)return ra.debug("SourceBuffer is empty (or does not exist), halt pruning"),
 void(qa=!(Pa=[]));b=Pa.shift();ra.debug("Removing buffer from:",b.start,"to",b.end);qa=!0;var c=la.getTime();c<b.end&&(fa=!1,ua=0,Ra||(P.getScheduleController().setSeekTarget(c),P.setIndexHandlerTime(c)));ia.remove(b.start,b.end,b.force)}function ha(b){ia===b.buffer&&(ra.debug("onRemoved buffer from:",b.from,"to",b.to),g(ia.getAllBufferRanges()),0===Pa.length&&(qa=!1),b.unintended&&(ra.warn("Detected unintended removal from:",b.from,"to",b.to,"setting index handler time to",b.from),P.setIndexHandlerTime(b.from)),
 qa?wa():(Ra?(Ra=!1,Fa&&f(Fa)):(ra.debug("onRemoved : call updateBufferLevel"),ca(),Z()),aa.trigger(u.default.BUFFER_CLEARED,{sender:ya,from:b.from,to:b.to,unintended:b.unintended,hasEnoughSpaceToAppend:ma()<Ha})))}function za(b){ia&&ia.updateTimestampOffset&&ia.updateTimestampOffset(b)}function Ba(b){b.sender.getType()!==P.getType()||b.sender.getStreamId()!==P.getStreamInfo().id||b.error||za(b.currentRepresentation.MSETimeOffset)}function ba(b){b.fragmentModel===P.getFragmentModel()&&(Ka=b.request.index,
 M())}function D(b){var c=ia&&ia.getAllBufferRanges();c&&b.newMediaInfo.type===ta&&b.newMediaInfo.streamInfo.id===P.getStreamInfo().id&&(ra.info("Track change asked"),X.getSwitchMode(ta)===t.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&c&&0<c.length&&.5<la.getTimeToStreamEnd()&&(fa=!1,Ka=Number.POSITIVE_INFINITY))}function $a(){++Ma*(Aa.get().streaming.wallclockTimeUpdateInterval/1E3)>=Aa.get().streaming.bufferPruningInterval&&(Ma=0,A())}function Ca(){Q()}function U(b,d){va=b;ia&&d&&"function"==typeof ia.discharge&&
 (Ia=ia,c(d))}function ma(){var b,c=ia.getAllBufferRanges(),d=0;if(!c)return d;var e=0;for(b=c.length;e<b;e++)d+=c.end(e)-c.start(e);return d}function ka(b,c){Ha=Number.POSITIVE_INFINITY;La=void 0;xa=m.default.QUALITY_DEFAULT;Ka=Number.POSITIVE_INFINITY;Ja=null;Ua=qa=fa=!1;Ma=Ea=ua=0;Pa=[];ia&&(b||ia.abort(),ia.reset(c),ia=null);Ra=!1}b=b||{};var T=this.context,aa=(0,r.default)(T).getInstance(),Y=b.dashMetrics,pa=b.errHandler,W=b.streamController,X=b.mediaController,sa=b.adapter,ja=b.textController,
 na=b.abrController,la=b.playbackController,ta=b.type,P=b.streamProcessor,Aa=b.settings,ya=void 0,ra=void 0,xa=void 0,fa=void 0,Ea=void 0,Ha=void 0,va=void 0,ua=void 0,Ka=void 0,ia=void 0,Ia=void 0,La=void 0,Ja=void 0,Ma=void 0,qa=void 0,Ga=void 0,Da=void 0,Ua=void 0,Pa=void 0,Ra=void 0,Fa=void 0;return ya={getBufferControllerType:function(){return"BufferController"},initialize:function(b){U(b);xa=na.getQualityFor(ta);aa.on(u.default.DATA_UPDATE_COMPLETED,Ba,this);aa.on(u.default.INIT_FRAGMENT_LOADED,
 d,this);aa.on(u.default.MEDIA_FRAGMENT_LOADED,e,this);aa.on(u.default.QUALITY_CHANGE_REQUESTED,w,this);aa.on(u.default.STREAM_COMPLETED,ba,this);aa.on(u.default.PLAYBACK_PLAYING,V,this);aa.on(u.default.PLAYBACK_PROGRESS,I,this);aa.on(u.default.PLAYBACK_TIME_UPDATED,I,this);aa.on(u.default.PLAYBACK_RATE_CHANGED,Ca,this);aa.on(u.default.PLAYBACK_SEEKING,y,this);aa.on(u.default.PLAYBACK_SEEKED,J,this);aa.on(u.default.PLAYBACK_STALLED,O,this);aa.on(u.default.WALLCLOCK_TIME_UPDATED,$a,this);aa.on(u.default.CURRENT_TRACK_CHANGED,
 D,this,r.default.EVENT_PRIORITY_HIGH);aa.on(u.default.SOURCEBUFFER_REMOVE_COMPLETED,ha,this)},createBuffer:c,dischargePreBuffer:function(){if(ia&&Ia&&"function"==typeof Ia.discharge){var b=Ia.getAllBufferRanges();if(0<b.length){for(var c="Beginning "+ta+"PreBuffer discharge, adding buffer for:",d=0;d<b.length;d++)c+=" start: "+b.start(d)+", end: "+b.end(d)+";";ra.debug(c)}else ra.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");b=Ia.discharge();c=null;for(d=
 0;d<b.length;d++){var e=b[d],f=Ga.extract(e.streamId,e.representationId);f&&(c!==f&&(ia.append(f),c=f),ia.append(e))}Ia.reset();Ia=null}},getType:function(){return ta},getStreamProcessor:function(){return P},setSeekStartTime:function(b){Da=b},getBuffer:function(){return ia},setBuffer:function(b){ia=b},getBufferLevel:function(){return Ea},getRangeAt:ea,setMediaSource:U,getMediaSource:function(){return va},getIsBufferingCompleted:function(){return fa},switchInitData:function(b,c,d){b=Ga.extract(b,c);
 Ra=!0===d&&d;b?(ra.info("Append Init fragment",ta," with representationId:",b.representationId," and quality:",b.quality,", data size:",b.bytes.byteLength),f(b)):aa.trigger(u.default.INIT_REQUESTED,{sender:ya})},getIsPruningInProgress:function(){return qa},reset:function(b,c){aa.off(u.default.DATA_UPDATE_COMPLETED,Ba,this);aa.off(u.default.QUALITY_CHANGE_REQUESTED,w,this);aa.off(u.default.INIT_FRAGMENT_LOADED,d,this);aa.off(u.default.MEDIA_FRAGMENT_LOADED,e,this);aa.off(u.default.STREAM_COMPLETED,
 ba,this);aa.off(u.default.CURRENT_TRACK_CHANGED,D,this);aa.off(u.default.PLAYBACK_PLAYING,V,this);aa.off(u.default.PLAYBACK_PROGRESS,I,this);aa.off(u.default.PLAYBACK_TIME_UPDATED,I,this);aa.off(u.default.PLAYBACK_RATE_CHANGED,Ca,this);aa.off(u.default.PLAYBACK_SEEKING,y,this);aa.off(u.default.PLAYBACK_SEEKED,J,this);aa.off(u.default.PLAYBACK_STALLED,O,this);aa.off(u.default.WALLCLOCK_TIME_UPDATED,$a,this);aa.off(u.default.SOURCEBUFFER_REMOVE_COMPLETED,ha,this);ka(b,c)}},ra=(0,R.default)(T).getInstance().getLogger(ya),
 Ga=(0,K.default)(T).getInstance(),ka(),ya}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(108)),l=e(b(124)),p=e(b(103)),n=e(b(102)),m=e(b(109)),t=e(b(115)),r=e(b(47)),u=e(b(55)),q=e(b(156)),v=e(b(48)),R=e(b(46)),K=e(b(162)),H=e(b(174)),S=e(b(52)),L=b(190);g.__dashjs_factory_name="BufferController";d.default=v.default.getClassFactory(g);c.exports=d.default},{102:102,103:103,107:107,108:108,109:109,115:115,124:124,156:156,162:162,174:174,190:190,46:46,47:47,48:48,52:52,55:55}],
 113:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){B=!1;S={};L={};y={};G=null;F=100;E=Date.now()/1E3}function c(){if(!x||!z)throw Error("setConfig function has to be called previously");}function d(){null!==G&&B&&(clearInterval(G),G=null,B=!1)}function e(){var b=z.getTime(),c=b-E;E=b;c=Math.max(0,c);f(L,c,b);f(S,c,b);if(y){b=z.getTime();c=Object.keys(y);for(var d=0;d<c.length;d++){var e=c[d],g=y[e];null!==g&&(g.duration+g.presentationTime)/g.eventStream.timescale<
 b&&(H.debug("Remove Event "+e+" at time "+b),delete y[e])}}}function f(b,d,e){var f,h;if(b)for(var l=Object.keys(b),m=0;m<l.length;m++){var p=l[m],q=b[p];void 0!==q&&(0==(f=q.presentationTime/q.eventStream.timescale)||f<=e&&e<f+d?(H.debug("Start Event "+p+" at "+e),0<q.duration&&(y[p]=q),"urn:mpeg:dash:event:2012"==q.eventStream.schemeIdUri&&1==q.eventStream.value?0===q.duration&&0===q.presentationTimeDelta||(c(),x.refreshManifest()):"urn:mpeg:dash:event:callback:2015"==q.eventStream.schemeIdUri&&
 1==q.eventStream.value?(h=q.messageData,(0,n.default)(g).create({}).load({method:"get",url:h,request:{responseType:"arraybuffer"}})):k.trigger(q.eventStream.schemeIdUri,{event:q}),delete b[p]):f<=e-d&&delete b[p])}}var g=this.context,k=(0,l.default)(g).getInstance(),K=void 0,H=void 0,S=void 0,L=void 0,y=void 0,G=void 0,F=void 0,E=void 0,x=void 0,z=void 0,B=void 0;return K={addInlineEvents:function(b){if(c(),S={},b)for(var d=0;d<b.length;d++){var e=b[d];S[e.id]=e;H.debug("Add inline event with id "+
 e.id)}H.debug("Added "+b.length+" inline events")},addInbandEvents:function(b){c();for(var d=0;d<b.length;d++){var e=b[d];if(e.id in L)H.debug("Repeated event with id "+e.id);else{if("urn:mpeg:dash:event:2012"===e.eventStream.schemeIdUri&&void 0===L[e.id]){var f=e;if(1==f.eventStream.value){var g=f.eventStream.timescale||1,h=f.presentationTime/g;g=4294967295==f.presentationTime?NaN:(f.presentationTime+f.duration)/g;H.info("Manifest validity changed: Valid until: "+h+"; remaining duration: "+g);k.trigger(p.default.MANIFEST_VALIDITY_CHANGED,
 {id:f.id,validUntil:h,newDuration:g,newManifestValidAfter:NaN})}}L[e.id]=e;H.debug("Add inband event with id "+e.id)}}},stop:d,start:function(){c();H.debug("Start Event Controller");B||isNaN(F)||(B=!0,G=setInterval(e,F))},setConfig:function(b){b&&(b.manifestUpdater&&(x=b.manifestUpdater),b.playbackController&&(z=b.playbackController))},reset:function(){d();b()}},H=(0,h.default)(g).getInstance().getLogger(K),b(),K}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(46)),l=e(b(47)),
 p=e(b(55)),n=e(b(132));g.__dashjs_factory_name="EventController";d.default=k.default.getClassFactory(g);c.exports=d.default},{132:132,46:46,47:47,48:48,55:55}],114:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){for(var b in E)E[b].reset();E={}}function d(b){if(E[b.request.mediaType]===b.sender){var c=b.request,d=b.response,e=c.isInitializationRequest(),g=c.mediaInfo.streamInfo;if(b.error&&(b.request.mediaType!==k.default.AUDIO&&b.request.mediaType!==
 k.default.VIDEO&&b.request.mediaType!==k.default.FRAGMENTED_TEXT||f.trigger(t.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:b.request.serviceLocation})),d&&g){g=g.id;var l=b.type!==t.default.FRAGMENT_LOADING_PROGRESS,n=new h.default;c=(n.streamId=g,n.mediaInfo=c.mediaInfo,n.segmentType=c.type,n.start=c.startTime,n.duration=c.duration,n.end=n.start+n.duration,n.bytes=d,n.index=c.index,n.quality=c.quality,n.representationId=c.representationId,n.endFragment=l,n);f.trigger(e?t.default.INIT_FRAGMENT_LOADED:
 t.default.MEDIA_FRAGMENT_LOADED,{chunk:c,fragmentModel:b.sender})}else F.warn("No "+c.mediaType+" bytes to push or stream is inactive.")}}b=b||{};var e=this.context,f=(0,m.default)(e).getInstance(),g=b.errHandler,q=b.mediaPlayerModel,r=b.dashMetrics,G=void 0,F=void 0,E=void 0;return G={getModel:function(c){var d=E[c];return d||(d=(0,l.default)(e).create({dashMetrics:r,fragmentLoader:(0,p.default)(e).create({dashMetrics:r,mediaPlayerModel:q,errHandler:g,requestModifier:(0,n.default)(e).getInstance(),
 settings:b.settings})}),E[c]=d),d},reset:function(){f.off(t.default.FRAGMENT_LOADING_COMPLETED,d,this);f.off(t.default.FRAGMENT_LOADING_PROGRESS,d,this);c()}},F=(0,u.default)(e).getInstance().getLogger(G),c(),f.on(t.default.FRAGMENT_LOADING_COMPLETED,d,G),f.on(t.default.FRAGMENT_LOADING_PROGRESS,d,G),G}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(175)),l=e(b(124)),p=e(b(97)),n=e(b(166)),m=e(b(47)),t=e(b(55)),r=e(b(48)),u=e(b(46));g.__dashjs_factory_name="FragmentController";
 d.default=r.default.getClassFactory(g);c.exports=d.default},{107:107,124:124,166:166,175:175,46:46,47:47,48:48,55:55,97:97}],115:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b,c){if(!b||!c)return[];c=c.id;return x[c]&&x[c][b]?x[c][b].list:[]}function c(b,c){return!b||!c||c&&!x[c.id]?null:x[c.id][b].current}function d(b){if(b&&b.streamInfo){var d=b.type,e=b.streamInfo,f=e.id;e=c(d,e);x[f]&&x[f][d]&&!K(b,e)&&(x[f][d].current=b,x[f][d].current&&G.trigger(h.default.CURRENT_TRACK_CHANGED,
 {oldMediaInfo:e,newMediaInfo:b,switchMode:w[d]}),b={lang:b.lang,viewpoint:b.viewpoint,roles:b.roles,accessibility:b.accessibility,audioChannelConfiguration:b.audioChannelConfiguration},(b=b.lang||b.viewpoint||b.role&&0<b.role.length||b.accessibility&&0<b.accessibility.length||b.audioChannelConfiguration&&0<b.audioChannelConfiguration.length?b:null)&&x[f][d].storeLastSettings&&(b.roles&&(b.role=b.roles[0],delete b.roles),b.accessibility&&(b.accessibility=b.accessibility[0]),b.audioChannelConfiguration&&
 (b.audioChannelConfiguration=b.audioChannelConfiguration[0]),C.setSavedMediaSettings(d,b)))}}function e(b,c){b&&c&&(z[b]=c)}function f(b){return b?z[b]:null}function g(){return B||"highestBitrate"}function p(b){return b===k.default.AUDIO||b===k.default.VIDEO||b===k.default.TEXT||b===k.default.FRAGMENTED_TEXT||b===k.default.IMAGE}function K(b,c){if(!b&&!c)return!0;if(!b||!c)return!1;var d=b.viewpoint===c.viewpoint,e=b.lang===c.lang,f=b.roles.toString()===c.roles.toString(),g=b.accessibility.toString()===
 c.accessibility.toString(),h=b.audioChannelConfiguration.toString()===c.audioChannelConfiguration.toString();return b.id===c.id&&d&&e&&f&&g&&h}function H(){x={};z={audio:null,video:null};w={audio:"alwaysReplace",video:"neverReplace"}}function S(b,c){var d=!b.lang||c.lang.match(b.lang),e=!b.viewpoint||b.viewpoint===c.viewpoint,f=!b.role||!!c.roles.filter(function(c){return c===b.role})[0],g=!b.accessibility||!!c.accessibility.filter(function(c){return c===b.accessibility})[0];c=!b.audioChannelConfiguration||
 !!c.audioChannelConfiguration.filter(function(c){return c===b.audioChannelConfiguration})[0];return d&&e&&f&&g&&c}function L(b){function c(b){var c=0,d=[],e=void 0;return b.forEach(function(b){e=Math.max.apply(Math,b.bitrateList.map(function(b){return b.bandwidth}));c<e?(c=e,d=[b]):e===c&&d.push(b)}),d}function d(b){var c=0,d=[],e=void 0;return b.forEach(function(b){e=b.representationCount;c<e?(c=e,d=[b]):e===c&&d.push(b)}),d}var e=g(),f=[];switch(e){case "highestBitrate":1<(f=c(b)).length&&(f=d(f));
 break;case "widestRange":1<(f=d(b)).length&&(f=c(b));break;default:E.warn("Track selection mode is not supported: "+e)}return f[0]}var y=this.context,G=(0,l.default)(y).getInstance(),F=void 0,E=void 0,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0,J=["alwaysReplace","neverReplace"],N=["highestBitrate","widestRange"];return F={checkInitialMediaSettingsForType:function(c,g){var h=f(c);g=b(c,g);var l=[];c!==k.default.FRAGMENTED_TEXT?(h||e(c,h=C.getSavedMediaSettings(c)),g&&0!==g.length&&(h&&g.forEach(function(b){S(h,
 b)&&l.push(b)}),0===l.length?d(L(g)):1<l.length?d(L(l)):d(l[0]))):d(g[0])},addTrack:function(b){if(b){var e=b.type;if(p(e)){var g=b.streamInfo.id;x[g]||(x[g]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});g=x[g][e].list;for(var h=0,k=g.length;h<k;++h)if(K(g[h],b))return;g.push(b);(g=f(e))&&
 S(g,b)&&!c(e,b.streamInfo)&&d(b)}}},getTracksFor:b,getCurrentTrackFor:c,isCurrentTrack:function(b){if(!b)return!1;var c=b.type,d=b.streamInfo.id;return x[d]&&x[d][c]&&K(x[d][c].current,b)},setTrack:d,setInitialSettings:e,getInitialSettings:f,setSwitchMode:function(b,c){-1!==J.indexOf(c)?w[b]=c:E.warn("Track switch mode is not supported: "+c)},getSwitchMode:function(b){return w[b]},setSelectionModeForInitialTrack:function(b){-1!==N.indexOf(b)?B=b:E.warn("Track selection mode is not supported: "+b)},
 getSelectionModeForInitialTrack:g,isMultiTrackSupportedByType:p,isTracksEqual:K,setConfig:function(b){b&&b.domStorage&&(C=b.domStorage)},reset:H},E=(0,n.default)(y).getInstance().getLogger(F),H(),F}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(55)),l=e(b(47)),p=e(b(48)),n=e(b(46));g.__dashjs_factory_name="MediaController";b=p.default.getSingletonFactory(g);b.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace";b.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace";b.TRACK_SELECTION_MODE_HIGHEST_BITRATE=
 "highestBitrate";b.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange";b.DEFAULT_INIT_TRACK_SELECTION_MODE="highestBitrate";p.default.updateSingletonFactory(g.__dashjs_factory_name,b);d.default=b;c.exports=d.default},{107:107,46:46,47:47,48:48,55:55}],116:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=void 0,c=void 0,d=this.context;return b={createMediaSource:function(){var b="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:b?new WebKitMediaSource:
 null},attachMediaSource:function(b,c){b=window.URL.createObjectURL(b);return c.setSource(b),b},detachMediaSource:function(b){b.setSource(null)},setDuration:function(b,c){return b.duration!=c&&(b.duration=c),b.duration},setSeekable:function(b,c,d){b&&"function"==typeof b.setLiveSeekableRange&&"function"==typeof b.clearLiveSeekableRange&&"open"===b.readyState&&0<=c&&c<d&&(b.clearLiveSeekableRange(),b.setLiveSeekableRange(c,d))},signalEndOfStream:function(b){if(b&&"open"===b.readyState){for(var d=b.sourceBuffers,
 e=0;e<d.length;e++)if(d[e].updating||0===d[e].buffered.length)return;c.info("call to mediaSource endOfStream");b.endOfStream()}}},c=(0,h.default)(d).getInstance().getLogger(b),b}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(46));g.__dashjs_factory_name="MediaSourceController";d.default=k.default.getSingletonFactory(g);c.exports=d.default},{46:46,48:48}],117:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b){!Aa&&b.fromStreamInfo&&
 void 0!==na[b.fromStreamInfo.id]&&(delete ta[b.fromStreamInfo.id],delete na[b.fromStreamInfo.id])}function c(){return parseFloat((d()-S()).toFixed(5))}function d(){var b=z(!0),c=Aa&&P?b-P.start:0;return b+(P?P.duration-c:c)}function e(){P&&W&&W.getElement()?W.play():ra=!0}function f(){return P&&W?W.isPaused():null}function g(){P&&W&&W.pause()}function n(){return P&&W?W.isSeeking():null}function H(b,c,d){P&&W&&(!0===d?b!==W.getTime()&&(W.removeEventListener("seeking",ea),T.info("Requesting internal seek to time: "+
 b),W.setCurrentTime(b,c)):(ma.trigger(p.default.PLAYBACK_SEEK_ASKED),P&&(delete ta[P.id],delete na[P.id]),T.info("Requesting seek to time: "+b),W.setCurrentTime(b,c)))}function S(){return P&&W?W.getTime():null}function L(){var b=S();if(Aa&&!isNaN(Qa)){var c=Qa/1E3;c<b&&(b-=c)}return b}function y(){return P&&W?W.getPlaybackRate():null}function G(){return P&&W?W.getEnded():null}function F(){if(!Aa||isNaN(Qa))return NaN;var b=L();if(isNaN(b)||0===b)return 0;var c=(new Date).getTime()+1E3*X.getClientTimeOffset();
 return Math.max(((c-Qa-1E3*b)/1E3).toFixed(3),0)}function E(){sa=NaN;ra=!1;na={};Qa=la=0;ta={};W&&(ma.off(p.default.DATA_UPDATE_COMPLETED,C,this),ma.off(p.default.BUFFER_LEVEL_STATE_CHANGED,D,this),ma.off(p.default.BYTES_APPENDED_END_FRAGMENT,Ba,this),ma.off(p.default.LOADING_PROGRESS,ba,this),ma.off(p.default.PERIOD_SWITCH_STARTED,b,this),ma.off(p.default.PLAYBACK_PROGRESS,za,this),ma.off(p.default.PLAYBACK_TIME_UPDATED,za,this),ma.off(p.default.PLAYBACK_ENDED,oa,this),ma.off(p.default.STREAM_INITIALIZING,
 Ca,this),clearInterval(ja),ja=null,W.removeEventListener("canplay",J),W.removeEventListener("play",N),W.removeEventListener("waiting",I),W.removeEventListener("playing",O),W.removeEventListener("pause",V),W.removeEventListener("error",wa),W.removeEventListener("seeking",ea),W.removeEventListener("seeked",ca),W.removeEventListener("timeupdate",Z),W.removeEventListener("progress",M),W.removeEventListener("ratechange",Q),W.removeEventListener("loadedmetadata",da),W.removeEventListener("stalled",U),W.removeEventListener("ended",
 A));Aa=P=W=ja=null}function x(){var b=Ka.getURIFragmentData(),c=void 0;if(b){c={};var d=parseInt(b.r,10);0<=d&&P&&d<P.manifestInfo.DVRWindowSize&&null===b.t&&(b.t=Math.max(Math.floor(Date.now()/1E3)-P.manifestInfo.DVRWindowSize,P.manifestInfo.availableFrom.getTime()/1E3+P.start)+d);c.fragS=parseFloat(b.s);c.fragT=parseFloat(b.t)}return c}function z(b,c){var d=void 0,e=NaN;e=b?P?P.start:e:(b=x())?isNaN(b.fragS)?b.fragT:b.fragS:0;Aa?(!isNaN(e)&&P&&(d=e-P.manifestInfo.availableFrom.getTime()/1E3,(sa<
 d||d<(isNaN(c)?NaN:c-P.manifestInfo.DVRWindowSize))&&(d=null)),d=d||sa):P&&(!isNaN(e)&&e<Math.max(P.manifestInfo.duration,P.duration)&&0<=e?d=e:(c=na[P.id],d=void 0!==c?Math.max(void 0!==c.audio?c.audio:0,void 0!==c.video?c.video:0,P.start):P.start));return d}function B(){null===ja&&(ja=setInterval(function(){ma.trigger(p.default.WALLCLOCK_TIME_UPDATED,{isDynamic:Aa,time:new Date});if(Aa&&f()){var b=Date.now();(!xa||xa+500<b)&&(xa=b,Z())}},ia.get().streaming.wallclockTimeUpdateInterval))}function w(){if(!f()&&
 Aa&&0!==W.getReadyState()){var b=L();var c=(c=(c=Y.getCurrentDVRInfo())?c.range:null)?b>c.end?Math.max(c.end-2*P.manifestInfo.minBufferTime,c.start):0<b&&b+.25<c.start&&31536E4>Math.abs(b-c.start)?c.start:b:NaN;!isNaN(c)&&c!==b&&H(c)}}function C(b){b.error||(b=(b=pa.convertDataToRepresentationInfo(b.currentRepresentation))?b.mediaInfo.streamInfo:null,null!==b&&P.id===b.id&&(P=b,w()))}function J(){ma.trigger(p.default.CAN_PLAY)}function N(){T.info("Native video element event: play");w();B();ma.trigger(p.default.PLAYBACK_STARTED,
 {startTime:S()})}function I(){T.info("Native video element event: waiting");ma.trigger(p.default.PLAYBACK_WAITING,{playingTime:S()})}function O(){T.info("Native video element event: playing");ma.trigger(p.default.PLAYBACK_PLAYING,{playingTime:S()})}function V(){T.info("Native video element event: pause");ma.trigger(p.default.PLAYBACK_PAUSED,{ended:G()})}function ea(){var b=S();T.info("Seeking to: "+b);B();ma.trigger(p.default.PLAYBACK_SEEKING,{seekTime:b})}function ca(){T.info("Native video element event: seeked");
 ma.trigger(p.default.PLAYBACK_SEEKED);W.addEventListener("seeking",ea)}function Z(){P&&ma.trigger(p.default.PLAYBACK_TIME_UPDATED,{timeToEnd:c(),time:S()})}function M(){ma.trigger(p.default.PLAYBACK_PROGRESS)}function Q(){var b=y();T.info("Native video element event: ratechange: ",b);ma.trigger(p.default.PLAYBACK_RATE_CHANGED,{playbackRate:b})}function da(){T.info("Native video element event: loadedmetadata");ma.trigger(p.default.PLAYBACK_METADATA_LOADED);B()}function A(){T.info("Native video element event: ended");
 g();clearInterval(ja);ja=null;ma.trigger(p.default.PLAYBACK_ENDED,{isLast:aa.getActiveStreamInfo().isLast})}function oa(b){ja&&b.isLast&&(T.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),W.setCurrentTime(d()),g(),clearInterval(ja),ja=null)}function wa(b){ma.trigger(p.default.PLAYBACK_ERROR,{error:(b.target||b.srcElement).error})}function ha(b,c){if(c&&0<c.length)for(var d=0,e=c.length;d<e;d++)if(b>=c.start(d)&&b<c.end(d))return!0;return!1}function za(){Aa&&ia.get().streaming.lowLatencyEnabled&&
 0<ia.get().streaming.liveCatchUpPlaybackRate&&!f()&&!n()&&(0<ia.get().streaming.liveCatchUpPlaybackRate&&0<S()&&Math.abs(F()-ya.getLiveDelay())>ia.get().streaming.liveCatchUpMinDrift?function(){if(W){var b=ia.get().streaming.liveCatchUpPlaybackRate,c=ya.getLiveDelay(),d=F()-c;b=1-b+2*b/(1+Math.pow(Math.E,-(5*d)));if(va){var e=function(){var b=null;return aa.getActiveStreamProcessors().forEach(function(c){c=c.getBufferLevel();b=null===b?c:Math.min(b,c)}),b}();c/2<e?va=!1:0<d&&(b=1)}Math.abs(W.getPlaybackRate()-
 b)>ua&&W.setPlaybackRate(b);0<ia.get().streaming.liveCatchUpMaxDrift&&!Ha&&d>ia.get().streaming.liveCatchUpMaxDrift?(T.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),Ha=!0,function(){var b=Y.getCurrentDVRInfo();H((b?b.range:null).end-ya.getLiveDelay(),!0,!1)}()):Ha=!1}}():W&&W.setPlaybackRate(1))}function Ba(b){var c=void 0,d=b.bufferedRanges;if(d&&d.length&&(!na[P.id]||!0!==na[P.id].started)){var e=b.sender.getType();void 0===ta[P.id]&&(ta[P.id]=[]);ta[P.id][e]=
 d;void 0===na[P.id]&&(na[P.id]=[],na[P.id].started=!1);void 0===na[P.id][e]&&(na[P.id][e]=Math.max(d.start(0),P.start));var f=aa.isTrackTypePresent(k.default.VIDEO),g=aa.isTrackTypePresent(k.default.AUDIO);b=z(!1);g&&f?isNaN(na[P.id].audio)||isNaN(na[P.id].video)||(d=na[P.id].audio<na[P.id].video?(c=na[P.id].video>b?na[P.id].video:b,ta[P.id].audio):(c=na[P.id].audio>b?na[P.id].audio:b,ta[P.id].video),ha(c,d)&&(ha(L(),ta[P.id].audio)&&ha(L(),ta[P.id].video)||Ea||0===c||H(c,!0,!0),na[P.id].started=
 !0)):na[P.id][e]&&(c=na[P.id][e]>b?na[P.id][e]:b,Ea||H(c,!1,!0),na[P.id].started=!0)}}function ba(b){!1===b.stream&&ia.get().streaming.lowLatencyEnabled&&!isNaN(b.request.duration)&&(b=1.2*b.request.duration,b>ya.getLiveDelay()&&(T.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",b.toFixed(2)),ia.update({streaming:{liveDelay:b}})))}function D(b){b.streamInfo.id===P.id&&(ia.get().streaming.lowLatencyEnabled?b.state!==h.default.BUFFER_EMPTY||
 n()||va||(va=!0,W&&W.setPlaybackRate(1)):W.setStallState(b.mediaType,b.state===h.default.BUFFER_EMPTY))}function U(b){ma.trigger(p.default.PLAYBACK_STALLED,{e:b})}function Ca(b){var c=b.streamInfo;b=b.mediaInfo;if(c&&c.manifestInfo&&c.manifestInfo.serviceDescriptions){for(var d=void 0,e=0;e<c.manifestInfo.serviceDescriptions.length;e++){var f=c.manifestInfo.serviceDescriptions[e];if(f.schemeIdUri===k.default.SERVICE_DESCRIPTION_LL_SCHEME){d=f;break}}d&&b&&b.supplementalProperties&&"true"===b.supplementalProperties[k.default.SUPPLEMENTAL_PROPERTY_LL_SCHEME]&&
 (d.latency&&0<d.latency.target&&(T.debug("Apply LL properties coming from service description. Target Latency (ms):",d.latency.target),ia.update({streaming:{lowLatencyEnabled:!0,liveDelay:d.latency.target/1E3,liveCatchUpMinDrift:d.latency.max>d.latency.target?(d.latency.max-d.latency.target)/1E3:void 0}})),d.playbackRate&&1<d.playbackRate.max&&(T.debug("Apply LL properties coming from service description. Max PlaybackRate:",d.playbackRate.max),ia.update({streaming:{lowLatencyEnabled:!0,liveCatchUpPlaybackRate:d.playbackRate.max-
 1}})))}!0}var fa=this.context,ma=(0,l.default)(fa).getInstance(),ka=void 0,T=void 0,aa=void 0,Y=void 0,pa=void 0,W=void 0,X=void 0,sa=void 0,ja=void 0,na=void 0,la=void 0,ta=void 0,P=void 0,Aa=void 0,ya=void 0,ra=void 0,xa=void 0,Qa=void 0,Ea=void 0,Ha=void 0,va=void 0,ua=void 0,Ka=void 0,ia=void 0;return ka={initialize:function(c,d){P=c;W.addEventListener("canplay",J);W.addEventListener("play",N);W.addEventListener("waiting",I);W.addEventListener("playing",O);W.addEventListener("pause",V);W.addEventListener("error",
 wa);W.addEventListener("seeking",ea);W.addEventListener("seeked",ca);W.addEventListener("timeupdate",Z);W.addEventListener("progress",M);W.addEventListener("ratechange",Q);W.addEventListener("loadedmetadata",da);W.addEventListener("stalled",U);W.addEventListener("ended",A);Aa=P.manifestInfo.isDynamic;va=Ha=!1;sa=P.start;Ea=d;c="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";ua=/safari/.test(c)&&!/chrome/.test(c)?.25:.02;ma.on(p.default.DATA_UPDATE_COMPLETED,C,this);ma.on(p.default.BYTES_APPENDED_END_FRAGMENT,
 Ba,this);ma.on(p.default.LOADING_PROGRESS,ba,this);ma.on(p.default.BUFFER_LEVEL_STATE_CHANGED,D,this);ma.on(p.default.PERIOD_SWITCH_STARTED,b,this);ma.on(p.default.PLAYBACK_PROGRESS,za,this);ma.on(p.default.PLAYBACK_TIME_UPDATED,za,this);ma.on(p.default.PLAYBACK_ENDED,oa,this);ma.on(p.default.STREAM_INITIALIZING,Ca,this);ra&&(ra=!1,e())},setConfig:function(b){b&&(b.streamController&&(aa=b.streamController),b.dashMetrics&&(Y=b.dashMetrics),b.mediaPlayerModel&&(ya=b.mediaPlayerModel),b.adapter&&(pa=
 b.adapter),b.videoModel&&(W=b.videoModel),b.timelineConverter&&(X=b.timelineConverter),b.uriFragmentModel&&(Ka=b.uriFragmentModel),b.settings&&(ia=b.settings))},getStartTimeFromUriParameters:x,getStreamStartTime:z,getTimeToStreamEnd:c,getTime:S,getNormalizedTime:L,getPlaybackRate:y,getPlayedRanges:function(){return P&&W?W.getPlayedRanges():null},getEnded:G,getIsDynamic:function(){return Aa},getStreamController:function(){return aa},setLiveStartTime:function(b){sa=b},getLiveStartTime:function(){return sa},
 computeLiveDelay:function(b,c){var d,e,f=void 0,g=Ka.getURIFragmentData();g&&(f=parseInt(g.r,10));g=pa.getSuggestedPresentationDelay();return la=(e=ia.get().streaming.useSuggestedPresentationDelay&&null!==g?g:ia.get().streaming.lowLatencyEnabled?0:ya.getLiveDelay()?ya.getLiveDelay():f||(isNaN(b)?2*P.manifestInfo.minBufferTime:b*ia.get().streaming.liveDelayFragmentCount),null!==(d=pa.getAvailabilityStartTime())&&(Qa=d),0<c)?Math.min(e,Math.max(c-10,c/2)):e},getLiveDelay:function(){return la},getCurrentLiveLatency:F,
 play:e,isPaused:f,pause:g,isSeeking:n,seek:H,reset:E},T=(0,m.default)(fa).getInstance().getLogger(ka),E(),ka}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(108)),l=e(b(47)),p=e(b(55)),n=e(b(48)),m=e(b(46));g.__dashjs_factory_name="PlaybackController";d.default=n.default.getSingletonFactory(g);c.exports=d.default},{107:107,108:108,46:46,47:47,48:48,55:55}],118:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){la&&!pa.isBufferingCompleted()?
 (ja.debug("Schedule Controller starts"),ha(),P=!1,ta=ta&&!1,f(0)):ja.warn("Start denied to Schedule Controller")}function d(){P||(ja.debug("Schedule Controller stops"),P=!0,clearTimeout(ra))}function e(){var b=pa.getBufferController();if(P||Aa||!b||ka.isPaused()&&!X.get().streaming.scheduleWhilePaused||!(Y!==k.default.FRAGMENTED_TEXT&&Y!==k.default.TEXT||aa.isTextEnabled()))ja.debug("Schedule stop!");else if(b.getIsBufferingCompleted())ja.debug("Schedule stop because buffering is completed!");else{!function(){var b=
 ka.getTime(),c=1.5;isNaN(la.fragmentDuration)&&(c=(c=U.getLatestBufferInfoVO(la.mediaInfo.type,!0,h.default.SCHEDULING_INFO))?1.5*c.duration:1.5);if((b=na.getRequests({state:m.default.FRAGMENT_MODEL_EXECUTED,time:b+c,threshold:0})[0])&&-1===Ka.indexOf(b)&&!D.getIsTextTrack(Y)){var d=X.get().streaming.fastSwitchEnabled,e=pa.getBufferLevel(),f=ma.getAbandonmentStateFor(Y),g=!W.isCurrentTrack(b.mediaInfo)&&W.getSwitchMode(b.mediaInfo.type)===v.default.TRACK_SWITCH_MODE_NEVER_REPLACE,k=b.quality<la.quality;
 d&&(g||k)&&c<=e&&f!==h.default.ABANDON_LOAD?(x(b),qa=!0,ja.debug("Reloading outdated fragment at index: ",b.index)):b.quality>la.quality&&!Ia&&(xa=ka.getTime()+e)}}();b=0<Ka.length;var c=pa.getStreamInfo();Ia||isNaN(ua)||ia||b||function(b,c){va[c]=va[c]||{};var d=ma.getTopQualityIndexFor(b,c);return va[c][b]!=d&&(ja.info("Top quality "+b+" index has changed from "+va[c][b]+" to "+d),va[c][b]=d,!0)}(la.mediaInfo.type,c.id)||Qa.execute(pa,T.isTrackTypePresent(k.default.VIDEO))?(u(!0),!b&&Ma&&ma.checkPlaybackQuality(Y),
 function(){if(la.quality===ua&&!ia||Ia){var b=Ka.shift();if(b&&b.isInitializationRequest())pa.switchInitData(b.representationId),Ma=!1;else{var d=void 0;pa.getBufferController().getIsPruningInProgress()||(d=Ea.execute(pa,xa,b),xa=NaN,d&&!b&&(isNaN(d.startTime+d.duration)||pa.setIndexHandlerTime(d.startTime+d.duration),d.delayLoadingTime=(new Date).getTime()+ya,ya=0),!d&&c.manifestInfo&&c.manifestInfo.isDynamic&&ja.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling."));
 d?(ja.debug("Next fragment request url is "+d.url),na.executeRequest(d)):(u(!1),f(X.get().streaming.lowLatencyEnabled?100:500));Ma=!0}}else ja.debug("Quality has changed, get init request for representationid = "+la.id),ia?(Ia=W.getSwitchMode(Y)===v.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,ja.debug("Switch track has been asked, get init request for "+Y+" with representationid = "+la.id+"bufferResetInProgress = "+Ia),pa.switchInitData(la.id,Ia),ia=!1):pa.switchInitData(la.id),ua=la.quality,Ma=!1}()):
 f(500)}}function f(b){clearTimeout(ra);ra=setTimeout(e,b)}function g(b){b.sender&&b.sender.getStreamProcessor()===pa&&K(la.quality)}function u(b){Aa!==b?Aa=b:ja.debug("isFragmentProcessingInProgress is already equal to",b)}function K(b){(b=pa.getInitRequest(b))&&(u(!0),na.executeRequest(b))}function x(b){Ka.push(b)}function z(b){if(Y===b.mediaType&&pa.getStreamInfo().id===b.streamInfo.id){if(null==(la=pa.getRepresentationInfo(b.newQuality)))throw Error("Unexpected error! - currentRepresentationInfo is null or undefined");
 U.pushPlayListTraceMetrics(new Date,l.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON);ha()}}function B(b){if(ka&&na){var c=na.getRequests({state:m.default.FRAGMENT_MODEL_EXECUTED,time:ka.getTime(),threshold:0})[0];c&&ka.getTime()>=c.startTime&&((!Ha.mediaInfo||c.mediaInfo.type===Ha.mediaInfo.type&&c.mediaInfo.id!==Ha.mediaInfo.id)&&b&&ba.trigger(r.default.TRACK_CHANGE_RENDERED,{mediaType:Y,oldMediaInfo:Ha.mediaInfo,newMediaInfo:c.mediaInfo}),c.quality===Ha.quality&&c.adaptationIndex===Ha.adaptationIndex||
 !b||ba.trigger(r.default.QUALITY_CHANGE_RENDERED,{mediaType:Y,oldQuality:Ha.quality,newQuality:c.quality}),Ha={mediaInfo:c.mediaInfo,quality:c.quality,adaptationIndex:c.adaptationIndex})}}function w(b){b.error||b.sender.getType()!==pa.getType()||(la=D.convertDataToRepresentationInfo(b.currentRepresentation))}function C(b){if(b.streamInfo&&pa.getStreamInfo().id===b.streamInfo.id){la=pa.getRepresentationInfo();if(ta)if(ka.getIsDynamic()){if(Ca.setTimeSyncCompleted(!0),Ja){b=Ja.getLiveEdge(pa.getRepresentationInfo());
 var d=b-ka.computeLiveDelay(la.fragmentDuration,la.mediaInfo.streamInfo.manifestInfo.DVRWindowSize);(d=pa.getFragmentRequest(la,d,{ignoreIsFinished:!0}))?X.get().streaming.lowLatencyEnabled?(d=d.duration<fa.getLiveDelay()?d.startTime:d.startTime+d.duration-fa.getLiveDelay(),ka.setLiveStartTime(d)):ka.setLiveStartTime(d.startTime):ja.debug("setLiveEdgeSeekTarget : getFragmentRequest returned undefined request object");xa=ka.getStreamStartTime(!1,b);pa.getBufferController().setSeekStartTime(xa);xa>
 la.mediaInfo.streamInfo.start+la.mediaInfo.streamInfo.duration&&ka.seek(xa);U.updateManifestUpdateInfo({currentTime:xa,presentationStartTime:b,latency:b-xa,clientTimeOffset:Ca.getClientTimeOffset()})}}else xa=ka.getStreamStartTime(!1),pa.getBufferController().setSeekStartTime(xa);P&&c()}}function J(b){b.fragmentModel===na&&(d(),u(!1),ja.info("Stream is complete"))}function N(b){b.sender===na&&(ja.info("OnFragmentLoadingCompleted - Url:",b.request?b.request.url:"undefined",b.request.range?", Range:"+
 b.request.range:""),D.getIsTextTrack(Y)&&u(!1),b.error&&b.request.serviceLocation&&!P&&(x(b.request),u(!1),f(0)),Ia&&(La=b.request))}function I(){B(!0)}function O(b){if(b.sender.getStreamProcessor()===pa)if(Ia&&!isNaN(b.startTime)&&(Ia=!1,na.addExecutedRequest(La)),u(!1),qa&&!isNaN(b.startTime)){var c=ka.getTime();b=b.startTime+la.fragmentDuration;var d=1.5*la.fragmentDuration;f(b<=c+d?0:1E3*(b-(c+d)));qa=!1}else f(0)}function V(b){b.streamProcessor===pa&&(ja.info("onFragmentLoadingAbandoned request: "+
 b.request.url+" has been aborted"),ka.isSeeking()||ia||(ja.info("onFragmentLoadingAbandoned request: "+b.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),x(b.request)),u(!1),f(0))}function ea(b){b.sender.getType()===pa.getType()&&b.sender.getStreamId()===pa.getStreamInfo().id&&d()}function ca(b){if(b.sender.getStreamProcessor()===pa){var d=pa.getStreamInfo();d&&(b.unintended?na.removeExecutedRequestsAfterTime(b.from):na.syncExecutedRequestsWithBufferedRange(pa.getBufferController().getBuffer().getAllBufferRanges(),
 d.duration));b.hasEnoughSpaceToAppend&&P&&c()}}function Z(b){b.sender.getStreamProcessor()!==pa||b.state!==h.default.BUFFER_EMPTY||ka.isSeeking()||(ja.info("Buffer is empty! Stalling!"),U.pushPlayListTraceMetrics(new Date,l.PlayListTrace.REBUFFERING_REASON))}function M(b){b.sender.getStreamProcessor()===pa&&(d(),u(!1))}function Q(){na.abortRequests();d()}function da(b){var c=pa.getStreamInfo();c=c?c.id:null;b.sender.getStreamId()===c&&aa.isTextEnabled()&&K(b.index)}function A(){!P&&X.get().streaming.scheduleWhilePaused||
 c()}function oa(b){xa=b.seekTime;ya=0;P&&c();b=la.DVRWindow&&ka?la.DVRWindow.end-ka.getTime():NaN;U.updateManifestUpdateInfo({latency:b});Aa?(ja.debug("onPlaybackSeeking, call fragmentModel.abortRequests in order to seek quicker"),na.abortRequests()):f(0)}function wa(b){U.updatePlayListTraceMetrics({playbackspeed:b.playbackRate.toString()})}function ha(){if(la){var b=ka.getPlaybackRate();U.createPlaylistTraceMetrics(la.id,1E3*ka.getTime(),null!==b?b.toString():null)}}function za(){Ha={mediaInfo:void(ya=
 0),quality:ua=xa=NaN,adaptationIndex:NaN};va={};Ka=[];qa=Ia=ia=!(P=ta=!(Aa=!(Ma=!(La=null))))}b=b||{};var Ba=this.context,ba=(0,t.default)(Ba).getInstance(),D=b.adapter,U=b.dashMetrics,Ca=b.timelineConverter,fa=b.mediaPlayerModel,ma=b.abrController,ka=b.playbackController,T=b.streamController,aa=b.textController,Y=b.type,pa=b.streamProcessor,W=b.mediaController,X=b.settings,sa=void 0,ja=void 0,na=void 0,la=void 0,ta=void 0,P=void 0,Aa=void 0,ya=void 0,ra=void 0,xa=void 0,Qa=void 0,Ea=void 0,Ha=void 0,
 va=void 0,ua=void 0,Ka=void 0,ia=void 0,Ia=void 0,La=void 0,Ja=void 0,Ma=void 0,qa=void 0;return sa={initialize:function(){na=pa.getFragmentModel();Qa=(0,p.default)(Ba).create({abrController:ma,dashMetrics:U,mediaPlayerModel:fa,textController:aa,settings:X});Ea=(0,n.default)(Ba).create({textController:aa,playbackController:ka});D.getIsTextTrack(b.mimeType)&&ba.on(r.default.TIMED_TEXT_REQUESTED,da,this);ba.on(r.default.QUALITY_CHANGE_REQUESTED,z,this);ba.on(r.default.DATA_UPDATE_STARTED,ea,this);ba.on(r.default.DATA_UPDATE_COMPLETED,
 w,this);ba.on(r.default.FRAGMENT_LOADING_COMPLETED,N,this);ba.on(r.default.STREAM_COMPLETED,J,this);ba.on(r.default.STREAM_INITIALIZED,C,this);ba.on(r.default.BUFFER_LEVEL_STATE_CHANGED,Z,this);ba.on(r.default.BUFFER_CLEARED,ca,this);ba.on(r.default.BYTES_APPENDED_END_FRAGMENT,O,this);ba.on(r.default.INIT_REQUESTED,g,this);ba.on(r.default.QUOTA_EXCEEDED,M,this);ba.on(r.default.PLAYBACK_SEEKING,oa,this);ba.on(r.default.PLAYBACK_STARTED,A,this);ba.on(r.default.PLAYBACK_RATE_CHANGED,wa,this);ba.on(r.default.PLAYBACK_TIME_UPDATED,
 I,this);ba.on(r.default.URL_RESOLUTION_FAILED,Q,this);ba.on(r.default.FRAGMENT_LOADING_ABANDONED,V,this)},getType:function(){return Y},setSeekTarget:function(b){xa=b},setTimeToLoadDelay:function(b){ya=b},replaceRequest:x,switchTrackAsked:function(){ia=!0},isStarted:function(){return!1===P},start:c,stop:d,reset:function(){ba.off(r.default.DATA_UPDATE_STARTED,ea,this);ba.off(r.default.DATA_UPDATE_COMPLETED,w,this);ba.off(r.default.BUFFER_LEVEL_STATE_CHANGED,Z,this);ba.off(r.default.QUALITY_CHANGE_REQUESTED,
 z,this);ba.off(r.default.FRAGMENT_LOADING_COMPLETED,N,this);ba.off(r.default.STREAM_COMPLETED,J,this);ba.off(r.default.STREAM_INITIALIZED,C,this);ba.off(r.default.QUOTA_EXCEEDED,M,this);ba.off(r.default.BYTES_APPENDED_END_FRAGMENT,O,this);ba.off(r.default.BUFFER_CLEARED,ca,this);ba.off(r.default.INIT_REQUESTED,g,this);ba.off(r.default.PLAYBACK_RATE_CHANGED,wa,this);ba.off(r.default.PLAYBACK_SEEKING,oa,this);ba.off(r.default.PLAYBACK_STARTED,A,this);ba.off(r.default.PLAYBACK_TIME_UPDATED,I,this);ba.off(r.default.URL_RESOLUTION_FAILED,
 Q,this);ba.off(r.default.FRAGMENT_LOADING_ABANDONED,V,this);D.getIsTextTrack(Y)&&ba.off(r.default.TIMED_TEXT_REQUESTED,da,this);d();B(!1);za();Ja&&(Ja.reset(),Ja=null)},getBufferTarget:function(){return Qa.getBufferTarget(pa,T.isTrackTypePresent(k.default.VIDEO))},finalisePlayList:function(b,c){U.pushPlayListTraceMetrics(b,c)}},ja=(0,q.default)(Ba).getInstance().getLogger(sa),ka&&ka.getIsDynamic()&&(Ja=(0,R.default)(Ba).create({timelineConverter:Ca})),za(),sa}Object.defineProperty(d,"__esModule",
 {value:!0});var k=e(b(107)),h=e(b(108)),l=b(192),p=e(b(145)),n=e(b(146)),m=e(b(124)),t=e(b(47)),r=e(b(55)),u=e(b(48)),q=e(b(46)),v=e(b(115)),R=e(b(164));g.__dashjs_factory_name="ScheduleController";d.default=u.default.getClassFactory(g);c.exports=d.default},{107:107,108:108,115:115,124:124,145:145,146:146,164:164,192:192,46:46,47:47,48:48,55:55}],119:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){if(oa(k.default.VIDEO)){var b=Ga.getPlaybackQuality();
 b&&na.addDroppedFrames(b)}}function c(){if(!(!Ya.get().streaming.jumpGaps||0===O()||Da.isSeeking()||Pa||La||Ja||Ma)&&40<=++db){var b=Da.getTime();if(cb===b){for(var c=O(),d=Ya.get().streaming.smallGapLimit,e=void 0,f=0;f<c.length;f++){var g=c[f].getBuffer().getAllBufferRanges(),h=void 0;if(g&&!(1>=g.length)){for(var k=0;k<g.length;k++)if(b<g.start(k)){h=g.start(k);break}0<h&&(g=h-b,0<g&&g<=d&&(void 0===e||e<h)&&(e=h))}}c=Da.getTimeToStreamEnd();void 0===e&&!isNaN(c)&&c<d&&(e=b+c);0<e&&(!isNaN(c)&&
 b+c<=e?(Y.info("Jumping media gap (discontinuity) at time ",b,". Jumping to end of the stream"),T.trigger(m.default.PLAYBACK_ENDED,{isLast:ba().isLast})):(Y.info("Jumping media gap (discontinuity) at time ",b,". Jumping to time position",e),Da.seek(e,!0,!0)))}else cb=b;db=0}}function d(b){var c=I(b.seekTime);Ta&&(g(),Wa=!1);bb&&(Y.debug("[PreloadTimer] stop period preload timer."),clearTimeout(bb),bb=void 0);c===ua&&ab&&ab.deactivate(!0);c&&(c!==ua||ab&&!ua.isActive())?(ha(r.PlayListTrace.END_OF_PERIOD_STOP_REASON),
 ca(ua,c,b.seekTime)):ha(r.PlayListTrace.USER_REQUEST_STOP_REASON);za(r.PlayList.SEEK_START_REASON)}function e(){Y.debug("[onPlaybackStarted]");Ra?(Ra=!1,za(r.PlayList.INITIAL_PLAYOUT_START_REASON)):Pa&&(Pa=!1,za(r.PlayList.RESUME_FROM_PAUSE_START_REASON),t())}function f(b){Y.debug("[onPlaybackPaused]");b.ended||(Pa=!0,ha(r.PlayListTrace.USER_REQUEST_STOP_REASON),t())}function g(){Y.debug("[toggleEndPeriodTimer] stop end period timer.");clearTimeout(Ta);Ta=void 0}function t(){if(Wa)if(Ta)g();else{var b=
 Da.getTimeToStreamEnd();b=0<b?1E3*b:0;var c=2E3>b?b/4:b-2E3;Y.debug("[toggleEndPeriodTimer] Going to fire preload in",c,"milliseconds");bb=setTimeout(N,c);Y.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",b,"milliseconds");Ta=setTimeout(function(){T.trigger(m.default.PLAYBACK_ENDED,{isLast:ba().isLast})},b)}}function C(b){if(b.sender&&(b.sender.getType()===k.default.AUDIO||b.sender.getType()===k.default.VIDEO)){var c=ba().isLast;qa&&!c&&void 0===
 Ta&&(Y.info("[onTrackBufferingCompleted] end of period detected. Track",b.sender.getType(),"has finished"),!(Wa=!0)===Pa&&t())}}function J(){var b=ba().isLast;qa&&b&&(Y.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),la.signalEndOfStream(qa))}function N(){var b,c=ba().isLast;qa&&!c&&(b=ea(),(Xa=ua.isProtectionCompatible(b)&&(eb||ua.isMediaCodecCompatible(b)))&&(Y.info("[onStreamCanLoadNext] Preloading next stream"),ua.stopEventController(),ua.deactivate(!0),
 b.preload(qa,Za),(ab=b).getProcessors().forEach(function(c){c.setIndexHandlerTime(b.getStartTime())})))}function I(b){var c=0,d=null,e=va.length;0<e&&(c+=va[0].getStartTime());for(var f=0;f<e;f++)if(d=va[f],b<(c=parseFloat((c+d.getDuration()).toFixed(5))))return d;return null}function O(){return ua?ua.getProcessors():[]}function V(){var b=ea();b?(Fa=Va=void 0,ca(ua,b,NaN)):Y.debug("StreamController no next stream found");ha(b?r.PlayListTrace.END_OF_PERIOD_STOP_REASON:r.PlayListTrace.END_OF_CONTENT_STOP_REASON);
 Ta=void 0;Wa=!1}function ea(){if(ua){var b=(c=ba().start,d=ba().duration,{v:va.filter(function(b){return b.getStreamInfo().start===parseFloat((c+d).toFixed(5))})[0]});if("object"==typeof b)return b.v}var c,d}function ca(b,c,d){La||!c||b===c&&c.isActive()||(La=!0,T.trigger(m.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:b?b.getStreamInfo():null,toStreamInfo:c.getStreamInfo()}),Xa=!1,b&&(b.stopEventController(),Xa=ua.isProtectionCompatible(c)&&(eb||ua.isMediaCodecCompatible(c))&&!d||c.getPreloaded(),
 b.deactivate(Xa)),ua=c,ab=!1,Da.initialize(ba(),Xa),Ga.getElement()?Z(d,b,!1,Xa):M(d,Xa))}function Z(b,c,d,e){function f(){qa&&"open"==qa.readyState&&(Y.debug("MediaSource is open!"),window.URL.revokeObjectURL(g),qa.removeEventListener("sourceopen",f),qa.removeEventListener("webkitsourceopen",f),Q(),c||T.trigger(m.default.SOURCE_INITIALIZED),d?ua.setMediaSource(qa):M(b,e))}var g=void 0;qa?e?(M(b,e),c||T.trigger(m.default.SOURCE_INITIALIZED)):(la.detachMediaSource(Ga),qa.addEventListener("sourceopen",
 f,!1),qa.addEventListener("webkitsourceopen",f,!1),g=la.attachMediaSource(qa,Ga),Y.debug("MediaSource attached to element.  Waiting on open...")):((qa=la.createMediaSource()).addEventListener("sourceopen",f,!1),qa.addEventListener("webkitsourceopen",f,!1),g=la.attachMediaSource(qa,Ga),Y.debug("MediaSource attached to element.  Waiting on open..."))}function M(b,c){if(Za=ua.activate(qa,c?Za:void 0),Va=wa(k.default.AUDIO),Fa=wa(k.default.VIDEO),Za){var d=Object.keys(Za);0<d.length&&Za[d[0]].changeType&&
 (Y.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),eb=!0)}var e;Ra||(isNaN(b)?(e=Da.getStreamStartTime(!0),c||O().forEach(function(b){b.setIndexHandlerTime(e)})):Da.seek(b));ua.startEventController();!Ia&&Ra||Da.play();La=!1;T.trigger(m.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:ba()})}function Q(b){b=b||ba().manifestInfo.duration;b=la.setDuration(qa,b);Y.debug("Duration successfully set to: "+b)}function da(){var b=sa.getValue();Ka&&(T.trigger(m.default.PROTECTION_CREATED,
 {controller:Ka,manifest:b}),Ka.setMediaElement(Ga.getElement()),ia&&Ka.setProtectionData(ia));try{var c=ja.getStreamsInfo();if(0===c.length)throw Error("There are no streams");na.updateManifestUpdateInfo({currentTime:Da.getTime(),buffered:Ga.getBufferRange(),presentationStartTime:c[0].start,clientTimeOffset:Ha.getClientTimeOffset()});b=0;for(var d=c.length;b<d;b++){var e=c[b];a:{for(var f=e,g=0,h=va.length;g<h;g++)if(va[g].getId()===f.id){var k=va[g];break a}k=null}k?k.updateData(e):(k=(0,l.default)(ka).create({manifestModel:sa,
 mediaPlayerModel:Ua,dashMetrics:na,manifestUpdater:W,adapter:ja,timelineConverter:Ha,capabilities:pa,errHandler:Ea,baseURLController:P,abrController:Aa,playbackController:Da,mediaController:ya,textController:ra,videoModel:Ga,streamController:aa,settings:Ya}),va.push(k),k.initialize(e,Ka));na.addManifestUpdateStreamInfo(e)}if(!ua){var n=Da.getStartTimeFromUriParameters();c=null;n&&(c=I(isNaN(n.fragS)?n.fragT:n.fragS));ca(null,null!==c?c:va[0],NaN)}T.trigger(m.default.STREAMS_COMPOSED)}catch(fb){Ea.error(new L.default(y.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,
 fb.message+"nostreamscomposed",sa.getValue())),Ma=!0,Oa()}}function A(b){b.error?(Ma=!0,Oa()):function(){var c=b.manifest;ja.updatePeriods(c);var d=ja.getStreamsInfo(void 0,1)[0],e=ja.getMediaInfoForType(d,k.default.VIDEO)||ja.getMediaInfoForType(d,k.default.AUDIO);d=void 0;e&&(d=ja.getUseCalculatedLiveEdgeTimeForMediaInfo(e))&&(Y.debug("SegmentTimeline detected using calculated Live Edge Time"),Ya.update({streaming:{useManifestDateHeaderTimeSource:!1}}));e=ja.getUTCTimingSources();d=!ja.getIsDynamic()||
 d?e:e.concat(Ua.getUTCTimingSources());var f=Qa.isHTTPS(b.manifest.url);d.forEach(function(b){b.value.replace(/.*?:\/\//g,"")===Ua.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(b.value=b.value.replace(f?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),f?"https://":"http://"),Y.debug("Matching default timing source protocol to manifest protocol: ",b.value))});P.initialize(c);ta.setConfig({dashMetrics:na,baseURLController:P});ta.initialize(d,Ya.get().streaming.useManifestDateHeaderTimeSource)}()}
 function oa(b){var c=void 0;if(!b)return c;switch(b){case k.default.VIDEO:c=Fa;break;case k.default.AUDIO:c=Va}return c}function wa(b){var c=!1;return O().forEach(function(d){d.getMediaInfo().type===b&&(c=!0)}),c}function ha(b,c){c=c||new Date;O().forEach(function(d){(d=d.getScheduleController())&&d.finalisePlayList(c,b)});na.addPlayList()}function za(b){na.createPlaylistMetrics(1E3*Da.getTime(),b)}function Ba(b){if(b.error){switch(b.error.code){case 1:var c="MEDIA_ERR_ABORTED";break;case 2:c="MEDIA_ERR_NETWORK";
 break;case 3:c="MEDIA_ERR_DECODE";break;case 4:c="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:c="MEDIA_ERR_ENCRYPTED";break;default:c="UNKNOWN"}Ja=!0;b.error.message&&(c+=" ("+b.error.message+")");b.error.msExtendedCode&&(c+=" (0x"+(b.error.msExtendedCode>>>0).toString(16).toUpperCase()+")");Y.fatal("Video Element Error: "+c);b.error&&Y.fatal(b.error);Ea.error(new L.default(b.error.code,c));Oa()}}function ba(){return ua?ua.getStreamInfo():null}function D(){if(!(X&&X.hasOwnProperty("load")&&Ha&&Ha.hasOwnProperty("initialize")&&
 Ha.hasOwnProperty("reset")&&Ha.hasOwnProperty("getClientTimeOffset")&&sa&&Ea&&na&&Da))throw Error(k.default.MISSING_CONFIG_ERROR);}function U(b){isNaN(b.newDuration)||Q(b.newDuration)}function fa(){ua=Ka=null;Ta=Va=Fa=void 0;Wa=!(Ia=!(Pa=!(Ra=!(Ma=Ja=La=!(va=[])))));db=0}function Oa(){D();ta.reset();ha(Ja||Ma?r.PlayListTrace.FAILURE_STOP_REASON:r.PlayListTrace.USER_REQUEST_STOP_REASON);for(var g=0,h=va?va.length:0;g<h;g++)va[g].reset(Ja);!function(){T.off(m.default.PLAYBACK_TIME_UPDATED,b,this);T.off(m.default.PLAYBACK_SEEKING,
 d,this);T.off(m.default.PLAYBACK_ERROR,Ba,this);T.off(m.default.PLAYBACK_STARTED,e,this);T.off(m.default.PLAYBACK_PAUSED,f,this);T.off(m.default.PLAYBACK_ENDED,V,this);T.off(m.default.MANIFEST_UPDATED,A,this);T.off(m.default.BUFFERING_COMPLETED,C,this);T.off(m.default.STREAM_BUFFERING_COMPLETED,J,this);T.off(m.default.MANIFEST_VALIDITY_CHANGED,U,this);T.off(m.default.TIME_SYNCHRONIZATION_COMPLETED,da,this);T.off(m.default.WALLCLOCK_TIME_UPDATED,c,this);T.off(R.default.METRIC_ADDED,ma,this)}();P.reset();
 W.reset();na.clearAllCurrentMetrics();sa.setValue(null);X.reset();Ha.reset();xa.reset();qa&&(la.detachMediaSource(Ga),qa=null);Ga=null;Ka&&(Ka.setMediaElement(null),ia=Ka=null,sa.getValue()&&T.trigger(m.default.PROTECTION_DESTROYED,{data:sa.getValue().url}));T.trigger(m.default.STREAM_TEARDOWN_COMPLETE);fa()}function ma(b){b.metric===h.default.DVR_INFO&&b.mediaType===k.default.AUDIO&&la.setSeekable(qa,b.value.range.start,b.value.range.end)}var ka=this.context,T=(0,n.default)(ka).getInstance(),aa=
 void 0,Y=void 0,pa=void 0,W=void 0,X=void 0,sa=void 0,ja=void 0,na=void 0,la=void 0,ta=void 0,P=void 0,Aa=void 0,ya=void 0,ra=void 0,xa=void 0,Qa=void 0,Ea=void 0,Ha=void 0,va=void 0,ua=void 0,Ka=void 0,ia=void 0,Ia=void 0,La=void 0,Ja=void 0,Ma=void 0,qa=void 0,Ga=void 0,Da=void 0,Ua=void 0,Pa=void 0,Ra=void 0,Fa=void 0,Va=void 0,Wa=void 0,Ta=void 0,bb=void 0,db=void 0,Za=void 0,Xa=void 0,ab=void 0,cb=void 0,eb=void 0,Ya=void 0;return aa={initialize:function(g,h){D();Ia=g;ia=h;Ha.initialize();(W=
 (0,p.default)(ka).create()).setConfig({manifestModel:sa,adapter:ja,manifestLoader:X,errHandler:Ea,settings:Ya});W.initialize();P.setConfig({adapter:ja});(function(){T.on(m.default.PLAYBACK_TIME_UPDATED,b,this);T.on(m.default.PLAYBACK_SEEKING,d,this);T.on(m.default.PLAYBACK_ERROR,Ba,this);T.on(m.default.PLAYBACK_STARTED,e,this);T.on(m.default.PLAYBACK_PAUSED,f,this);T.on(m.default.PLAYBACK_ENDED,V,this);T.on(m.default.MANIFEST_UPDATED,A,this);T.on(m.default.BUFFERING_COMPLETED,C,this);T.on(m.default.STREAM_BUFFERING_COMPLETED,
 J,this);T.on(m.default.MANIFEST_VALIDITY_CHANGED,U,this);T.on(m.default.TIME_SYNCHRONIZATION_COMPLETED,da,this);T.on(m.default.WALLCLOCK_TIME_UPDATED,c,this);T.on(R.default.METRIC_ADDED,ma,this)})()},getActiveStreamInfo:ba,isTrackTypePresent:oa,switchToVideoElement:function(b){ua&&(Da.initialize(ba()),Z(b,null,!0,!1))},getStreamById:function(b){return va.filter(function(c){return c.getId()===b})[0]},getStreamForTime:I,getTimeRelativeToStreamId:function(b,c){for(var d=null,e=0,f=0,g,h=0;h<va.length;h++){if(f=
 (d=va[h]).getStartTime(),g=d.getDuration(),Number.isFinite(f)&&(e=f),d.getId()===c)return b-e;Number.isFinite(g)&&(e+=g)}return null},load:function(b){D();X.load(b)},loadWithManifest:function(b){if(!W||!W.hasOwnProperty("setManifest"))throw Error("initialize function has to be called previously");!0;W.setManifest(b)},getActiveStreamProcessors:O,setConfig:function(b){b&&(b.capabilities&&(pa=b.capabilities),b.manifestLoader&&(X=b.manifestLoader),b.manifestModel&&(sa=b.manifestModel),b.mediaPlayerModel&&
 (Ua=b.mediaPlayerModel),b.protectionController&&(Ka=b.protectionController),b.adapter&&(ja=b.adapter),b.dashMetrics&&(na=b.dashMetrics),b.errHandler&&(Ea=b.errHandler),b.timelineConverter&&(Ha=b.timelineConverter),b.videoModel&&(Ga=b.videoModel),b.playbackController&&(Da=b.playbackController),b.abrController&&(Aa=b.abrController),b.mediaController&&(ya=b.mediaController),b.textController&&(ra=b.textController),b.settings&&(Ya=b.settings))},setProtectionData:function(b){ia=b},reset:Oa},Y=(0,u.default)(ka).getInstance().getLogger(aa),
 ta=(0,K.default)(ka).getInstance(),P=(0,H.default)(ka).getInstance(),la=(0,S.default)(ka).getInstance(),xa=(0,q.default)(ka).getInstance(),Qa=(0,v.default)(ka).getInstance(),fa(),aa}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(108)),l=e(b(104)),p=e(b(99)),n=e(b(47)),m=e(b(55)),t=e(b(48)),r=b(192),u=e(b(46)),q=e(b(162)),v=e(b(169)),R=e(b(101)),K=e(b(120)),H=e(b(110)),S=e(b(116)),L=e(b(174)),y=e(b(52));g.__dashjs_factory_name="StreamController";d.default=t.default.getSingletonFactory(g);
 c.exports=d.default},{101:101,104:104,107:107,108:108,110:110,116:116,120:120,162:162,169:169,174:174,192:192,46:46,47:47,48:48,52:52,55:55,99:99}],120:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b){var c=Date.parse(b);if(isNaN(c)){var d=void 0,e=void 0;b=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(b);c=(d=Date.UTC(parseInt(b[1],10),parseInt(b[2],10)-1,parseInt(b[3],10),parseInt(b[4],
 10),parseInt(b[5],10),b[6]&&(parseInt(b[6],10)||0),b[7]&&1E3*parseFloat(b[7])||0),b[9]&&b[10]&&(e=60*parseInt(b[9],10)+parseInt(b[10],10),d+=("+"===b[8]?-1:1)*e*6E4),(new Date(d)).getTime())}return c}function c(b){return Date.parse(b)}function d(b){return Date.parse(b)}function e(b,c,d){d()}function f(c,d,e){c=b(c);isNaN(c)?e():d(c)}function g(b,c,d,e,f){var k,l,n=!1,m=new XMLHttpRequest,p=f?h.HTTPRequest.HEAD:h.HTTPRequest.GET,q=c.match(/\S+/g);if(c=q.shift(),k=function(){n||(n=!0,q.length?g(b,q.join(" "),
 d,e,f):e())},l=function(){var c=void 0,e=void 0;200===m.status&&(c=f?m.getResponseHeader("Date"):m.response,e=b(c),isNaN(e)||(d(e),n=!0))},F.isRelative(c)){var r=N.resolve();r&&(c=F.resolve(c,r.url))}m.open(p,c);m.timeout=5E3;m.onload=l;m.onloadend=k;m.send()}function m(b,c,e){g(d,b,c,e,!0)}function L(b,c,d){B=!1;G.trigger(p.default.TIME_SYNCHRONIZATION_COMPLETED,{time:c,offset:d,error:b?new k.default(n.default.TIME_SYNC_FAILED_ERROR_CODE,n.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}var y=this.context,
 G=(0,l.default)(y).getInstance(),F=(0,r.default)(y).getInstance(),E=void 0,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0,J=void 0,N=void 0;return E={initialize:function(d,h){w=h;z=0;B=!1;C={"urn:mpeg:dash:utc:http-head:2014":m,"urn:mpeg:dash:utc:http-xsdate:2014":g.bind(null,b),"urn:mpeg:dash:utc:http-iso:2014":g.bind(null,c),"urn:mpeg:dash:utc:direct:2014":f,"urn:mpeg:dash:utc:http-head:2012":m,"urn:mpeg:dash:utc:http-xsdate:2012":g.bind(null,b),"urn:mpeg:dash:utc:http-iso:2012":g.bind(null,c),"urn:mpeg:dash:utc:direct:2012":f,
 "urn:mpeg:dash:utc:http-ntp:2014":e,"urn:mpeg:dash:utc:ntp:2014":e,"urn:mpeg:dash:utc:sntp:2014":e};B||function Z(b,c){var d=c||0;c=b[d];var e=function(b,c){var d=!b||!c;d&&w?(b=J.getLatestMPDRequestHeaderValueByID("Date"),b=null!==b?(new Date(b)).getTime():Number.NaN,isNaN(b)?L(!0):(z=b-(new Date).getTime(),L(!1,b/1E3,z))):L(d,b,c)};B=!0;c?C.hasOwnProperty(c.schemeIdUri)?C[c.schemeIdUri](c.value,function(b){var c=(new Date).getTime(),d=b-c;z=d;x.info("Local time: "+new Date(c));x.info("Server time: "+
 new Date(b));x.info("Server Time - Local Time (ms): "+d);e(b,d)},function(){Z(b,d+1)}):Z(b,d+1):(z=0,e())}(d)},getOffsetToDeviceTimeMs:function(){return z},setConfig:function(b){b&&(b.dashMetrics&&(J=b.dashMetrics),b.baseURLController&&(N=b.baseURLController))},reset:function(){B=!1}},x=(0,t.default)(y).getInstance().getLogger(E),E}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(174)),h=b(190),l=e(b(47)),p=e(b(55)),n=e(b(52)),m=e(b(48)),t=e(b(46)),r=e(b(169));g.__dashjs_factory_name="TimeSyncController";
 b=m.default.getSingletonFactory(g);b.HTTP_TIMEOUT_MS=5E3;m.default.updateSingletonFactory(g.__dashjs_factory_name,b);d.default=b;c.exports=d.default},{169:169,174:174,190:190,46:46,47:47,48:48,52:52,55:55}],121:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b,c,d){var f={};f.elements=b;f.type=c;f.resolveType=d;0===f.elements.length&&e(f);for(d=0;d<f.elements.length;d++)b=f.elements[d],c=r.isHTTPURL(b.url)?b.url:b.originalContent.BaseURL+b.url,x.load(c,
 b,f)}function d(b){var c=void 0;if(c=b.element,b=b.resolveObject,c.resolvedContent){var d=0;0===c.resolvedContent.indexOf("<?xml")&&(d=c.resolvedContent.indexOf("?>")+2);d=c.resolvedContent.substr(0,d)+"<response>"+c.resolvedContent.substr(d)+"</response>";c.resolvedContent=E.xml_str2json(d)}a:{for(c=0;c<b.elements.length;c++)if(!1===b.elements[c].resolved){c=!1;break a}c=!0}!c||e(b)}function e(b){var d=[],e=void 0,g=[],h=void 0,k,n,m;for(n=b.elements.length-1;0<=n;n--){if(h=b.elements[n],k=h.type+
 "_asArray",h.resolvedContent){if(h.resolvedContent)for(m=0;m<h.resolvedContent[k].length;m++){var q=h.resolvedContent[k][m];g.push(q)}}else delete h.originalContent["xlink:actuate"],delete h.originalContent["xlink:href"],g.push(h.originalContent);h.parentElement[k].splice(h.index,1);for(q=0;q<g.length;q++)h.parentElement[k].splice(h.index+q,0,g[q]);g=[]}0<b.elements.length&&G.run(F);if("onActuate"===b.resolveType&&p.trigger(l.default.XLINK_READY,{manifest:F}),"onLoad"===b.resolveType)switch(b.type){case t.default.PERIOD:for(b=
 0;b<F[t.default.PERIOD+"_asArray"].length;b++)(e=F[t.default.PERIOD+"_asArray"][b]).hasOwnProperty(t.default.ADAPTATION_SET+"_asArray")&&(d=d.concat(f(e[t.default.ADAPTATION_SET+"_asArray"],e,t.default.ADAPTATION_SET,"onLoad"))),e.hasOwnProperty(t.default.EVENT_STREAM+"_asArray")&&(d=d.concat(f(e[t.default.EVENT_STREAM+"_asArray"],e,t.default.EVENT_STREAM,"onLoad")));c(d,t.default.ADAPTATION_SET,"onLoad");break;case t.default.ADAPTATION_SET:p.trigger(l.default.XLINK_READY,{manifest:F})}}function f(b,
 c,d,e){var f=[],g=void 0,h,k=void 0;for(h=b.length-1;0<=h;h--)(g=b[h]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===g["xlink:href"]&&b.splice(h,1);for(h=0;h<b.length;h++)(g=b[h]).hasOwnProperty("xlink:href")&&g.hasOwnProperty("xlink:actuate")&&g["xlink:actuate"]===e&&(k={url:g["xlink:href"],parentElement:c,type:d,index:h,resolveType:e,originalContent:g,resolvedContent:null,resolved:!1},f.push(k));return f}b=b||{};var g=this.context,p=(0,h.default)(g).getInstance(),r=(0,m.default)(g).getInstance(),
 L=void 0,y=void 0,G=void 0,F=void 0,E=void 0,x=void 0;return L={resolveManifestOnLoad:function(b){E=new n.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:y});c(f((F=b).Period_asArray,F,t.default.PERIOD,"onLoad"),t.default.PERIOD,"onLoad")},setMatchers:function(b){b&&(y=b)},setIron:function(b){b&&(G=b)},reset:function(){p.off(l.default.XLINK_ELEMENT_LOADED,d,L);x&&(x.reset(),x=null)}},p.on(l.default.XLINK_ELEMENT_LOADED,
 d,L),x=(0,k.default)(g).create({errHandler:b.errHandler,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,requestModifier:b.requestModifier}),L}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(106)),h=e(b(47)),l=e(b(55)),p=e(b(48)),n=e(b(3)),m=e(b(169)),t=e(b(62));g.__dashjs_factory_name="XlinkController";d.default=p.default.getClassFactory(g);c.exports=d.default},{106:106,169:169,3:3,47:47,48:48,55:55,62:62}],122:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}
 function g(b,c){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.data={baseUrls:b||null,selectedIdx:c||NaN};this.children=[]}function k(){function b(b,c,d){d=k.getBaseURLsFromElement(d);b[c]?q.areEqual(d,b[c].data.baseUrls)||(b[c].data.baseUrls=d,b[c].data.selectedIdx=NaN):b[c]=new g(d)}function c(c){if(!k||!k.hasOwnProperty("getBaseURLsFromElement")||!k.hasOwnProperty("getRepresentationSortFunction"))throw Error("setConfig function has to be called previously");
 !0;var d=k.getBaseURLsFromElement(c);q.areEqual(d,f.data.baseUrls)||(f.data.baseUrls=d,f.data.selectedIdx=NaN);c&&c.Period_asArray&&c.Period_asArray.forEach(function(c,d){b(f.children,d,c);c.AdaptationSet_asArray&&c.AdaptationSet_asArray.forEach(function(c,e){b(f.children[d].children,e,c);c.Representation_asArray&&c.Representation_asArray.sort(k.getRepresentationSortFunction()).forEach(function(c,g){b(f.children[d].children[e].children,g,c)})})})}function d(){f=new g}var e,f=void 0,k=void 0,u=this.context,
 q=(0,h.default)(u).getInstance();return e={reset:d,update:function(b){c(b)},getForPath:function(b){var c=f,d=[c.data];return b&&b.forEach(function(b){(c=c.children[b])&&d.push(c.data)}),d.filter(function(b){return b.baseUrls.length})},invalidateSelectedIndexes:function(b){!function S(b,c){c=c||f;b(c.data);c.children&&c.children.forEach(function(c){return S(b,c)})}(function(c){isNaN(c.selectedIdx)||b===c.baseUrls[c.selectedIdx].serviceLocation&&(c.selectedIdx=NaN)})},setConfig:function(b){b.adapter&&
 (k=b.adapter)}},d(),e}Object.defineProperty(d,"__esModule",{value:!0});var h=e(b(165));b=e(b(48));k.__dashjs_factory_name="BaseURLTreeModel";d.default=b.default.getClassFactory(k);c.exports=d.default},{165:165,48:48}],123:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){y={pr:1,nor:null,st:null,sf:null,sid:""+r.default.generateUuid(),bs:{audio:1,video:1},cid:null,did:u}}function c(){var b={v:1};return b.sid=B.get().streaming.cmcd.sid?B.get().streaming.cmcd.sid:
 y.sid,b.cid=B.get().streaming.cmcd.cid?B.get().streaming.cmcd.cid:y.cid,b.did=B.get().streaming.cmcd.did?B.get().streaming.cmcd.did:y.did,b.sid='"'+b.sid+'"',b.cid='"'+b.cid+'"',b.did='"'+b.did+'"',isNaN(y.pr)||1===y.pr||null===y.pr||(b.pr=y.pr),y.st&&(b.st=y.st),y.sf&&(b.sf=y.sf),b}function d(b){try{y.pr=b.playbackRate}catch(C){}}function e(b){try{var c=g.getIsDynamic(b.data)?"l":"v",d=b.protocol&&"MSS"===b.protocol?"s":"d";y.st=c;y.sf=d}catch(N){}}function f(b){try{if(b.state&&b.mediaType){var c=
 null;switch(b.state){case h.default.BUFFER_LOADED:c=null;break;case h.default.BUFFER_EMPTY:E.isSeeking()&&(c=2),c=4}y.bs[b.mediaType]=c}}catch(J){}}var g=void 0,l=void 0,y=void 0,G=void 0,F=void 0,E=void 0,x=this.context,z=(0,k.default)(x).getInstance(),B=(0,n.default)(x).getInstance();return l={getQueryParameter:function(b){try{return B.get().streaming.cmcd&&B.get().streaming.cmcd.enabled?{key:"Common-Media-Client-Data",value:function(b){try{var c=function(){if(!b)return{v:null};var c=Object.keys(b),
 d=c.length;return{v:c.reduce(function(c,e,f){return c+=e+"="+b[e],f<d-1&&(c+=","),c},"")}}();if("object"==typeof c)return c.v}catch(N){return null}}(function(b){try{if(b.type===m.HTTPRequest.MPD_TYPE){try{y.cid=""+r.default.generateHashCode(b.url)}catch(N){}var d=function(){var b=c();return b.ot="m",b}()}else d=b.type===m.HTTPRequest.MEDIA_SEGMENT_TYPE?function(b){var d=c();try{var e=parseInt(b.mediaInfo.bitrateList[b.quality].bandwidth/1E3)}catch(M){e=null}var f=function(b){try{return isNaN(b.duration)?
 null:Math.round(1E3*b.duration)}catch(Q){return null}}(b),g="video"===b.mediaType?"v":"audio"===b.mediaType?"a":"fragmentedText"===b.mediaType?"c":null,h=function(b){try{return Math.round(G.getThroughputHistory().getSafeAverageThroughput(b))}catch(Q){return null}}(b.mediaType),k=function(b){try{var c=y.pr,d=F.getCurrentBufferLevel(b,!0);return isNaN(c)||isNaN(d)?null:parseInt(d/c*1E3)}catch(A){return null}}(b.mediaType);b=function(b){try{var c=b.mediaType;return null!==y.bs[c]?y.bs[c]:F.getCurrentBufferLevel(c,
 !0)<b.duration?3:null}catch(da){}}(b);e&&(d.br=e);g&&(d.ot=g);isNaN(f)||(d.d=f);isNaN(h)||(d.mtp=h);isNaN(k)||(d.dl=k);isNaN(b)||null===b||(d.bs=b);return d}(b):b.type===m.HTTPRequest.INIT_SEGMENT_TYPE?function(){var b=c();return b.ot="i",b}():null;return d}catch(N){return null}}(b))}:null}catch(C){return null}},setConfig:function(b){b&&(b.abrController&&(G=b.abrController),b.dashMetrics&&(F=b.dashMetrics),b.playbackController&&(E=b.playbackController))},reset:function(){z.off(h.default.PLAYBACK_RATE_CHANGED,
 d,this);z.off(h.default.MANIFEST_LOADED,e,this);z.off(h.default.BUFFER_LEVEL_STATE_CHANGED,f,l);b()},initialize:function(){z.on(h.default.PLAYBACK_RATE_CHANGED,d,l);z.on(h.default.MANIFEST_LOADED,e,l);z.on(h.default.BUFFER_LEVEL_STATE_CHANGED,f,l)}},(0,p.default)(x).getInstance().getLogger(l),g=(0,t.default)(x).getInstance(),b(),l}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(47)),h=e(b(101)),l=e(b(48)),p=e(b(46)),n=e(b(49)),m=b(190),t=e(b(65)),r=e(b(50));b=b(51);var u="dash.js-v"+(0,
 b.getVersionString)();g.__dashjs_factory_name="CmcdModel";d.default=l.default.getSingletonFactory(g);c.exports=d.default},{101:101,190:190,46:46,47:47,48:48,49:49,50:50,51:51,65:65}],124:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b){var c;return!!b&&(c=!1,z.some(function(d){if(function(b,c){return!isNaN(b.index)&&b.startTime===c.startTime&&b.adaptationIndex===c.adaptationIndex&&b.type===c.type}(b,d)||function(b,c){return isNaN(b.index)&&isNaN(c.index)&&
 b.quality===c.quality}(b,d)||b.action===p.default.ACTION_COMPLETE&&b.action===d.action)return c=!0}),c)}function d(b){return isNaN(b.duration)?.25:Math.min(b.duration/8,.5)}function e(b){z=z.filter(function(c){var e=d(c);return isNaN(c.startTime)||void 0!==b&&c.startTime>=b-e})}function f(b,c){c<=b+.5||(z=z.filter(function(e){var f=d(e);return isNaN(e.startTime)||e.startTime>=c-f||isNaN(e.duration)||e.startTime+e.duration<=b+f}))}function g(b,c){y.addSchedulingInfo(b,c);y.addRequestsQueue(b.mediaType,
 B,z)}function l(b){b.sender===G&&(B.splice(B.indexOf(b.request),1),b.response&&!b.error&&z.push(b.request),g(b.request,b.error?"failed":"executed"),L.trigger(h.default.FRAGMENT_LOADING_COMPLETED,{request:b.request,response:b.response,error:b.error,sender:this}))}function m(b){b.sender===G&&L.trigger(h.default.FRAGMENT_LOADING_PROGRESS,{request:b.request,response:b.response,error:b.error,sender:this})}function H(b){b.sender===G&&L.trigger(h.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),
 request:b.request,mediaType:b.mediaType})}b=b||{};var S=this.context,L=(0,k.default)(S).getInstance(),y=b.dashMetrics,G=b.fragmentLoader,F=void 0,E=void 0,x=void 0,z=void 0,B=void 0;F={setStreamProcessor:function(b){x=b},getStreamProcessor:function(){return x},getRequests:function(b){var c=[];return(b?b.state instanceof Array?b.state:[b.state]:[]).forEach(function(e){e=function(b){switch(b){case "loading":b=B;break;case "executed":b=z;break;default:b=[]}return b}(e);c=c.concat(function(b,c){return c.hasOwnProperty("time")?
 [function(b,c,e){for(var f=b.length-1;0<=f;f--){var g=b[f],h=g.startTime,k=h+g.duration;if(e=isNaN(e)?d(g):e,!isNaN(h)&&!isNaN(k)&&h<=c+e&&c-e<k||isNaN(h)&&isNaN(c))return g}return null}(b,c.time,c.threshold)]:b.filter(function(b){for(var d in c)if("state"!==d&&c.hasOwnProperty(d)&&b[d]!=c[d])return!1;return!0})}(e,b))}),c},isFragmentLoaded:c,isFragmentLoadedOrPending:function(b){var d,e;if(!(d=c(b)))for(e=0;e<B.length;e++){var f=B[e];b.url===f.url&&b.startTime===f.startTime&&(d=!0)}return d},removeExecutedRequestsBeforeTime:e,
 removeExecutedRequestsAfterTime:function(b){z=z.filter(function(c){return isNaN(c.startTime)||void 0!==b&&c.startTime<b})},syncExecutedRequestsWithBufferedRange:function(b,c){if(b&&0!==b.length){for(var d=0,g=0,h=b.length;g<h;g++)f(d,b.start(g)),d=b.end(g);0<c&&f(d,c)}else e()},abortRequests:function(){G.abort();B=[]},executeRequest:function(b){switch(b.action){case p.default.ACTION_COMPLETE:z.push(b);g(b,"executed");E.debug("executeRequest trigger STREAM_COMPLETED");L.trigger(h.default.STREAM_COMPLETED,
 {request:b,fragmentModel:this});break;case p.default.ACTION_DOWNLOAD:g(b,"loading");B.push(b);L.trigger(h.default.FRAGMENT_LOADING_STARTED,{sender:F,request:b});G.load(b);break;default:E.warn("Unknown request action.")}},reset:function(){L.off(h.default.LOADING_COMPLETED,l,this);L.off(h.default.LOADING_DATA_PROGRESS,m,this);L.off(h.default.LOADING_ABANDONED,H,this);G&&G.reset();z=[];B=[]},addExecutedRequest:function(b){z.push(b)}};E=(0,n.default)(S).getInstance().getLogger(F);z=[];B=[];return L.on(h.default.LOADING_COMPLETED,
 l,F),L.on(h.default.LOADING_DATA_PROGRESS,m,F),L.on(h.default.LOADING_ABANDONED,H,F),F}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(47)),h=e(b(55)),l=e(b(48)),p=e(b(176)),n=e(b(46));g.__dashjs_factory_name="FragmentModel";b=l.default.getClassFactory(g);b.FRAGMENT_MODEL_LOADING="loading";b.FRAGMENT_MODEL_EXECUTED="executed";b.FRAGMENT_MODEL_CANCELED="canceled";b.FRAGMENT_MODEL_FAILED="failed";l.default.updateClassFactory(g.__dashjs_factory_name,b);d.default=b;c.exports=d.default},{176:176,
 46:46,47:47,48:48,55:55}],125:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=this.context,c=(0,k.default)(b).getInstance(),d=void 0;return{getValue:function(){return d},setValue:function(b){(d=b)&&c.trigger(h.default.MANIFEST_LOADED,{data:b})}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(47)),h=e(b(55));b=e(b(48));g.__dashjs_factory_name="ManifestModel";d.default=b.default.getSingletonFactory(g);c.exports=d.default},{47:47,48:48,55:55}],126:[function(b,
 c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b){var c;for(c=0;c<H.length;c++)if(H[c].rulename===b)return c;return-1}function c(){return y.get().streaming.lowLatencyEnabled?y.get().streaming.liveDelay||3:y.get().streaming.liveDelay}function d(b,c){e(b,c);var d=new k.default;d.schemeIdUri=b;d.value=c;g.push(d)}function e(b,c){(0,m.checkParameterType)(b,"string");(0,m.checkParameterType)(c,"string");g.forEach(function(d,e){d.schemeIdUri===b&&d.value===c&&g.splice(e,
 1)})}var f,g=void 0,h=void 0,H=void 0,S={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"},L=this.context,y=(0,n.default)(L).getInstance();return f={getABRCustomRules:function(){return H},addABRCustomRule:function(c,d,e){if("string"!=typeof c||c!==p.default.ABANDON_FRAGMENT_RULES&&c!==p.default.QUALITY_SWITCH_RULES||"string"!=typeof d)throw l.default.BAD_ARGUMENT_ERROR;var f=b(d);-1===f?H.push({type:c,rulename:d,rule:e}):(H[f].type=c,H[f].rule=e)},removeABRCustomRule:function(c){c?
 (c=b(c),-1!==c&&H.splice(c,1)):H=[]},getStableBufferTime:function(){if(y.get().streaming.lowLatencyEnabled)return.6*c();var b=y.get().streaming.stableBufferTime;return-1<b?b:y.get().streaming.fastSwitchEnabled?20:12},getRetryAttemptsForType:function(b){return y.get().streaming.lowLatencyEnabled?5*y.get().streaming.retryAttempts[b]:y.get().streaming.retryAttempts[b]},getRetryIntervalsForType:function(b){return y.get().streaming.lowLatencyEnabled?y.get().streaming.retryIntervals[b]/10:y.get().streaming.retryIntervals[b]},
 getLiveDelay:c,addUTCTimingSource:d,removeUTCTimingSource:e,getUTCTimingSources:function(){return g},clearDefaultUTCTimingSources:function(){g=[]},restoreDefaultUTCTimingSources:function(){d(S.scheme,S.value)},setXHRWithCredentialsForType:function x(b,c){b?h[b]=!!c:Object.keys(h).forEach(function(b){x(b,c)})},getXHRWithCredentialsForType:function(b){b=h[b];return void 0===b?h.default:b},getDefaultUtcTimingSource:function(){return S},reset:function(){}},h={default:(g=[],!1)},H=[],f}Object.defineProperty(d,
 "__esModule",{value:!0});var k=e(b(96)),h=e(b(48)),l=e(b(107)),p=e(b(138)),n=e(b(49)),m=b(167);g.__dashjs_factory_name="MediaPlayerModel";d.default=h.default.getSingletonFactory(g);c.exports=d.default},{107:107,138:138,167:167,48:48,49:49,96:96}],127:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b){w.trigger(H.default.METRIC_CHANGED,{mediaType:b});w.trigger(H.default.METRICS_CHANGED)}function d(b,d,e){w.trigger(H.default.METRIC_UPDATED,{mediaType:b,metric:d,
 value:e});c(b)}function e(b,d,e){w.trigger(H.default.METRIC_ADDED,{mediaType:b,metric:d,value:e});c(b)}function f(b,c){var d=null;return b&&(S.hasOwnProperty(b)?d=S[b]:c||(d=new l.default,S[b]=d)),d}function g(b,c,d){b=f(b);null!==b&&(b[c].push(d),b[c].length>B.get().streaming.metricsMaxListDepth&&b[c].shift())}function x(b,c,d){g(b,c,d);e(b,c,d)}var z,B=(b=b||{}).settings;b=this.context;var w=(0,R.default)(b).getInstance(),S=void 0;return z={clearCurrentMetricsForType:function(b){delete S[b];c(b)},
 clearAllCurrentMetrics:function(){S={};w.trigger(H.default.METRICS_CHANGED)},getMetricsFor:f,addHttpRequest:function Ba(b,c,d,e,f,g,k,l,n,m,q,r,v,u,t){var M=new p.HTTPRequest;g&&g!==e&&(Ba(b,null,d,e,f,null,null,l,n,null,null,null,v,null,null),M.actualurl=g);M.tcpid=c;M.type=d;M.url=e;M.range=l;M.trequest=n;M.tresponse=m;M.responsecode=r;M._tfinish=q;M._stream=b;M._mediaduration=v;M._quality=f;M._responseHeaders=u;M._serviceLocation=k;t?t.forEach(function(b){var c=b.s,d=b.d;b=b.b;var e=new p.HTTPRequestTrace;
 e.s=c;e.d=d;e.b=b;M.trace.push(e);M.interval||(M.interval=0);M.interval+=d;!0}):(delete M.interval,delete M.trace);x(b,h.default.HTTP_REQUEST,M)},addRepresentationSwitch:function(b,c,d,e,f){var g=new n.default;g.t=c;g.mt=d;g.to=e;f?g.lto=f:delete g.lto;x(b,h.default.TRACK_SWITCH,g)},addBufferLevel:function(b,c,d){var e=new m.default;e.t=c;e.level=d;x(b,h.default.BUFFER_LEVEL,e)},addBufferState:function(b,c,d){var e=new t.default;e.target=d;e.state=c;x(b,h.default.BUFFER_STATE,e)},addDVRInfo:function(b,
 c,d,e){var f=new r.default;f.time=c;f.range=e;f.manifestInfo=d;x(b,h.default.DVR_INFO,f)},addDroppedFrames:function(b,c){var d=new u.default,e=f(b).DroppedFrames;c&&(d.time=c.creationTime,d.droppedFrames=c.droppedVideoFrames,0<e.length&&e[e.length-1]==d||x(b,h.default.DROPPED_FRAMES,d))},addSchedulingInfo:function(b,c,d,e,f,g,k,l,n){var m=new v.default;m.mediaType=b;m.t=c;m.type=d;m.startTime=e;m.availabilityStartTime=f;m.duration=g;m.quality=k;m.range=l;m.state=n;x(b,h.default.SCHEDULING_INFO,m)},
 addRequestsQueue:function(b,c,d){var g=new K.default;g.loadingRequests=c;g.executedRequests=d;f(b).RequestsQueue=g;e(b,h.default.REQUESTS_QUEUE,g)},addManifestUpdate:function(b,c,d,f,l,n,m,p,r,v){var M=new q.ManifestUpdate;M.mediaType=b;M.type=c;M.requestTime=d;M.fetchTime=f;M.availabilityStartTime=l;M.presentationStartTime=n;M.clientTimeOffset=m;M.currentTime=p;M.buffered=r;M.latency=v;g(k.default.STREAM,h.default.MANIFEST_UPDATE,M);e(b,h.default.MANIFEST_UPDATE,M)},updateManifestUpdateInfo:function(b,
 c){if(b){for(var e in c)b[e]=c[e];d(b.mediaType,h.default.MANIFEST_UPDATE,b)}},addManifestUpdateStreamInfo:function(b,c,e,f,g){if(b){var k=new q.ManifestUpdateStreamInfo;k.id=c;k.index=e;k.start=f;k.duration=g;b.streamInfo.push(k);d(b.mediaType,h.default.MANIFEST_UPDATE_STREAM_INFO,b)}},addManifestUpdateRepresentationInfo:function(b,c,e,f,g,k,l,n){if(b&&b.representationInfo){var m=new q.ManifestUpdateRepresentationInfo;m.id=c;m.index=e;m.streamIndex=f;m.mediaType=g;m.startNumber=l;m.fragmentInfoType=
 n;m.presentationTimeOffset=k;b.representationInfo.push(m);d(b.mediaType,h.default.MANIFEST_UPDATE_TRACK_INFO,b)}},addPlayList:function(b){b.trace&&Array.isArray(b.trace)?b.trace.forEach(function(b){b.hasOwnProperty("subreplevel")&&!b.subreplevel&&delete b.subreplevel}):delete b.trace;x(k.default.STREAM,h.default.PLAY_LIST,b)},addDVBErrors:function(b){x(k.default.STREAM,h.default.DVB_ERRORS,b)}},S={},z}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(108)),l=e(b(180)),p=b(190),
 n=e(b(193)),m=e(b(186)),t=e(b(187)),r=e(b(188)),u=e(b(189)),q=b(191),v=e(b(195)),R=e(b(47)),K=e(b(194)),H=e(b(55));b=e(b(48));g.__dashjs_factory_name="MetricsModel";d.default=b.default.getSingletonFactory(g);c.exports=d.default},{107:107,108:108,180:180,186:186,187:187,188:188,189:189,190:190,191:191,193:193,194:194,195:195,47:47,48:48,55:55}],128:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=void 0;return{initialize:function(c){if(b=new k.default,!c)return null;
 var d=c.indexOf("#");if(-1!==d){c=c.substr(d+1).split("&");d=0;for(var e=c.length;d<e;++d){var f=c[d],g=f.indexOf("=");if(-1!==g){var h=f.substring(0,g);b.hasOwnProperty(h)&&(b[h]=f.substr(g+1))}}}},getURIFragmentData:function(){return b}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(185));b=e(b(48));g.__dashjs_factory_name="URIFragmentModel";d.default=b.default.getSingletonFactory(g);c.exports=d.default},{185:185,48:48}],129:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}
 function g(){function b(){k&&(k.playbackRate=K||1,k.removeEventListener("canplay",b))}function c(c){k&&(2>=k.readyState&&0<c?k.addEventListener("canplay",b):k.playbackRate=c)}function d(){if(k&&0<L.length&&0===k.playbackRate){var b=document.createEvent("Event");b.initEvent("waiting",!0,!1);k.dispatchEvent(b)}}function e(){return k?k.buffered:null}var f=void 0,g=void 0,k=void 0,R=void 0,K=void 0,H=this.context,S=(0,h.default)(H).getInstance(),L=[];return f={initialize:function(){S.on(l.default.PLAYBACK_PLAYING,
 d,this)},setCurrentTime:function(b,c){if(k&&k.currentTime!=b)try{b=c?function(b){var c=e(),d=b,f=9999999999;if(c)for(var g=0;g<c.length;g++){var h=c.start(g),k=c.end(g),l=Math.abs(h-b),n=Math.abs(k-b);if(h<=b&&b<=k)return b;l<f&&(f=l,d=h);n<f&&(f=n,d=k)}return d}(b):b,k.currentTime=b}catch(F){0===k.readyState&&F.code===F.INVALID_STATE_ERR&&setTimeout(function(){k.currentTime=b},400)}},play:function(){if(k){k.autoplay=!0;var b=k.play();b&&b.catch&&"undefined"!=typeof Promise&&b.catch(function(b){"NotAllowedError"===
 b.name&&S.trigger(l.default.PLAYBACK_NOT_ALLOWED);g.warn("Caught pending play exception - continuing ("+b+")")})}},isPaused:function(){return k?k.paused:null},pause:function(){k&&(k.pause(),k.autoplay=!1)},isSeeking:function(){return k?k.seeking:null},getTime:function(){return k?k.currentTime:null},getPlaybackRate:function(){return k?k.playbackRate:null},setPlaybackRate:c,getPlayedRanges:function(){return k?k.played:null},getEnded:function(){return k?k.ended:null},setStallState:function(b,d){!function(b,
 d){d?function(b){var d=void 0;null===b||k.seeking||-1!==L.indexOf(b)||(L.push(b),k&&1===L.length&&((d=document.createEvent("Event")).initEvent("waiting",!0,!1),K=k.playbackRate,c(0),k.dispatchEvent(d)))}(b):function(b){var d=L.indexOf(b),e=void 0;null!==b&&(-1!==d&&L.splice(d,1),k&&!1===0<L.length&&0===k.playbackRate&&(c(K||1),k.paused||((e=document.createEvent("Event")).initEvent("playing",!0,!1),k.dispatchEvent(e))))}(b)}(b,d)},getElement:function(){return k},setElement:function(b){if(!(null==b||
 b&&/^(VIDEO|AUDIO)$/i.test(b.nodeName)))throw"element is not video or audio DOM type!";(k=b)&&(k.preload="auto")},setSource:function(b){k&&(b?k.src=b:(k.removeAttribute("src"),k.load()))},getSource:function(){return k?k.src:null},getTTMLRenderingDiv:function(){return R},setTTMLRenderingDiv:function(b){(R=b).style.position="absolute";R.style.display="flex";R.style.overflow="hidden";R.style.pointerEvents="none";R.style.top=0;R.style.left=0},getPlaybackQuality:function(){if(!k)return null;var b="webkitDroppedFrameCount"in
 k&&"webkitDecodedFrameCount"in k,c=null;return"getVideoPlaybackQuality"in k?c=k.getVideoPlaybackQuality():b&&(c={droppedVideoFrames:k.webkitDroppedFrameCount,totalVideoFrames:k.webkitDroppedFrameCount+k.webkitDecodedFrameCount,creationTime:new Date}),c},addEventListener:function(b,c){k&&k.addEventListener(b,c)},removeEventListener:function(b,c){k&&k.removeEventListener(b,c)},getReadyState:function(){return k?k.readyState:NaN},getBufferRange:e,getClientWidth:function(){return k?k.clientWidth:NaN},
 getClientHeight:function(){return k?k.clientHeight:NaN},getTextTracks:function(){return k?k.textTracks:[]},getTextTrack:function(b,c,d,e,f){if(k)for(var g=0;g<k.textTracks.length;g++)if(k.textTracks[g].kind===b&&(!c||k.textTracks[g].label==c)&&k.textTracks[g].language===d&&k.textTracks[g].isTTML===e&&k.textTracks[g].isEmbedded===f)return k.textTracks[g];return null},addTextTrack:function(b,c,d){return k?k.addTextTrack(b,c,d):null},appendChild:function(b){k&&(k.appendChild(b),void 0!==b.isTTML&&(k.textTracks[k.textTracks.length-
 1].isTTML=b.isTTML,k.textTracks[k.textTracks.length-1].isEmbedded=b.isEmbedded))},removeChild:function(b){k&&k.removeChild(b)},getVideoWidth:function(){return k?k.videoWidth:NaN},getVideoHeight:function(){return k?k.videoHeight:NaN},getVideoRelativeOffsetTop:function(){return k&&k.parentNode?k.getBoundingClientRect().top-k.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){return k&&k.parentNode?k.getBoundingClientRect().left-k.parentNode.getBoundingClientRect().left:
 NaN},reset:function(){S.off(l.default.PLAYBACK_PLAYING,d,this)}},g=(0,p.default)(H).getInstance().getLogger(f),f}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(47)),l=e(b(55)),p=e(b(46));g.__dashjs_factory_name="VideoModel";d.default=k.default.getSingletonFactory(g);c.exports=d.default},{46:46,47:47,48:48,55:55}],130:[function(b,c,d){function e(b){function c(b,c){b.reader.read().then(c).catch(function(c){b.onerror&&200===b.response.status&&b.onerror(c)})}function d(b,c){if(1<
 (b=b.filter(function(d){return d.bytes>c/4/b.length})).length){var d=(e=0,f=(b[b.length-1].ts-b[0].ts)/b.length,b.forEach(function(c,d){if(d=b[d+1])c=d.ts-c.ts,e+=c<f?c:0}),{v:e});if("object"==typeof d)return d.v}var e,f;return null}var e=(b=b||{}).requestModifier,f=b.boxParser;return{load:function(b){var g=new Date,h=b.request,k=new Headers;h.range&&k.append("Range","bytes="+h.range);h.requestStartDate||(h.requestStartDate=g);e&&e.modifyRequestHeader({setRequestHeader:function(b,c){k.append(b,c)}});
 g=void 0;"function"==typeof window.AbortController&&(g=new AbortController,b.abortController=g);fetch(b.url,{method:b.method,headers:k,credentials:b.withCredentials?"include":void 0,signal:g?g.signal:void 0}).then(function(e){b.response||(b.response={});b.response.status=e.status;b.response.statusText=e.statusText;b.response.responseURL=e.url;e.ok||b.onerror();var g="",h=!0,k=!1,l=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var n,m=e.headers.keys()[Symbol.iterator]();!(h=(n=m.next()).done);h=
 !0){var p=n.value;g+=p+": "+e.headers.get(p)+"\r\n"}}catch(w){k=!0,l=w}finally{try{!h&&m.return&&m.return()}finally{if(k)throw l;}}if(b.response.responseHeaders=g,!e.body)return e.arrayBuffer().then(function(c){c={loaded:(b.response.response=c).byteLength,total:c.byteLength,stream:!1};b.progress(c);b.onload();b.onend()});var q=parseInt(e.headers.get("Content-Length"),10),r=0,u=!1,t=new Uint8Array,z=0;b.reader=e.body.getReader();var B=[];c(b,function J(e){var g=e.value;if(e.done)return t&&(b.progress({loaded:r,
 total:isNaN(q)?r:q,lengthComputable:!0,time:d(B,r),stream:!0}),b.response.response=t.buffer),b.onload(),void b.onend();if(g&&0<g.length){e=t;if(0===e.length)e=g;else{var h=new Uint8Array(e.length+g.length);e=(h.set(e),h.set(g,e.length),h)}t=e;r+=g.length;B.push({ts:Date.now(),bytes:g.length});g=f.findLastTopIsoBoxCompleted(["moov","mdat"],t,z);g.found?(g=g.lastCompletedOffset+g.size,e=void 0,t=g===t.length?(e=t,new Uint8Array):(e=new Uint8Array(t.subarray(0,g)),t.subarray(g)),b.progress({data:e.buffer,
 lengthComputable:!1,noTrace:!0}),z=0):(z=g.lastCompletedOffset,u||(b.progress({lengthComputable:!1,noTrace:!0}),u=!0))}c(b,J)})}).catch(function(c){b.onerror&&b.onerror(c)})},abort:function(b){if(b.abortController)b.abortController.abort();else if(b.reader)try{b.reader.cancel()}catch(t){}},calculateDownloadedTime:d}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="FetchLoader";g=b.default.getClassFactory(e);d.default=g;c.exports=
 d.default},{48:48}],131:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b,c,d){return c in b?Object.defineProperty(b,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[c]=d,b}function k(b){function c(b,d){function e(b){H=!1;m.requestStartDate=M;m.requestEndDate=new Date;m.firstByteDate=m.firstByteDate||M;m.checkExistenceOnly||(n.addHttpRequest(m,A.response?A.response.responseURL:null,A.response?A.response.status:null,A.response&&A.response.getAllResponseHeaders?
 A.response.getAllResponseHeaders():A.response?A.response.responseHeaders:[],b?r:null),m.type===p.HTTPRequest.MPD_TYPE&&n.addManifestUpdate(m.type,m.requestStartDate,m.requestEndDate))}function g(){-1!==x.indexOf(A)&&(x.splice(x.indexOf(A),1),H&&(e(!1),0<d?function(){d--;var e={config:b};B.push(e);e.timeout=setTimeout(function(){-1!==B.indexOf(e)&&(B.splice(B.indexOf(e),1),c(b,d))},q.getRetryIntervalsForType(m.type))}():(k.error(new t.default(w[m.type],m.url+" is not available",{request:m,response:A.response})),
 b.error&&b.error(m,"error",A.response.statusText),b.complete&&b.complete(m,A.response.statusText))))}var m=b.request,r=[],v=!0,H=!0,M=new Date,Q=M,da=0,A=void 0;if(!G||!n||!k)throw Error("config object is not correct or missing");var y=void 0;y=E&&window.fetch&&"arraybuffer"===m.responseType&&m.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,l.default)(f).create({requestModifier:G,boxParser:F}):(0,h.default)(f).create({requestModifier:G});var J=G.modifyRequestURL(m.url),R=function(b){try{var c=[],d=C.getQueryParameter(b);
 return d&&c.push(d),c}catch(Ca){return[]}}(m);J=u.default.addAditionalQueryParameterToUrl(J,R);R=m.checkExistenceOnly?p.HTTPRequest.HEAD:p.HTTPRequest.GET;var K=q.getXHRWithCredentialsForType(m.type);A={url:J,method:R,withCredentials:K,request:m,onload:function(){200<=A.response.status&&299>=A.response.status&&(e(!0),b.success&&b.success(A.response.response,A.response.statusText,A.response.responseURL),b.complete&&b.complete(m,A.response.statusText))},onend:g,onerror:g,progress:function(c){var d=
 new Date;v&&(v=!1,(!c.lengthComputable||c.lengthComputable&&c.total!==c.loaded)&&(m.firstByteDate=d));c.lengthComputable&&(m.bytesLoaded=c.loaded,m.bytesTotal=c.total);c.noTrace||(r.push({s:Q,d:c.time?c.time:d.getTime()-Q.getTime(),b:[c.loaded?c.loaded-da:0]}),Q=d,da=c.loaded);b.progress&&c&&b.progress(c)},onabort:function(){b.abort&&b.abort(m)},loader:y};var L;J=(new Date).getTime();isNaN(m.delayLoadingTime)||J>=m.delayLoadingTime?(x.push(A),y.load(A)):(L={httpRequest:A},z.push(L),L.delayTimeout=
 setTimeout(function(){if(-1!==z.indexOf(L)){z.splice(z.indexOf(L),1);try{Q=M=new Date,x.push(L.httpRequest),y.load(L.httpRequest)}catch(ba){L.httpRequest.onerror()}}},m.delayLoadingTime-J))}b=b||{};var d,e,f=this.context,k=b.errHandler,n=b.dashMetrics,q=b.mediaPlayerModel,G=b.requestModifier,F=b.boxParser,E=b.useFetch||!1,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0;return d={load:function(b){b.request?c(b,q.getRetryAttemptsForType(b.request.type)):b.error&&b.error(b.request,"error")},abort:function(){B.forEach(function(b){clearTimeout(b.timeout);
 b.config.request&&b.config.abort&&b.config.abort(b.config.request)});B=[];z.forEach(function(b){return clearTimeout(b.delayTimeout)});z=[];x.forEach(function(b){b.onloadend=b.onerror=b.onprogress=void 0;b.loader.abort(b)});x=[]}},x=[],z=[],B=[],C=(0,r.default)(f).getInstance(),g(e={},p.HTTPRequest.MPD_TYPE,m.default.DOWNLOAD_ERROR_ID_MANIFEST_CODE),g(e,p.HTTPRequest.XLINK_EXPANSION_TYPE,m.default.DOWNLOAD_ERROR_ID_XLINK_CODE),g(e,p.HTTPRequest.INIT_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),
 g(e,p.HTTPRequest.MEDIA_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),g(e,p.HTTPRequest.INDEX_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),g(e,p.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),g(e,p.HTTPRequest.OTHER_TYPE,m.default.DOWNLOAD_ERROR_ID_CONTENT_CODE),w=e,d}Object.defineProperty(d,"__esModule",{value:!0});var h=e(b(132)),l=e(b(130)),p=b(190),n=e(b(48)),m=e(b(52)),t=e(b(174)),r=e(b(123)),u=e(b(50));k.__dashjs_factory_name="HTTPLoader";
 b=n.default.getClassFactory(k);d.default=b;c.exports=d.default},{123:123,130:130,132:132,174:174,190:190,48:48,50:50,52:52}],132:[function(b,c,d){function e(b){var c=(b=b||{}).requestModifier;return{load:function(b){var d=new Date,e=b.request,f=new XMLHttpRequest;f.open(b.method,b.url,!0);e.responseType&&(f.responseType=e.responseType);e.range&&f.setRequestHeader("Range","bytes="+e.range);e.requestStartDate||(e.requestStartDate=d);c&&(f=c.modifyRequestHeader(f));f.withCredentials=b.withCredentials;
 f.onload=b.onload;f.onloadend=b.onend;f.onerror=b.onerror;f.onprogress=b.progress;f.onabort=b.onabort;f.send();b.response=f},abort:function(b){b=b.response;b.onloadend=b.onerror=b.onprogress=void 0;b.abort()}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="XHRLoader";g=b.default.getClassFactory(e);d.default=g;c.exports=d.default},{48:48}],133:[function(b,c,d){function e(){var b=[],c=0,d=0;return{push:function(e,f){var g=f&&f.droppedVideoFrames?
 f.droppedVideoFrames:0;f=f&&f.totalVideoFrames?f.totalVideoFrames:0;var h=g-c;c=g;g=f-d;d=f;isNaN(e)||(b[e]?(b[e].droppedVideoFrames+=h,b[e].totalVideoFrames+=g):b[e]={droppedVideoFrames:h,totalVideoFrames:g})},getFrameHistory:function(){return b},reset:function(e){b=[];c=e.droppedVideoFrames;d=e.totalVideoFrames}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="DroppedFramesHistory";g=b.default.getClassFactory(e);d.default=g;
 c.exports=d.default},{48:48}],134:[function(b,c,d){function e(b){function c(){return u?u.mediaInfo:null}var d=(b=b||{}).abrController,e=b.switchHistory,f=b.droppedFramesHistory,g=b.currentRequest,k=b.useBufferOccupancyABR,r=b.streamProcessor?b.streamProcessor.getScheduleController():null,u=b.streamProcessor?b.streamProcessor.getRepresentationInfo():null;return{getMediaType:function(){var b=c();return b?b.type:null},getMediaInfo:c,getDroppedFramesHistory:function(){return f},getCurrentRequest:function(){return g},
 getSwitchHistory:function(){return e},getStreamInfo:function(){var b=c();return b?b.streamInfo:null},getScheduleController:function(){return r},getAbrController:function(){return d},getRepresentationInfo:function(){return u},useBufferOccupancyABR:function(){return k}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="RulesContext";d.default=b.default.getClassFactory(e);c.exports=d.default},{48:48}],135:[function(b,c,d){function e(b,
 c,d){var e;return d!==(e=k.DEFAULT)&&d!==k.STRONG&&d!==k.WEAK||(e=d),{quality:void 0===b?-1:b,reason:void 0===c?null:c,priority:e}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};var k={DEFAULT:.5,STRONG:1,WEAK:0};e.__dashjs_factory_name="SwitchRequest";g=b.default.getClassFactory(e);g.NO_CHANGE=-1;g.PRIORITY=k;b.default.updateClassFactory(e.__dashjs_factory_name,g);d.default=g;c.exports=d.default},{48:48}],136:[function(b,c,d){function e(b){return b&&
 b.__esModule?b:{default:b}}function g(){var b=[],c=[];return{push:function(d){d.newValue===h.default.NO_CHANGE&&(d.newValue=d.oldValue);b[d.oldValue]||(b[d.oldValue]={noDrops:0,drops:0,dropSize:0});var e=d.newValue-d.oldValue,f=0>e?1:0;e=f?-e:0;var g=f?0:1;if(b[d.oldValue].drops+=f,b[d.oldValue].dropSize+=e,b[d.oldValue].noDrops+=g,c.push({idx:d.oldValue,noDrop:g,drop:f,dropSize:e}),8<c.length)d=c.shift(),b[d.idx].drops-=d.drop,b[d.idx].dropSize-=d.dropSize,b[d.idx].noDrops-=d.noDrop},getSwitchRequests:function(){return b},
 reset:function(){b=[];c=[]}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(135));g.__dashjs_factory_name="SwitchRequestHistory";b=k.default.getClassFactory(g);d.default=b;c.exports=d.default},{135:135,48:48}],137:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b,c,d,e){var f=Math.pow(.5,d/e.fast);b.fastEstimate=(1-f)*c+f*b.fastEstimate;e=Math.pow(.5,d/e.slow);b.slowEstimate=(1-e)*c+e*b.slowEstimate;b.totalWeight+=d}function d(b,
 c,d){return h.get().streaming.abr.movingAverageMethod!==k.default.MOVING_AVERAGE_SLIDING_WINDOW?function(b,c){var d=b?K.throughputHalfLife:K.latencyHalfLife,e=b?v[c]:R[c];if(!e||0>=e.totalWeight)return NaN;c=e.fastEstimate/(1-Math.pow(.5,e.totalWeight/d.fast));d=e.slowEstimate/(1-Math.pow(.5,e.totalWeight/d.slow));return b?Math.min(c,d):Math.max(c,d)}(b,c):function(b,c,d){d=function(b,c,d){var e=void 0;if(c=b?(e=u[c],d?3:4):(e=q[c],4),e)if(c>=e.length)c=e.length;else{if(b)for(b=1;b<c&&(d=e[b]/e[b-
 1],!(1.3<=d||d<=1/1.3)||(c+=1)!==e.length);++b);}else c=0;return c}(b,c,d);b=(b?u:q)[c];return 0!==d&&b&&0!==b.length?(b=b.slice(-d)).reduce(function(b,c){return b+c})/b.length:NaN}(b,c,d)}function e(b,c){return d(!0,b,c)}function f(b){u[b]=u[b]||[];q[b]=q[b]||[];v[b]=v[b]||{fastEstimate:0,slowEstimate:0,totalWeight:0};R[b]=R[b]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function g(){u={};q={};v={};R={}}var h=(b=b||{}).settings,u=void 0,q=void 0,v=void 0,R=void 0,K=void 0;b={push:function(b,d,
 e){if(d.trace&&d.trace.length){var g=d.tresponse.getTime()-d.trequest.getTime()||1,l=d._tfinish.getTime()-d.tresponse.getTime()||1,n=d.trace.reduce(function(b,c){return b+c.b[0]},0),m=void 0;m=h.get().streaming.lowLatencyEnabled?d.trace.reduce(function(b,c){return b+c.d},0):e?l:g+l;d=Math.round(8*n/m);if(f(b),function(b,c,d){return b===k.default.VIDEO?d<h.get().streaming.cacheLoadThresholds[k.default.VIDEO]:b===k.default.AUDIO?d<h.get().streaming.cacheLoadThresholds[k.default.AUDIO]:void 0}(b,0,l)){if(0<
 u[b].length&&!u[b].hasCachedEntries)return;u[b].hasCachedEntries=!0}else u[b]&&u[b].hasCachedEntries&&function(b){delete u[b];delete q[b];delete v[b];delete R[b];f(b)}(b);u[b].push(d);20<u[b].length&&u[b].shift();q[b].push(g);20<q[b].length&&q[b].shift();c(v[b],d,.001*l,K.throughputHalfLife);c(R[b],g,1,K.latencyHalfLife)}},getAverageThroughput:e,getSafeAverageThroughput:function(b,c){b=e(b,c);return isNaN(b)||(b*=h.get().streaming.abr.bandwidthSafetyFactor),b},getAverageLatency:function(b){return d(!1,
 b)},reset:g};return K={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},g(),b}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107));b=e(b(48));g.__dashjs_factory_name="ThroughputHistory";d.default=b.default.getClassFactory(g);c.exports=d.default},{107:107,48:48}],138:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b){return b.filter(function(b){return b.quality>r.default.NO_CHANGE})}function d(b){var c,d={},f=void 0,g=void 0,
 h=void 0;if(0!==b.length){d[r.default.PRIORITY.STRONG]=r.default.NO_CHANGE;d[r.default.PRIORITY.WEAK]=r.default.NO_CHANGE;d[r.default.PRIORITY.DEFAULT]=r.default.NO_CHANGE;var k=0;for(c=b.length;k<c;k+=1)(f=b[k]).quality!==r.default.NO_CHANGE&&(d[f.priority]=d[f.priority]>r.default.NO_CHANGE?Math.min(d[f.priority],f.quality):f.quality);return d[r.default.PRIORITY.WEAK]!==r.default.NO_CHANGE&&(g=d[r.default.PRIORITY.WEAK]),d[r.default.PRIORITY.DEFAULT]!==r.default.NO_CHANGE&&(g=d[r.default.PRIORITY.DEFAULT]),
 d[r.default.PRIORITY.STRONG]!==r.default.NO_CHANGE&&(g=d[r.default.PRIORITY.STRONG]),g!==r.default.NO_CHANGE&&(h=g),(0,r.default)(e).create(h)}}b=b||{};var e=this.context,f=b.mediaPlayerModel,g=b.dashMetrics,u=b.settings,t=void 0,y=void 0;return{initialize:function(){t=[];y=[];u.get().streaming.abr.useDefaultABRRules&&(t.push((0,m.default)(e).create({dashMetrics:g,mediaPlayerModel:f,settings:u})),t.push((0,k.default)(e).create({dashMetrics:g})),t.push((0,h.default)(e).create({dashMetrics:g})),t.push((0,
 n.default)(e).create()),t.push((0,p.default)(e).create()),y.push((0,l.default)(e).create({dashMetrics:g,mediaPlayerModel:f,settings:u})));f.getABRCustomRules().forEach(function(b){"qualitySwitchRules"===b.type&&t.push(b.rule(e).create());"abandonFragmentRules"===b.type&&y.push(b.rule(e).create())})},reset:function(){[t,y].forEach(function(b){b&&b.length&&b.forEach(function(b){return b.reset&&b.reset()})});t=[];y=[]},getMaxQuality:function(b){return d(c(t.map(function(c){return c.getMaxIndex(b)})))||
 (0,r.default)(e).create()},shouldAbandonFragment:function(b){return d(c(y.map(function(c){return c.shouldAbandon(b)})))||(0,r.default)(e).create()}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(144)),h=e(b(142)),l=e(b(139)),p=e(b(141)),n=e(b(143)),m=e(b(140)),t=e(b(48)),r=e(b(135));g.__dashjs_factory_name="ABRRulesCollection";b=t.default.getClassFactory(g);b.QUALITY_SWITCH_RULES="qualitySwitchRules";b.ABANDON_FRAGMENT_RULES="abandonFragmentRules";t.default.updateSingletonFactory(g.__dashjs_factory_name,
 b);d.default=b;c.exports=d.default},{135:135,139:139,140:140,141:141,142:142,143:143,144:144,48:48}],139:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){v={};R={};K=[]}b=b||{};var d=this.context,e=b.mediaPlayerModel,f=b.dashMetrics,h=b.settings,p=b=void 0,v=void 0,R=void 0,K=void 0;return b={shouldAbandon:function(b){var c=(0,k.default)(d).create(k.default.NO_CHANGE,{name:g.__dashjs_factory_name});if(!(b&&b.hasOwnProperty("getMediaInfo")&&b.hasOwnProperty("getMediaType")&&
 b.hasOwnProperty("getCurrentRequest")&&b.hasOwnProperty("getRepresentationInfo")&&b.hasOwnProperty("getAbrController")))return c;var l=b.getMediaInfo(),n=b.getMediaType(),m=b.getCurrentRequest();if(!isNaN(m.index)){if(function(b,c){v[b]=v[b]||{};v[b][c]=v[b][c]||{}}(n,m.index),e.getStableBufferTime()<f.getCurrentBufferLevel(n,!0))return c;var q=v[n][m.index];if(null===q||null===m.firstByteDate||R.hasOwnProperty(q.id))return c;if(void 0===q.firstByteTime&&(K[n]=[],q.firstByteTime=m.firstByteDate.getTime(),
 q.segmentDuration=m.duration,q.bytesTotal=m.bytesTotal,q.id=m.index),q.bytesLoaded=m.bytesLoaded,q.elapsedTime=(new Date).getTime()-q.firstByteTime,0<q.bytesLoaded&&0<q.elapsedTime&&function(b,c){K[b]=K[b]||[];K[b].push(c)}(n,Math.round(8*q.bytesLoaded/q.elapsedTime)),5<=K[n].length&&500<q.elapsedTime&&q.bytesLoaded<q.bytesTotal){m=K[n].reduce(function(b,c){return b+c},0);if(q.measuredBandwidthInKbps=Math.round(m/K[n].length),q.estimatedTimeOfDownload=+(8*q.bytesTotal/q.measuredBandwidthInKbps/1E3).toFixed(2),
 q.estimatedTimeOfDownload<1.8*q.segmentDuration||0===b.getRepresentationInfo().quality)return c;if(!R.hasOwnProperty(q.id)){b=b.getAbrController();m=q.bytesTotal-q.bytesLoaded;var r=b.getBitrateList(l);l=b.getQualityForBitrate(l,q.measuredBandwidthInKbps*h.get().streaming.abr.bandwidthSafetyFactor);var t=b.getMinAllowedIndexFor(n);l=void 0!==t?Math.max(t,l):l;q.bytesTotal*r[l].bitrate/r[b.getQualityFor(n)].bitrate<m&&(c.quality=l,c.reason.throughput=q.measuredBandwidthInKbps,c.reason.fragmentID=q.id,
 R[q.id]=q,p.debug("["+n+"] frag id",q.id," is asking to abandon and switch to quality to ",l," measured bandwidth was",q.measuredBandwidthInKbps),delete v[n][q.id])}}else q.bytesLoaded===q.bytesTotal&&delete v[n][q.id]}return c},reset:c},p=(0,l.default)(d).getInstance().getLogger(b),c(),b}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(135)),h=e(b(48)),l=e(b(46));g.__dashjs_factory_name="AbandonRequestsRule";d.default=h.default.getClassFactory(g);c.exports=d.default},{135:135,46:46,48:48}],
 140:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b,c,d){var e=d.reduce(function(b,c,e){return c>d[b]?e:b},0);if(0===e)return null;b=(d[e]-1)/(Math.max(b,10+2*c.length)/10-1);return{gp:b,Vp:10/b}}function d(b){var d={};b=b.getMediaInfo().bitrateList.map(function(b){return b.bandwidth});var f=function(b){return b.map(function(b){return Math.log(b)})}(b);f=f.map(function(b){return b-f[0]+1});var g=w.getStableBufferTime(),h=c(g,b,f);return h?(d.state=1,
 d.bitrates=b,d.utilities=f,d.stableBufferTime=g,d.Vp=h.Vp,d.gp=h.gp,d.lastQuality=0,e(d)):d.state=0,d}function e(b){b.placeholderBuffer=0;b.mostAdvancedSegmentStart=NaN;b.lastSegmentWasReplacement=!1;b.lastSegmentStart=NaN;b.lastSegmentDurationS=NaN;b.lastSegmentRequestTimeMs=NaN;b.lastSegmentFinishTimeMs=NaN}function f(b,d){var e=w.getStableBufferTime();if(b.stableBufferTime!==e){var f=c(e,b.bitrates,b.utilities);if(f.Vp!==b.Vp||f.gp!==b.gp){d=B.getCurrentBufferLevel(d,!0);var g=d+b.placeholderBuffer;
 g=f.Vp/b.Vp*(g-10);b.stableBufferTime=e;b.Vp=f.Vp;b.gp=f.gp;b.placeholderBuffer=Math.max(0,g+10-d)}}}function g(b,c){for(var d=b.bitrates[c],e=b.utilities[c],f=0,g=c-1;0<=g;--g)if(b.utilities[g]<b.utilities[c]){var h=b.bitrates[g];f=Math.max(f,b.Vp*(b.gp+(d*b.utilities[g]-h*e)/(d-h)))}return f}function l(){for(var b in I)I.hasOwnProperty(b)&&2===I[b].state&&(I[b].placeholderBuffer=0)}function r(){for(var b in I)if(I.hasOwnProperty(b)){var c=I[b];0!==c.state&&(c.state=1,e(c))}}function L(){}function y(b){if(b&&
 b.chunk&&b.chunk.mediaInfo){var c=I[b.chunk.mediaInfo.type];if(c&&0!==c.state){var d=b.chunk.start;isNaN(c.mostAdvancedSegmentStart)||d>c.mostAdvancedSegmentStart?(c.mostAdvancedSegmentStart=d,c.lastSegmentWasReplacement=!1):c.lastSegmentWasReplacement=!0;c.lastSegmentStart=d;c.lastSegmentDurationS=b.chunk.duration;c.lastQuality=b.chunk.quality;F(c,b.chunk.mediaInfo.type)}}}function G(b){if(b&&b.metric===k.default.HTTP_REQUEST&&b.value&&b.value.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&b.value.trace&&
 b.value.trace.length){var c=I[b.mediaType];c&&0!==c.state&&(c.lastSegmentRequestTimeMs=b.value.trequest.getTime(),c.lastSegmentFinishTimeMs=b.value._tfinish.getTime(),F(c,b.mediaType))}}function F(b,c){isNaN(b.lastSegmentStart)||isNaN(b.lastSegmentRequestTimeMs)||isNaN(b.placeholderBuffer)||((b.placeholderBuffer*=.99,isNaN(b.lastSegmentFinishTimeMs))||(c=B.getCurrentBufferLevel(c,!0)+.001*(b.lastSegmentFinishTimeMs-b.lastSegmentRequestTimeMs),b.placeholderBuffer=Math.min(Math.max(0,b.Vp*(b.utilities[b.lastQuality]+
 b.gp)-c),b.placeholderBuffer)),b.lastSegmentWasReplacement&&!isNaN(b.lastSegmentDurationS)&&(b.placeholderBuffer+=b.lastSegmentDurationS),b.lastSegmentStart=NaN,b.lastSegmentRequestTimeMs=NaN)}function E(b){if(b){var c=I[b.mediaType];c&&0!==c.state&&(c.abrQuality=b.newQuality)}}function x(b){if(b){var c=I[b.mediaType];if(c&&0!==c.state){b=B.getCurrentBufferLevel(b.mediaType,!0);var d=0<c.abrQuality?g(c,c.abrQuality):10;c.placeholderBuffer=Math.min(c.placeholderBuffer,Math.max(0,d-b))}}}b=b||{};var z=
 this.context,B=b.dashMetrics,w=b.mediaPlayerModel,C=(0,n.default)(z).getInstance(),J=void 0,N=void 0,I=void 0;J={getMaxIndex:function(b){var c=(0,h.default)(z).create();if(!(b&&b.hasOwnProperty("getMediaInfo")&&b.hasOwnProperty("getMediaType")&&b.hasOwnProperty("getScheduleController")&&b.hasOwnProperty("getStreamInfo")&&b.hasOwnProperty("getAbrController")&&b.hasOwnProperty("useBufferOccupancyABR")))return c;var k=b.getMediaInfo(),l=b.getMediaType(),n=b.getScheduleController(),m=b.getStreamInfo(),
 q=b.getAbrController(),p=q.getThroughputHistory(),r=m?m.id:null,v=m&&m.manifestInfo&&m.manifestInfo.isDynamic;m=b.useBufferOccupancyABR();if(c.reason=c.reason||{},!m)return c;n.setTimeToLoadDelay(0);b=function(b){var c=b.getMediaType(),e=I[c];return e?0!==e.state&&f(e,c):(e=d(b),I[c]=e),e}(b);if(0===b.state)return c;m=B.getCurrentBufferLevel(l,!0);var t=p.getAverageThroughput(l,v),u=p.getSafeAverageThroughput(l,v);p=p.getAverageLatency(l);v=void 0;if(c.reason.state=b.state,c.reason.throughput=t,c.reason.latency=
 p,isNaN(t))return c;switch(b.state){case 1:v=q.getQualityForBitrate(k,u,p);c.quality=v;c.reason.throughput=u;b.placeholderBuffer=Math.max(0,g(b,v)-m);b.lastQuality=v;!isNaN(b.lastSegmentDurationS)&&m>=b.lastSegmentDurationS&&(b.state=2);break;case 2:!function(b,c){var d=Date.now();if(isNaN(b.lastSegmentFinishTimeMs))isNaN(b.lastCallTimeMs)||(e=.001*(d-b.lastCallTimeMs),b.placeholderBuffer+=Math.max(0,e));else{var e=.001*(d-b.lastSegmentFinishTimeMs);b.placeholderBuffer+=Math.max(0,e)}b.lastCallTimeMs=
 d;b.lastSegmentStart=NaN;b.lastSegmentRequestTimeMs=NaN;b.lastSegmentFinishTimeMs=NaN;f(b,c)}(b,l);v=function(b,c){for(var d=b.bitrates.length,e=NaN,f=NaN,g=0;g<d;++g){var h=(b.Vp*(b.utilities[g]+b.gp)-c)/b.bitrates[g];(isNaN(f)||f<=h)&&(f=h,e=g)}return e}(b,m+b.placeholderBuffer);k=q.getQualityForBitrate(k,u,p);v>b.lastQuality&&k<v&&(v=Math.max(k,b.lastQuality));k=Math.max(0,m+b.placeholderBuffer-b.Vp*(b.utilities[v]+b.gp));k<=b.placeholderBuffer?(b.placeholderBuffer-=k,k=0):(k-=b.placeholderBuffer,
 b.placeholderBuffer=0,v<q.getTopQualityIndexFor(l,r)?n.setTimeToLoadDelay(1E3*k):k=0);c.quality=v;c.reason.throughput=t;c.reason.latency=p;c.reason.bufferLevel=m;c.reason.placeholderBuffer=b.placeholderBuffer;c.reason.delay=k;b.lastQuality=v;break;default:N.debug("BOLA ABR rule invoked in bad state."),c.quality=q.getQualityForBitrate(k,u,p),c.reason.state=b.state,c.reason.throughput=u,c.reason.latency=p,b.state=1,e(b)}return c},reset:function(){I={};C.off(m.default.BUFFER_EMPTY,l,J);C.off(m.default.PLAYBACK_SEEKING,
 r,J);C.off(m.default.PERIOD_SWITCH_STARTED,L,J);C.off(m.default.MEDIA_FRAGMENT_LOADED,y,J);C.off(m.default.METRIC_ADDED,G,J);C.off(m.default.QUALITY_CHANGE_REQUESTED,E,J);C.off(m.default.FRAGMENT_LOADING_ABANDONED,x,J)}};N=(0,t.default)(z).getInstance().getLogger(J);I={};return C.on(m.default.BUFFER_EMPTY,l,J),C.on(m.default.PLAYBACK_SEEKING,r,J),C.on(m.default.PERIOD_SWITCH_STARTED,L,J),C.on(m.default.MEDIA_FRAGMENT_LOADED,y,J),C.on(m.default.METRIC_ADDED,G,J),C.on(m.default.QUALITY_CHANGE_REQUESTED,
 E,J),C.on(m.default.FRAGMENT_LOADING_ABANDONED,x,J),J}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(108)),h=e(b(135)),l=e(b(48)),p=b(190),n=e(b(47)),m=e(b(55)),t=e(b(46));g.__dashjs_factory_name="BolaRule";d.default=l.default.getClassFactory(g);c.exports=d.default},{108:108,135:135,190:190,46:46,47:47,48:48,55:55}],141:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=this.context,c=void 0,d=void 0;return c={getMaxIndex:function(c){var e=(0,h.default)(b).create();
 if(!c||!c.hasOwnProperty("getDroppedFramesHistory"))return e;if(c=c.getDroppedFramesHistory()){e=c.getFrameHistory();for(var f=c=0,g=h.default.NO_CHANGE,k=1;k<e.length;k++)if(e[k]&&(c=e[k].droppedVideoFrames,375<(f=e[k].totalVideoFrames)&&.15<c/f)){g=k-1;d.debug("index: "+g+" Dropped Frames: "+c+" Total Frames: "+f);break}return(0,h.default)(b).create(g,{droppedFrames:c})}return e}},d=(0,l.default)(b).getInstance().getLogger(c),c}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(135)),
 l=e(b(46));g.__dashjs_factory_name="DroppedFramesRule";d.default=k.default.getClassFactory(g);c.exports=d.default},{135:135,46:46,48:48}],142:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){r={}}b=b||{};var d=this.context,e=(0,k.default)(d).getInstance(),f=b.dashMetrics,g=void 0,l=void 0,r=void 0;g={getMaxIndex:function(b){var c=(0,n.default)(d).create();if(!b||!b.hasOwnProperty("getMediaType"))return c;if(!f||!f.hasOwnProperty("getCurrentBufferLevel")||
 !f.hasOwnProperty("getLatestBufferInfoVO"))throw Error(m.default.MISSING_CONFIG_ERROR);!0;var e=b.getMediaType(),g=f.getLatestBufferInfoVO(e,!0,t.default.BUFFER_STATE),h=b.getRepresentationInfo().fragmentDuration,k;(k=!g)||(r[e]=r[e]||{},k=!1,r[e].firstBufferLoadedEvent?k=!0:g&&g.state===t.default.BUFFER_LOADED&&(r[e].firstBufferLoadedEvent=!0,k=!0),k=!k);if(k||!h)return c;if(g.state===t.default.BUFFER_EMPTY)l.debug("["+e+"] Switch to index 0; buffer is empty."),c.quality=0,c.reason="InsufficientBufferRule: Buffer is empty";
 else{g=b.getMediaInfo();b=b.getAbrController();var q=b.getThroughputHistory();k=f.getCurrentBufferLevel(e,!0);var p=q.getAverageThroughput(e);e=q.getAverageLatency(e);c.quality=b.getQualityForBitrate(g,k/h*p*.5,e);c.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return c},reset:function(){r={};e.off(h.default.PLAYBACK_SEEKING,c,g)}};l=(0,p.default)(d).getInstance().getLogger(g);r={};return e.on(h.default.PLAYBACK_SEEKING,c,g),g}Object.defineProperty(d,"__esModule",
 {value:!0});var k=e(b(47)),h=e(b(55)),l=e(b(48)),p=e(b(46)),n=e(b(135)),m=e(b(107)),t=e(b(108));g.__dashjs_factory_name="InsufficientBufferRule";d.default=l.default.getClassFactory(g);c.exports=d.default},{107:107,108:108,135:135,46:46,47:47,48:48,55:55}],143:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=this.context,c=void 0,d=void 0;return c={getMaxIndex:function(c){c=(c=c?c.getSwitchHistory():null)?c.getSwitchRequests():[];for(var e=0,f=0,g=0,h=(0,l.default)(b).create(),
 k=0;k<c.length;k++)if(void 0!==c[k]&&(e+=c[k].drops,f+=c[k].noDrops,g+=c[k].dropSize,6<=e+f&&.075<e/f)){h.quality=0<k&&0<c[k].drops?k-1:k;h.reason={index:h.quality,drops:e,noDrops:f,dropSize:g};d.debug("Switch history rule index: "+h.quality+" samples: "+(e+f)+" drops: "+e);break}return h}},d=(0,h.default)(b).getInstance().getLogger(c),c}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(46)),l=e(b(135));g.__dashjs_factory_name="SwitchHistoryRule";d.default=k.default.getClassFactory(g);
 c.exports=d.default},{135:135,46:46,48:48}],144:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){b=b||{};var c=this.context,d=b.dashMetrics,e=b=void 0;return b={getMaxIndex:function(b){var f=(0,l.default)(c).create();if(!(b&&b.hasOwnProperty("getMediaInfo")&&b.hasOwnProperty("getMediaType")&&b.hasOwnProperty("useBufferOccupancyABR")&&b.hasOwnProperty("getAbrController")&&b.hasOwnProperty("getScheduleController")))return f;if(!d||!d.hasOwnProperty("getLatestBufferInfoVO"))throw Error(p.default.MISSING_CONFIG_ERROR);
 !0;var g=b.getMediaInfo(),h=b.getMediaType(),k=d.getLatestBufferInfoVO(h,!0,n.default.BUFFER_STATE),m=b.getScheduleController(),q=b.getAbrController(),r=b.getStreamInfo();r=r&&r.manifestInfo?r.manifestInfo.isDynamic:null;var u=q.getThroughputHistory(),t=u.getSafeAverageThroughput(h,r);u=u.getAverageLatency(h);b=b.useBufferOccupancyABR();return isNaN(t)||!k||b||q.getAbandonmentStateFor(h)!==n.default.ABANDON_LOAD&&(k.state!==n.default.BUFFER_LOADED&&!r||(f.quality=q.getQualityForBitrate(g,t,u),m.setTimeToLoadDelay(0),
 e.debug("["+h+"] requesting switch to index: ",f.quality,"Average throughput",Math.round(t),"kbps"),f.reason={throughput:t,latency:u})),f},reset:function(){}},e=(0,h.default)(c).getInstance().getLogger(b),b}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(46)),l=e(b(135)),p=e(b(107)),n=e(b(108));g.__dashjs_factory_name="ThroughputRule";d.default=k.default.getClassFactory(g);c.exports=d.default},{107:107,108:108,135:135,46:46,48:48}],145:[function(b,c,d){function e(b){return b&&
 b.__esModule?b:{default:b}}function g(b){function c(b,c){var n=NaN;if(!b)return n;n=b.getType();b=b.getRepresentationInfo();n===k.default.FRAGMENTED_TEXT?n=f.isTextEnabled()?isNaN(b.fragmentDuration)?(c=d.getLatestBufferInfoVO(k.default.FRAGMENTED_TEXT,!0,l.default.SCHEDULING_INFO))?c.duration:0:b.fragmentDuration:0:n===k.default.AUDIO&&c?(c=d.getCurrentBufferLevel(k.default.VIDEO,!0),n=isNaN(b.fragmentDuration)?c:Math.max(c,b.fragmentDuration)):(c=b.mediaInfo.streamInfo,n=g.isPlayingAtTopQuality(c)?
 c.manifestInfo.duration>=h.get().streaming.longFormContentDurationThreshold?h.get().streaming.bufferTimeAtTopQualityLongForm:h.get().streaming.bufferTimeAtTopQuality:e.getStableBufferTime());return n}var d=(b=b||{}).dashMetrics,e=b.mediaPlayerModel,f=b.textController,g=b.abrController,h=b.settings;return{execute:function(b,e){return!b||d.getCurrentBufferLevel(b.getType(),!0)<c(b,e)},getBufferTarget:c}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(48)),l=e(b(108));g.__dashjs_factory_name=
 "BufferLevelRule";d.default=h.default.getClassFactory(g);c.exports=d.default},{107:107,108:108,48:48}],146:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){b=b||{};var c=this.context,d=b.textController,e=b.playbackController;b=void 0;return b={execute:function(b,c,f){if(!b)return null;var g=b.getRepresentationInfo(),h=b.getType(),l=!isNaN(c),n=b.getBufferController(),m=e.getNormalizedTime();c=l?c:b.getIndexHandlerTime();var q=!1;if(isNaN(c)||h===k.default.FRAGMENTED_TEXT&&
 !d.isTextEnabled())return null;if(n){var r=n.getRangeAt(c),t=n.getRangeAt(m);n=n.getBuffer().hasDiscontinuitiesAfter(m);null===r&&null===t||l||(!r||t&&t.start!=r.start&&t.end!=r.end)&&n&&h!==k.default.FRAGMENTED_TEXT&&(b.getFragmentModel().removeExecutedRequestsAfterTime(t.end),q=!0)}if(f)c=f.startTime+f.duration/2,f=b.getFragmentRequest(g,c,{timeThreshold:0,ignoreIsFinished:!0});else for(f=b.getFragmentRequest(g,l||q?c:void 0,{keepIdx:!l&&!q});f&&f.action!==p.default.ACTION_COMPLETE&&b.getFragmentModel().isFragmentLoaded(f);)f=
 b.getFragmentRequest(g);return f}},(0,h.default)(c).getInstance().getLogger(b),b}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(46)),l=e(b(48)),p=e(b(176));g.__dashjs_factory_name="NextFragmentRequestRule";d.default=l.default.getClassFactory(g);c.exports=d.default},{107:107,176:176,46:46,48:48}],147:[function(b,c,d){function e(){function b(b){return"red"===b?"rgb(255, 0, 0)":"green"===b?"rgb(0, 255, 0)":"blue"===b?"rgb(0, 0, 255)":"cyan"===b?"rgb(0, 255, 255)":"magenta"===
 b?"rgb(255, 0, 255)":"yellow"===b?"rgb(255, 255, 0)":"white"===b?"rgb(255, 255, 255)":"black"===b?"rgb(0, 0, 0)":b}function c(c,d){c=c.videoHeight/15;return d?"font-size: "+c+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(d.foreground?b(d.foreground):"rgb(255, 255, 255)")+"; font-style: "+(d.italics?"italic":"normal")+"; text-decoration: "+(d.underline?"underline":"none")+"; white-space: pre; background-color: "+(d.background?b(d.background):"transparent")+";":"font-size: "+
 c+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}var d=0;return{createHTMLCaptionsFromScreen:function(b,e,f,g){var h=null,k=!1,l=-1,n={start:e,end:f,spans:[]},m="style_cea608_white_black",p={},t={},S=[],L;for(L=0;15>L;++L){var y=g.rows[L];var G="",F=null;if(!1===y.isEmpty()){var E=
 y.chars;for(var x="",z=0;z<E.length;++z)x+=E[z].uchar;E=x.length-x.replace(/^\s+/,"").length;null===h&&(h={x:E,y1:L,y2:L+1,p:[]});E!==l&&k&&(h.p.push(n),n={start:e,end:f,spans:[]},h.y2=L,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===p.hasOwnProperty(h.name)?(S.push(h),p[h.name]=h):p[h.name].p.contat(h.p),h={x:E,y1:L,y2:L+1,p:[]});for(k=0;k<y.chars.length;++k)l=y.chars[k],x=l.penState,null!==F&&x.equals(F)||(0<G.trim().length&&(n.spans.push({name:m,line:G,row:L}),G=""),m="style_cea608_"+x.foreground+
 "_"+x.background,x.underline&&(m+="_underline"),x.italics&&(m+="_italics"),t.hasOwnProperty(m)||(t[m]=JSON.parse(JSON.stringify(x))),F=x),G+=l.uchar;0<G.trim().length&&n.spans.push({name:m,line:G,row:L});k=!0;l=E}else k=!1,l=-1,h&&(h.p.push(n),n={start:e,end:f,spans:[]},h.y2=L,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===p.hasOwnProperty(h.name)?(S.push(h),p[h.name]=h):p[h.name].p.contat(h.p),h=null)}h&&(h.p.push(n),h.y2=L+1,h.name="region_"+h.x+"_"+h.y1+"_"+h.y2,!1===p.hasOwnProperty(h.name)?(S.push(h),
 p[h.name]=h):p[h.name].p.contat(h.p));var B;g=[];for(L=0;L<S.length;++L){p=S[L];h="sub_cea608_"+d++;n=document.createElement("div");n.id=h;y="left: "+3.125*(B=p).x+"%; top: "+6.66*B.y1+"%; width: "+(100-3.125*B.x)+"%; height: "+6.66*Math.max(B.y2-1-B.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;";n.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+y;G=document.createElement("div");G.className="paragraph bodyStyle";
 G.style.cssText=c(b);F=document.createElement("div");F.className="cueUniWrapper";F.style.cssText="unicode-bidi: normal; direction: ltr;";for(m=0;m<p.p.length;++m)for(E=p.p[m],y=k=0;y<E.spans.length;++y)if(l=E.spans[y],0<l.line.length){0!==y&&k!=l.row&&(x=document.createElement("br"),x.className="lineBreak",F.appendChild(x));x=!1;k===l.row&&(x=!0);k=l.row;z=t[l.name];var w=document.createElement("span");w.className="spanPadding "+l.name+" customSpanColor";w.style.cssText=c(b,z);0!==y&&x?y===E.spans.length-
 1?w.textContent=l.line.replace(/\s+$/g,""):w.textContent=l.line:1<E.spans.length&&y<E.spans.length-1&&l.row===E.spans[y+1].row?w.textContent=l.line.replace(/^\s+/g,""):w.textContent=l.line.trim();F.appendChild(w)}G.appendChild(F);n.appendChild(G);p={bodyStyle:["%",90]};for(var C in t)t.hasOwnProperty(C)&&(p[C]=["%",90]);g.push({type:"html",start:e,end:f,cueHTMLElement:n,cueID:h,cellResolution:[32,15],isFromCEA608:!0,fontSize:p,lineHeight:{},linePadding:{}})}return g}}}Object.defineProperty(d,"__esModule",
 {value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="EmbeddedTextHtmlRender";d.default=b.default.getSingletonFactory(e);c.exports=d.default},{48:48}],148:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(b){if(b.sender.getType()===F.getType()&&!b.error){var c=b.sender.getStreamId(),d=b.sender.getCurrentRepresentation();C.extract(c,d?d.id:null)||f.trigger(l.default.TIMED_TEXT_REQUESTED,{index:0,sender:b.sender})}}function d(b){b.fragmentModel===
 F.getFragmentModel()&&b.chunk.bytes&&(C.save(b.chunk),w.append(b.chunk),f.trigger(l.default.STREAM_COMPLETED,{request:b.request,fragmentModel:b.fragmentModel}))}b=b||{};var e=this.context,f=(0,h.default)(e).getInstance(),g=(0,t.default)(e).getInstance(),p=b.errHandler,q=b.type,G=b.mimeType,F=b.streamProcessor,E=void 0,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0;return E={getBufferControllerType:function(){return"NotFragmentedTextBufferController"},initialize:function(b){B=b;C=(0,n.default)(e).getInstance()},
 createBuffer:function(b){try{if(w=(0,m.default)(e).create(B,b),!z){var c=w.getBuffer();c.hasOwnProperty(k.default.INITIALIZE)&&c.initialize(G,F);z=!0}return w}catch(I){if(b&&(b.isText||-1!==b.codec.indexOf('codecs="stpp')||-1!==b.codec.indexOf('codecs="wvtt')))try{w=g.getTextSourceBuffer()}catch(O){p.error(new r.default(u.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,u.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+q+" : "+O.message))}else p.error(new r.default(u.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,
 u.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+q))}},getType:function(){return q},getStreamProcessor:function(){return F},setSeekStartTime:function(){},getBuffer:function(){return w},getBufferLevel:function(){return 0},setMediaSource:function(b){B=b},getMediaSource:function(){return B},getIsBufferingCompleted:function(){return x},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},switchInitData:function(b,c){C.extract(b,c)||f.trigger(l.default.TIMED_TEXT_REQUESTED,{index:0,
 sender:E})},getRangeAt:function(){return null},reset:function(b){f.off(l.default.DATA_UPDATE_COMPLETED,c,E);f.off(l.default.INIT_FRAGMENT_LOADED,d,E);!b&&w&&(w.abort(),w.reset(),w=null)},updateTimestampOffset:function(b){w.timestampOffset===b||isNaN(b)||(w.timestampOffset=b)}},B=null,x=z=!1,f.on(l.default.DATA_UPDATE_COMPLETED,c,E),f.on(l.default.INIT_FRAGMENT_LOADED,d,E),E}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(47)),l=e(b(55)),p=e(b(48)),n=e(b(162)),m=e(b(103)),t=
 e(b(150)),r=e(b(174)),u=e(b(52));g.__dashjs_factory_name="NotFragmentedTextBufferController";d.default=p.default.getClassFactory(g);c.exports=d.default},{103:103,107:107,150:150,162:162,174:174,47:47,48:48,52:52,55:55}],149:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){return f.getBuffer()}b=b||{};var d,e=this.context,f=void 0;return d={getBufferControllerType:function(){return f.getBufferControllerType()},initialize:function(b,c){return f.initialize(b,
 c)},createBuffer:function(b){return f.createBuffer(b)},getType:function(){return f.getType()},getStreamProcessor:function(){f.getStreamProcessor()},setSeekStartTime:function(b){f.setSeekStartTime(b)},getBuffer:c,setBuffer:function(b){f.setBuffer(b)},getBufferLevel:function(){return f.getBufferLevel()},setMediaSource:function(b){f.setMediaSource(b)},getMediaSource:function(){return f.getMediaSource()},getIsBufferingCompleted:function(){return f.getIsBufferingCompleted()},getIsPruningInProgress:function(){return f.getIsPruningInProgress()},
 dischargePreBuffer:function(){return f.dischargePreBuffer()},switchInitData:function(b,c){f.switchInitData(b,c)},getRangeAt:function(b){return f.getRangeAt(b)},reset:function(b){f.reset(b)},updateTimestampOffset:function(b){var d=c();d.timestampOffset===b||isNaN(b)||(d.timestampOffset=b)}},f=b.type===k.default.FRAGMENTED_TEXT?(0,l.default)(e).create({type:b.type,dashMetrics:b.dashMetrics,mediaPlayerModel:b.mediaPlayerModel,manifestModel:b.manifestModel,errHandler:b.errHandler,streamController:b.streamController,
 mediaController:b.mediaController,adapter:b.adapter,textController:b.textController,abrController:b.abrController,playbackController:b.playbackController,streamProcessor:b.streamProcessor,settings:b.settings}):(0,p.default)(e).create({type:b.type,mimeType:b.mimeType,errHandler:b.errHandler,streamProcessor:b.streamProcessor}),d}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(48)),l=e(b(112)),p=e(b(148));g.__dashjs_factory_name="TextBufferController";d.default=h.default.getClassFactory(g);
 c.exports=d.default},{107:107,112:112,148:148,48:48}],150:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){var b=!0;return N&&!I&&(b=!1),b}var c=this.context,d=void 0,e=void 0,f=void 0,g=void 0,h=void 0,y=void 0,G=void 0,F=void 0,E=void 0,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0,J=void 0,N=void 0,I=void 0,O=void 0;d={setConfig:function(b){b&&(b.errHandler&&(f=b.errHandler),b.adapter&&(g=b.adapter),b.manifestModel&&(h=b.manifestModel),b.mediaController&&
 (y=b.mediaController),b.videoModel&&(G=b.videoModel),b.streamController&&(F=b.streamController),b.textTracks&&(E=b.textTracks),b.vttParser&&(x=b.vttParser),b.ttmlParser&&(z=b.ttmlParser),e.setConfig({errHandler:f,adapter:g,manifestModel:h,mediaController:y,videoModel:G,streamController:F,textTracks:E,vttParser:x,ttmlParser:z}))},getTextSourceBuffer:function(){return e},getAllTracksAreDisabled:function(){return N},addEmbeddedTrack:function(b){e.addEmbeddedTrack(b)},getTextDefaultLanguage:function(){return w},
 setTextDefaultLanguage:function(b){(0,u.checkParameterType)(b,"string");w=b},setTextDefaultEnabled:function(b){(0,u.checkParameterType)(b,"boolean");(J=b)||this.setTextTrack(-1)},getTextDefaultEnabled:function(){return J},enableText:function(c){(0,u.checkParameterType)(c,"boolean");b()!==c&&(c&&this.setTextTrack(C),c||(C=this.getCurrentTrackIdx(),this.setTextTrack(-1)))},isTextEnabled:b,setTextTrack:function(b){var c=e.getConfig(),d=c.fragmentModel,f=c.fragmentedTracks;c=c.videoModel;var g=void 0,
 h=void 0;N=-1===b;var l=E.getCurrentTrackIdx();if(l!==b)if(E.setModeForTrackIdx(l,k.default.TEXT_HIDDEN),E.setCurrentTrackIdx(b),E.setModeForTrackIdx(b,k.default.TEXT_SHOWING),(b=E.getCurrentTrackInfo())&&b.isFragmented&&!b.isEmbedded)for(var n=0;n<f.length;n++){if(g=f[n],b.lang===g.lang&&b.index===g.index&&(g.id?b.id===g.id:b.id===g.index))if(g!==y.getCurrentTrackFor(k.default.FRAGMENTED_TEXT,F.getActiveStreamInfo()))d.abortRequests(),d.removeExecutedRequestsBeforeTime(),e.remove(),E.deleteCuesFromTrackIdx(l),
 y.setTrack(g),e.setCurrentFragmentedTrackIdx(n);else if(-1===l){var m=F.getActiveStreamProcessors();for(g=0;g<m.length;g++)if(m[g].getType()===k.default.FRAGMENTED_TEXT){h=m[g];break}h.setIndexHandlerTime(c.getTime());h.getScheduleController().start()}}else if(b&&!b.isFragmented){m=F.getActiveStreamProcessors();for(n=0;n<m.length;n++)if(m[n].getType()===k.default.TEXT){g=(h=m[n]).getMediaInfoArr();break}if(h&&g)for(n=0;n<g.length;n++)if(g[n].index===b.index&&g[n].lang===b.lang){h.selectMediaInfo(g[n]);
 break}}},getCurrentTrackIdx:function(){return E.getCurrentTrackIdx()},enableForcedTextStreaming:function(b){(0,u.checkParameterType)(b,"boolean");I=b},reset:function(){N=!1;e.resetEmbedded();e.reset()}};C=-1;I=!(J=!(w=""));E=(0,p.default)(c).getInstance();x=(0,n.default)(c).getInstance();z=(0,m.default)(c).getInstance();e=(0,l.default)(c).getInstance();B=(0,t.default)(c).getInstance();E.initialize();B.on(r.default.TEXT_TRACKS_QUEUE_INITIALIZED,function(c){var d=this,e=c.tracks,f=c.index;e.some(function(b,
 c){if(b.lang===w)return d.setTextTrack(c),f=c,!0});J||this.setTextTrack(-1);C=f;B.trigger(r.default.TEXT_TRACKS_ADDED,{enabled:b(),index:f,tracks:e})},d);B.on(r.default.PERIOD_SWITCH_STARTED,function(b){void 0===O&&null!==b.fromStreamInfo&&(O=this.getCurrentTrackIdx())},d);B.on(r.default.STREAM_COMPLETED,function(){void 0===O&&(O=this.getCurrentTrackIdx())},d);B.on(r.default.PERIOD_SWITCH_COMPLETED,function(){void 0!==O&&(this.setTextTrack(O),O=void 0)},d);N=!1;return d}Object.defineProperty(d,"__esModule",
 {value:!0});var k=e(b(107)),h=e(b(48)),l=e(b(151)),p=e(b(152)),n=e(b(170)),m=e(b(168)),t=e(b(47)),r=e(b(55)),u=b(167);g.__dashjs_factory_name="TextController";d.default=h.default.getSingletonFactory(g);c.exports=d.default},{107:107,151:151,152:152,167:167,168:168,170:170,47:47,48:48,55:55}],151:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){ha=NaN;U=oa=null;wa=!(za=[])}function c(b){b=b.chunk;b.mediaInfo.embeddedCaptions&&f(b.bytes,b)}function d(){Ca=
 [];(A=(0,r.default)(B).getInstance()).setConfig({videoModel:Ba});A.initialize();I=(0,p.default)(B).getInstance();ka=[];C=!(ma=fa=null);T=(Oa=0,u.default)(B).getInstance();var b=ba.getActiveStreamProcessors(),d;for(d in b)if("video"===b[d].getType()){aa=b[d].getRepresentationInfo().MSETimeOffset;break}w.on(K.default.VIDEO_CHUNK_RECEIVED,c,this);w.on(K.default.BUFFER_CLEARED,m,this)}function e(b,c){var d,e,f=new l.default,g={subtitle:"subtitles",caption:"captions"};f.captionData=b;f.lang=c.lang;f.labels=
 c.labels;f.id=c.id?c.id:c.index;f.index=c.index;f.isTTML=(d=!1,c.codec&&0<=c.codec.search(k.default.STPP)&&(d=!0),c.mimeType&&0<=c.mimeType.search(k.default.TTML)&&(d=!0),d);b=!1;1<Ca.length&&c.isEmbedded?b=c.id&&c.id===k.default.CC1:1===Ca.length?c.id&&"string"==typeof c.id&&"CC"===c.id.substring(0,2)&&(b=!0):0===Ca.length&&(b=c.index===da[0].index);f.defaultTrack=b;f.isFragmented=!D.getIsTextTrack(c.mimeType);f.isEmbedded=!!c.isEmbedded;f.kind=(e=0<c.roles.length?g[c.roles[0]]:g.caption)===g.caption||
 e===g.subtitle?e:g.caption;f.roles=c.roles;f.accessibility=c.accessibility;A.addTextTrack(f,(da?da.length:0)+Ca.length)}function f(b,c){var d=void 0,f=void 0,l=void 0,n=void 0,m=void 0;m=n=void 0;l=c.mediaInfo;n=l.type;m=l.mimeType;if(l=l.codec||m)if(n===k.default.FRAGMENTED_TEXT)if(wa||"InitializationSegment"!==c.segmentType){if(wa)if(f=(n=I.getSamplesInfo(b)).sampleList,null===U&&0<f.length&&(U=f[0].cts-c.start*ha),0<=l.search(k.default.STPP))for(Z=null!==Z?Z:g(l),l=0;l<f.length;l++){var p=(c=f[l]).cts;
 n=p-U;this.buffered.add(n/ha,(n+c.duration)/ha);n=new DataView(b,c.offset,c.subSizes[0]);m=q.default.Utils.dataViewToString(n,k.default.UTF8);var r=[],M=c.offset+c.subSizes[0];for(n=1;n<c.subSizes.length;n++){var Q=new Uint8Array(b,M,c.subSizes[n]);Q=String.fromCharCode.apply(null,Q);r.push(Q);M+=c.subSizes[n]}try{var t=ea.getValue().ttmlTimeIsRelative?p/ha:0;d=Z.parse(m,t,p/ha,(p+c.duration)/ha,r);A.addCaptions(fa,U/ha,d)}catch(ra){oa.removeExecutedRequestsBeforeTime(),this.remove(),N.error("TTML parser error: "+
 ra.message)}}else{d=[];for(l=0;l<f.length;l++)for((c=f[l]).cts-=U,this.buffered.add(c.cts/ha,(c.cts+c.duration)/ha),n=b.slice(c.offset,c.offset+c.size),t=q.default.parseBuffer(n),n=0;n<t.boxes.length;n++)if(p=t.boxes[n],N.debug("VTT box1: "+p.type),"vtte"!==p.type&&"vttc"===p.type)for(N.debug("VTT vttc boxes.length = "+p.boxes.length),m=0;m<p.boxes.length;m++)if(r=p.boxes[m],N.debug("VTT box2: "+r.type),"payl"===r.type)r=r.cue_text,N.debug("VTT cue_text = "+r),M=c.cts/ha,Q=(c.cts+c.duration)/ha,d.push({start:M,
 end:Q,data:r,styles:{}}),N.debug("VTT "+M+"-"+Q+" : "+r);0<d.length&&A.addCaptions(fa,0,d)}}else wa=!0,ha=I.getMediaTimescaleFromMoov(b);else if(n===k.default.TEXT){n=new DataView(b,0,b.byteLength);m=q.default.Utils.dataViewToString(n,k.default.UTF8);try{d=g(l).parse(m,0),A.addCaptions(A.getCurrentTrackIdx(),0,d)}catch(ra){O.error(new H.default(S.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,S.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+ra.message,m))}}else{if(n===k.default.VIDEO)if(c.segmentType===h.HTTPRequest.INIT_SEGMENT_TYPE){if(0===
 Oa)for(Oa=I.getMediaTimescaleFromMoov(b),l=0;l<Ca.length;l++)e(null,Ca[l])}else{if(0===Oa)return void N.warn("CEA-608: No timescale for embeddedTextTrack yet");c=function(b,c){return function(b,d,e){(b=Ba.getTTMLRenderingDiv()?T.createHTMLCaptionsFromScreen(Ba.getElement(),b,d,e):[{start:b,end:d,data:e.getDisplayText(),styles:{}}])&&A.addCaptions(c,0,b)}};f=(n=I.getSamplesInfo(b)).lastSequenceNumber;if(!ka[0]&&!ka[1])for(t=d=void 0,l=0;l<Ca.length;l++){if(Ca[l].id===k.default.CC1?(0,t=A.getTrackIdxForId(k.default.CC1)):
 Ca[l].id===k.default.CC3&&(1,t=A.getTrackIdxForId(k.default.CC3)),-1===t)return void N.warn("CEA-608: data before track is ready.");d=c(0,t);ka[l]=new v.default.Cea608Parser(l+1,{newCue:d},null)}if(Oa){if(null!==ma&&f!==ma+n.numSequences)for(l=0;l<ka.length;l++)ka[l]&&ka[l].reset();b=function(b,c){if(0===c.length)return null;var d={splits:[],fields:[[],[]]};b=new DataView(b);for(var e=0;e<c.length;e++)for(var f=c[e],g=v.default.findCea608Nalus(b,f.offset,f.size),h=null,k=0,l=0;l<g.length;l++)for(var n=
 v.default.extractCea608DataFromRange(b,g[l]),m=0;2>m;m++)0<n[m].length&&(f.cts!==h?k=0:k+=1,d.fields[m].push([f.cts+aa*Oa,n[m],k]),h=f.cts);return d.fields.forEach(function(b){b.sort(function(b,c){return b[0]===c[0]?b[2]-c[2]:b[0]-c[0]})}),d}(b,n.sampleList);for(c=0;c<ka.length;c++)if(d=b.fields[c],n=ka[c])for(l=0;l<d.length;l++)n.addData(d[l][0]/Oa,d[l][1]);ma=f}}}else N.error("No text type defined")}function g(b){var c=void 0;return 0<=b.search(k.default.VTT)?c=M:(0<=b.search(k.default.TTML)||0<=
 b.search(k.default.STPP))&&(c=Q),c}function m(b){Ca.forEach(function(c){c=A.getTrackIdxForId(c.id);0<=c&&A.deleteCuesFromTrackIdx(c,b.from,b.to)})}var B=this.context,w=(0,R.default)(B).getInstance(),C=!1,J=void 0,N=void 0,I=void 0,O=void 0,D=void 0,ea=void 0,ca=void 0,Z=void 0,M=void 0,Q=void 0,da=void 0,A=void 0,oa=void 0,wa=void 0,ha=void 0,za=void 0,Ba=void 0,ba=void 0,U=void 0,fa=void 0,Ca=void 0,Oa=void 0,ma=void 0,ka=void 0,T=void 0,aa=void 0;J={initialize:function(b,c){C||d();A.setConfig({videoModel:Ba});
 A.initialize();I=I||(0,p.default)(B).getInstance();b=!D.getIsTextTrack(b);if(c){if(da=da.concat(c.getMediaInfoArr()),b)for(oa=c.getFragmentModel(),J.buffered=(0,n.default)(B).create(),za=ca.getTracksFor(k.default.FRAGMENTED_TEXT,c.getStreamInfo()),c=ca.getCurrentTrackFor(k.default.FRAGMENTED_TEXT,c.getStreamInfo()),b=0;b<za.length;b++)if(za[b]===c){fa=b;break}for(b=0;b<da.length;b++)e(null,da[b])}},append:f,abort:function(){A.deleteAllTextTracks();b();I=null;da=[]},addEmbeddedTrack:function(b){if(C||
 d(),b)if(b.id===k.default.CC1||b.id===k.default.CC3){for(var c=0;c<Ca.length;c++)if(Ca[c].id===b.id)return;Ca.push(b)}else N.warn("Embedded track "+b.id+" not supported!")},resetEmbedded:function(){w.off(K.default.VIDEO_CHUNK_RECEIVED,c,this);w.off(K.default.BUFFER_CLEARED,m,this);A&&A.deleteAllTextTracks();C=!1;Ca=[];ka=[null,null];ma=null},setConfig:function(b){b&&(b.errHandler&&(O=b.errHandler),b.adapter&&(D=b.adapter),b.manifestModel&&(ea=b.manifestModel),b.mediaController&&(ca=b.mediaController),
 b.videoModel&&(Ba=b.videoModel),b.streamController&&(ba=b.streamController),b.textTracks&&(A=b.textTracks),b.vttParser&&(M=b.vttParser),b.ttmlParser&&(Q=b.ttmlParser))},getConfig:function(){return{fragmentModel:oa,fragmentedTracks:za,videoModel:Ba}},setCurrentFragmentedTrackIdx:function(b){fa=b},remove:function(b,c){void 0===b&&b===c&&(b=this.buffered.start(0),c=this.buffered.end(this.buffered.length-1));this.buffered.remove(b,c)},reset:function(){b();da=[];A=Ba=ba=Z=null}};N=(0,t.default)(B).getInstance().getLogger(J);
 b();da=[];Z=null;return J}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=b(190),l=e(b(182)),p=e(b(156)),n=e(b(158)),m=e(b(48)),t=e(b(46)),r=e(b(152)),u=e(b(147)),q=e(b(8)),v=e(b(2)),R=e(b(47)),K=e(b(55)),H=e(b(174)),S=e(b(52));g.__dashjs_factory_name="TextSourceBuffer";d.default=m.default.getSingletonFactory(g);c.exports=d.default},{107:107,147:147,152:152,156:156,158:158,174:174,182:182,190:190,2:2,46:46,47:47,48:48,52:52,55:55,8:8}],152:[function(b,c,d){function e(b){return b&&
 b.__esModule?b:{default:b}}function g(){function b(b){var c=z[b].isTTML,d=z[b].isEmbedded;b=x.addTextTrack(z[b].kind,void 0!==z[b].id?z[b].id:z[b].lang,z[b].lang);return b.isEmbedded=d,b.isTTML=c,b}function c(b,c){var d=x.getClientWidth(),e=x.getClientHeight(),f=x.getVideoWidth(),g=x.getVideoHeight(),h=x.getVideoRelativeOffsetTop(),k=x.getVideoRelativeOffsetLeft();if(0!==f&&0!==g){var n=f/g,m=!1;b.isFromCEA608&&(n=3.5/3,m=!0);var p=0,q=0;f/g<d/e?p=(q=e)/g*f:q=(p=d)/f*g;var r,Q;g=f=0;d=(n<p/q?f=(g=
 q)*n:g=(f=p)/n,r=(d-f)/2,Q=(e-g)/2,m?{x:r+.1*f,y:Q+.1*g,w:.8*f,h:.8*g}:{x:r,y:Q,w:f,h:g});r=d.w;Q=d.h;e=d.x;d=d.y;if(r!=N||Q!=I||e!=C||d!=J||c)if((C=e+k,J=d+h,N=r,I=Q,O)&&(c=O.style)&&(c.left=C+"px",c.top=J+"px",c.width=N+"px",c.height=I+"px",c.zIndex=ea&&document[ea]||ca?M:null,y.trigger(l.default.CAPTION_CONTAINER_RESIZE,{})),b=b.activeCues)for(c=b.length,h=0;h<c;++h)k=b[h],k.scaleCue(k)}}function d(b){var c=N,d=I,f=void 0,g=void 0,h=void 0;if(b.cellResolution){d=[c/b.cellResolution[0],d/b.cellResolution[1]];
 if(b.linePadding)for(f in b.linePadding)if(b.linePadding.hasOwnProperty(f)){c=(b.linePadding[f]*d[0]).toString();var k=document.getElementsByClassName("spanPadding");for(var l=0;l<k.length;l++)k[l].style.cssText=k[l].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+c),k[l].style.cssText=k[l].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+c)}if(b.fontSize){for(f in b.fontSize)if(b.fontSize.hasOwnProperty(f))for("%"===b.fontSize[f][0]?g=b.fontSize[f][1]/100:
 "c"===b.fontSize[f][0]&&(g=b.fontSize[f][1]),c=(g*d[1]).toString(),k="defaultFontSize"!==f?document.getElementsByClassName(f):document.getElementsByClassName("paragraph"),l=0;l<k.length;l++)k[l].style.cssText=k[l].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+c);if(b.lineHeight)for(f in b.lineHeight)if(b.lineHeight.hasOwnProperty(f))for("%"===b.lineHeight[f][0]?h=b.lineHeight[f][1]/100:"c"===b.fontSize[f][0]&&(h=b.lineHeight[f][1]),c=(h*d[1]).toString(),k=document.getElementsByClassName(f),
 g=0;g<k.length;g++)k[g].style.cssText=k[g].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+c)}}b.isd&&((f=document.getElementById(b.cueID))&&O.removeChild(f),e(b))}function e(b){if(O){var c=document.createElement("div");O.appendChild(c);Z=(0,m.renderHTML)(b.isd,c,function(c){var d=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,e=/^#(.*)$/;return d.test(c)?(c=d.exec(c),c=parseInt(c[4],10)-1,"data:image/png;base64,"+btoa(b.images[c])):e.test(c)?(c=e.exec(c)[1],"data:image/png;base64,"+
 b.embeddedImages[c]):null},O.clientHeight,O.clientWidth,!1,function(b){F.info("renderCaption :",b)},Z,!0);c.id=b.cueID;y.trigger(l.default.CAPTION_RENDERED,{captionDiv:c,currentTrackIdx:w})}}function f(b){return 0<=b&&z[b]?x.getTextTrack(z[b].kind,z[b].id,z[b].lang,z[b].isTTML,z[b].isEmbedded):null}function g(b){if(b!==w){b=f(w=b);S.call(this);if(b&&"html"===b.renderingType){var d=document.getElementById("native-cue-style");if(!d){(d=document.createElement("style")).id="native-cue-style";document.head.appendChild(d);
 d=d.sheet;var e=x.getElement();try{e&&(e.id?d.insertRule("#"+e.id+"::cue {background: transparent}",0):0!==e.classList.length?d.insertRule("."+e.className+"::cue {background: transparent}",0):d.insertRule("video::cue {background: transparent}",0))}catch(oa){F.info(""+oa.message)}}}else(d=document.getElementById("native-cue-style"))&&document.head.removeChild(d);D&&(clearInterval(D),D=null);b&&"html"===b.renderingType&&(c.call(this,b,!0),D=setInterval(c.bind(this,b),500))}}function p(b,c,d){if(b.cues)for(var e=
 b.cues,f=e.length-1;0<=f;f--){var g=e[f];var h=c;var k=d;(isNaN(h)||g.startTime>=h)&&(isNaN(k)||g.endTime<=k)&&b.removeCue(e[f])}}function S(){if(O)for(;O.firstChild;)O.removeChild(O.firstChild)}var L=this.context,y=(0,h.default)(L).getInstance(),G=void 0,F=void 0,E=void 0,x=void 0,z=void 0,B=void 0,w=void 0,C=void 0,J=void 0,N=void 0,I=void 0,O=void 0,D=void 0,ea=void 0,ca=void 0,Z=void 0,M=void 0;return G={initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(E=window.VTTCue||
 window.TextTrackCue,z=[],B=[],ca=!(w=-1),M=2147483647,Z=D=O=null,void(I=N=J=C=0)!==document.fullscreenElement?ea="fullscreenElement":void 0!==document.webkitIsFullScreen?ea="webkitIsFullScreen":document.msFullscreenElement?ea="msFullscreenElement":document.mozFullScreen&&(ea="mozFullScreen"))},setDisplayCConTop:function(b){(0,t.checkParameterType)(b,"boolean");ca=b;O&&!document[ea]&&(O.style.zIndex=b?M:null)},addTextTrack:function(d,e){var h=this;z.length!==e?(z.push(d),z.length===e&&function(){z.sort(function(b,
 c){return b.index-c.index});O=x.getTTMLRenderingDiv();for(var d=-1,e=0;e<z.length;e++){var n=b.call(h,e);B.push(n);z[e].defaultTrack&&(n.default=!0,d=e);(n=f(e))&&(n.mode=k.default.TEXT_SHOWING,O&&(z[e].isTTML||z[e].isEmbedded)?n.renderingType="html":n.renderingType="default");h.addCaptions(e,0,z[e].captionData);y.trigger(l.default.TEXT_TRACK_ADDED)}g.call(h,d);0<=d&&function(){y.on(l.default.PLAYBACK_METADATA_LOADED,function Sa(){var b=f(d);b&&c.call(this,b,!0);y.off(l.default.PLAYBACK_METADATA_LOADED,
 Sa,this)},h);for(var b=0;b<z.length;b++){var e=f(b);e&&(e.mode=b===d?k.default.TEXT_SHOWING:k.default.TEXT_HIDDEN)}}();y.trigger(l.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:w,tracks:z})}()):F.error("Trying to add too many tracks.")},addCaptions:function(b,c,g){var h=f(b),n=this;if(h&&Array.isArray(g)&&0!==g.length)for(b=0;b<g.length;b++){var m=void 0,q=g[b];h.cellResolution=q.cellResolution;h.isFromCEA608=q.isFromCEA608;"html"===q.type&&O?((m=new E(q.start-c,q.end-c,"")).cueHTMLElement=q.cueHTMLElement,
 m.isd=q.isd,m.images=q.images,m.embeddedImages=q.embeddedImages,m.cueID=q.cueID,m.scaleCue=d.bind(n),m.cellResolution=q.cellResolution,m.lineHeight=q.lineHeight,m.linePadding=q.linePadding,m.fontSize=q.fontSize,O.style.left=C+"px",O.style.top=J+"px",O.style.width=N+"px",O.style.height=I+"px",m.onenter=function(){h.mode===k.default.TEXT_SHOWING&&(this.isd?(e(this),F.debug("Cue enter id:"+this.cueID)):(O.appendChild(this.cueHTMLElement),d.call(n,this),y.trigger(l.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,
 currentTrackIdx:w})))},m.onexit=function(){if(O)for(var b=O.childNodes,c=0;c<b.length;++c)b[c].id===this.cueID&&(F.debug("Cue exit id:"+b[c].id),O.removeChild(b[c]),--c)}):q.data&&(m=new E(q.start-c,q.end-c,q.data),q.styles&&(void 0!==q.styles.align&&"align"in m&&(m.align=q.styles.align),void 0!==q.styles.line&&"line"in m&&(m.line=q.styles.line),void 0!==q.styles.position&&"position"in m&&(m.position=q.styles.position),void 0!==q.styles.size&&"size"in m&&(m.size=q.styles.size)),m.onenter=function(){h.mode===
 k.default.TEXT_SHOWING&&y.trigger(l.default.CAPTION_RENDERED,{currentTrackIdx:w})});try{m?h.addCue(m):F.error("impossible to display subtitles.")}catch(Ba){throw p(h),h.addCue(m),Ba;}}},getCurrentTrackIdx:function(){return w},setCurrentTrackIdx:g,getTrackIdxForId:function(b){for(var c=-1,d=0;d<z.length;d++)if(z[d].id===b){c=d;break}return c},getCurrentTrackInfo:function(){return z[w]},setModeForTrackIdx:function(b,c){(b=f(b))&&b.mode!==c&&(b.mode=c)},deleteCuesFromTrackIdx:function(b,c,d){(b=f(b))&&
 p(b,c,d)},deleteAllTextTracks:function(){for(var b=B?B.length:0,c=0;c<b;c++){var d=f(c);d&&(p.call(this,d),d.mode="disabled")}B=[];z=[];D&&(clearInterval(D),D=null);w=-1;S.call(this)},deleteTextTrack:function(b){x.removeChild(B[b]);B.splice(b,1)},setConfig:function(b){b&&b.videoModel&&(x=b.videoModel)}},F=(0,n.default)(L).getInstance().getLogger(G),G}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107)),h=e(b(47)),l=e(b(55)),p=e(b(48)),n=e(b(46)),m=b(15),t=b(167);g.__dashjs_factory_name=
 "TextTracks";d.default=p.default.getSingletonFactory(g);c.exports=d.default},{107:107,15:15,167:167,46:46,47:47,48:48,55:55}],153:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){f&&f.reset()}var d,e=this.context,f=void 0;return d={get:function(b,c){var d=f.getCurrentTrack(),e=void 0;if(!d||0>=d.segmentDuration||null==b)return null;isNaN(d.segmentDuration)&&(e=f.getThumbnailRequestForTime(b))&&(d.segmentDuration=e.duration);var g=Math.floor(b%d.segmentDuration*
 d.tilesHor*d.tilesVert/d.segmentDuration),h=new l.default;if(h.width=Math.floor(d.widthPerTile),h.height=Math.floor(d.heightPerTile),h.x=Math.floor(g%d.tilesHor)*d.widthPerTile,h.y=Math.floor(g/d.tilesHor)*d.heightPerTile,"readThumbnail"in d)return d.readThumbnail(b,function(b){h.url=b;c&&c(h)});e?(h.url=e.url,d.segmentDuration=NaN):h.url=function(b,c){c+=b.startNumber;var d=(0,m.replaceTokenForTemplate)(b.templateUrl,"Number",c);return d=(0,m.replaceTokenForTemplate)(d,"Time",(c-1)*b.segmentDuration),
 d=(0,m.replaceTokenForTemplate)(d,"Bandwidth",b.bandwidth),(0,m.unescapeDollarsInTemplate)(d)}(d,Math.floor(b/d.segmentDuration));return c&&c(h),h},setTrackByIndex:function(b){f.setTrackByIndex(b)},getCurrentTrackIndex:function(){return f.getCurrentTrackIndex()},getBitrateList:function(){var b=0;return f.getTracks().map(function(c){var d=new n.default;return d.mediaType=h.default.IMAGE,d.qualityIndex=b++,d.bitrate=c.bitrate,d.width=c.width,d.height=c.height,d})},reset:c},c(),f=(0,p.default)(e).create({adapter:b.adapter,
 baseURLController:b.baseURLController,stream:b.stream,timelineConverter:b.timelineConverter}),d}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(107)),l=e(b(183)),p=e(b(154)),n=e(b(173)),m=b(80);g.__dashjs_factory_name="ThumbnailController";d.default=k.default.getClassFactory(g);c.exports=d.default},{107:107,154:154,173:173,183:183,48:48,80:80}],154:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){function c(){e();O=(0,r.default)(g).create({});
 ea=(0,t.default)(g).getInstance();(D=(0,m.default)(g).getInstance()).setConfig({baseURLController:G,dashMetrics:x,mediaPlayerModel:z,errHandler:B});(J=(0,u.default)(g).create({timelineConverter:E,baseURLController:G})).initialize(!!v&&v.getIsDynamic());(function(){if(F&&v){var b=F.getStreamInfo();b&&(I=v.getMediaInfoForType(b,k.default.IMAGE))&&((b=v.getVoRepresentations(I))&&0<b.length&&b.forEach(function(b){(b.segmentInfoType===h.default.SEGMENT_TEMPLATE&&0<b.segmentDuration&&b.media||b.segmentInfoType===
 h.default.SEGMENT_TIMELINE)&&d(b);b.segmentInfoType===h.default.SEGMENT_BASE&&d(b,!0)}),0<C.length&&(C.sort(function(b,c){return b.bitrate-c.bitrate}),N=C.length-1))}})()}function d(b,c){var d=new l.default;d.id=b.id;d.bitrate=b.bandwidth;d.width=b.width;d.height=b.height;d.tilesHor=1;d.tilesVert=1;b.essentialProperties&&b.essentialProperties.forEach(function(b){0<=q.indexOf(b.schemeIdUri)&&b.value&&(b=b.value.split("x"),2!==b.length||isNaN(b[0])||isNaN(b[1])||(d.tilesHor=parseInt(b[0],10),d.tilesVert=
 parseInt(b[1],10)))});c?D.loadSegments(b,k.default.IMAGE,b.indexRange,{},function(b,c){var e=[];b=function(b,c){var d,e=[],f=0,g=void 0;var h=0;for(d=b.length;h<d;h++){var k=b[h];(g=(0,n.getTimeBasedSegment)(E,v.getIsDynamic(),c,k.startTime,k.duration,k.timescale,k.media,k.mediaRange,f))&&(e.push(g),g=null,f++)}return e}(b,c);d.segmentDuration=b[0].duration;d.readThumbnail=function(d,f){var g=null;e.some(function(b){if(b.start<=d&&b.end>d)return g=b.url,!0});g?f(g):b.some(function(b){if(b.mediaStartTime<=
 d&&b.mediaStartTime+b.duration>d){var g=G.resolve(c.path);return O.load({method:"get",url:g.url,request:{range:b.mediaRange,responseType:"arraybuffer"},onload:function(c){var d=ea.getSamplesInfo(c.target.response);c=new Blob([c.target.response.slice(d.sampleList[0].offset,d.sampleList[0].offset+d.sampleList[0].size)],{type:"image/jpeg"});c=window.URL.createObjectURL(c);e.push({start:b.mediaStartTime,end:b.mediaStartTime+b.duration,url:c});f&&f(c)}}),!0}})}}):(d.startNumber=b.startNumber,d.segmentDuration=
 b.segmentDuration,d.timescale=b.timescale,d.templateUrl=function(b){var c=w.isRelative(b.media)?w.resolve(b.media,G.resolve(b.path).url):b.media;return c?(0,n.replaceIDForTemplate)(c,b.id):""}(b));0<d.tilesHor&&0<d.tilesVert&&(d.widthPerTile=d.width/d.tilesHor,d.heightPerTile=d.height/d.tilesVert,C.push(d))}function e(){C=[];N=-1;I=null}var f,g=this.context,v=b.adapter,G=b.baseURLController,F=b.stream,E=b.timelineConverter,x=b.dashMetrics,z=b.mediaPlayerModel,B=b.errHandler,w=(0,p.default)(g).getInstance(),
 C=void 0,J=void 0,N=void 0,I=void 0,O=void 0,D=void 0,ea=void 0;return f={initialize:c,getTracks:function(){return C},reset:e,setTrackByIndex:function(b){C&&0!==C.length&&(b>=C.length&&(b=C.length-1),N=b)},getCurrentTrack:function(){return 0>N?null:C[N]},getCurrentTrackIndex:function(){return N},getThumbnailRequestForTime:function(b){for(var c=void 0,d=v.getVoRepresentations(I),e=0;e<d.length;e++)if(C[N].id===d[e].id){c=d[e];break}return J.getSegmentRequestForTime(I,c,b)}},c(),f}Object.defineProperty(d,
 "__esModule",{value:!0});var k=e(b(107)),h=e(b(62));c=e(b(48));var l=e(b(184)),p=e(b(169)),n=b(80),m=e(b(60)),t=e(b(156)),r=e(b(132)),u=e(b(58)),q=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];d.THUMBNAILS_SCHEME_ID_URIS=q;g.__dashjs_factory_name="ThumbnailTracks";d.default=c.default.getClassFactory(g)},{107:107,132:132,156:156,169:169,184:184,48:48,58:58,60:60,62:62,80:80}],155:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(){f.reset()}
 var c,d=this.context,e=(0,h.default)(d).getInstance(),f=void 0,g=void 0,t=void 0,y=void 0;return c={chooseSelector:function(b){(0,u.checkParameterType)(b,"boolean");y=b?t:g},select:function(c){if(c){var d=c.baseUrls,f=c.selectedIdx;return isNaN(f)?(f=y.select(d))?(c.selectedIdx=d.indexOf(f),f):(e.trigger(l.default.URL_RESOLUTION_FAILED,{error:new r.default(k.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,k.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(y===g&&b())):d[f]}},reset:b,setConfig:function(b){b.selector&&
 (y=b.selector)}},f=(0,p.default)(d).create({updateEventName:l.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:l.default.SERVICE_LOCATION_BLACKLIST_ADD}),g=(0,m.default)(d).create({blacklistController:f}),t=(0,n.default)(d).create({blacklistController:f}),y=g,c}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(52)),h=e(b(47)),l=e(b(55)),p=e(b(111)),n=e(b(172)),m=e(b(171)),t=e(b(48)),r=e(b(174)),u=b(167);g.__dashjs_factory_name="BaseURLSelector";d.default=t.default.getClassFactory(g);
 c.exports=d.default},{111:111,167:167,171:171,172:172,174:174,47:47,48:48,52:52,55:55}],156:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b){if(!b)return null;void 0===b.fileStart&&(b.fileStart=0);b=p.default.parseBuffer(b);var c=(0,h.default)(e).create();return c.setData(b),c}var c=void 0,d=void 0,e=this.context;return d={parse:b,findLastTopIsoBoxCompleted:function(b,c,d){if(void 0===d&&(d=0),!c||d+8>=c.byteLength)return new n.default(0,!1);var e,f,g,
 h;c=c instanceof ArrayBuffer?new Uint8Array(c):c;for(var k=void 0,l=0;d<c.byteLength;){var m=(g=c)[(h=d)+3]>>>0|g[h+2]<<8>>>0|g[h+1]<<16>>>0|g[h]<<24>>>0,p=(e=c,f=d+4,String.fromCharCode(e[f++])+String.fromCharCode(e[f++])+String.fromCharCode(e[f++])+String.fromCharCode(e[f]));if(0==m)break;d+m<=c.byteLength&&(0<=b.indexOf(p)?k=new n.default(d,!0,m):l=d+m);d+=m}return k||new n.default(l,!1)},getMediaTimescaleFromMoov:function(c){return(c=(c=b(c))?c.getBox("mdhd"):void 0)?c.timescale:NaN},getSamplesInfo:function(c){if(!c||
 0===c.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var d=b(c);c=d.getBoxes("moof");var e=d.getBoxes("mfhd");var f=void 0,g,h,k,l,n;var m=void 0;d=d.getBoxes("moof").length;e=e[e.length-1].sequence_number;var p=[];var q=-1,r=-1;for(l=0;l<c.length;l++){var t=c[l],u=t.getChildBoxes("traf");for(h=0;h<u.length;h++){var C=u[h];var J=C.getChildBox("tfhd"),N=C.getChildBox("tfdt");m=N.baseMediaDecodeTime;var I=C.getChildBoxes("trun"),D=C.getChildBoxes("subs");
 for(k=0;k<I.length;k++){var V=I[k];var ea=V.sample_count;var ca=(J.base_data_offset||0)+(V.data_offset||0);for(g=0;g<ea;g++){C=void 0!==(f=V.samples[g]).sample_duration?f.sample_duration:J.default_sample_duration;var Z=void 0!==f.sample_size?f.sample_size:J.default_sample_size;var M={dts:m,cts:m+(void 0!==f.sample_composition_time_offset?f.sample_composition_time_offset:0),duration:C,offset:t.offset+ca,size:Z,subSizes:[Z]};if(D)for(n=0;n<D.length;n++){var Q=D[n];if(q<Q.entry_count-1&&r<g&&(q++,r+=
 Q.entries[q].sample_delta),g==r){M.subSizes=[];var da=Q.entries[q];for(Q=0;Q<da.subsample_count;Q++)M.subSizes.push(da.subsamples[Q].subsample_size)}}p.push(M);ca+=Z;m+=C}}m-=N.baseMediaDecodeTime}}return{sampleList:p,lastSequenceNumber:e,totalDuration:m,numSequences:d}},findInitRange:function(d){var e=null,f=b(d);if(!f)return e;d=f.getBox("ftyp");f=f.getBox("moov");return c.debug("Searching for initialization."),f&&f.isComplete&&(e=(d?d.offset:f.offset)+"-"+(f.offset+f.size-1),c.debug("Found the initialization.  Range: "+
 e)),e}},c=(0,k.default)(e).getInstance().getLogger(d),d}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(46)),h=e(b(163)),l=e(b(48)),p=e(b(8)),n=e(b(179));g.__dashjs_factory_name="BoxParser";d.default=l.default.getSingletonFactory(g);c.exports=d.default},{163:163,179:179,46:46,48:48,8:8}],157:[function(b,c,d){function e(){var b,c=void 0;return c=!(b={supportsMediaSource:function(){var b="MediaSource"in window;return"WebKitMediaSource"in window||b},supportsEncryptedMedia:function(){return c},
 supportsCodec:function(b){return!!("MediaSource"in window&&MediaSource.isTypeSupported(b))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(b))},setEncryptedMediaSupported:function(b){c=b}}),b}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="Capabilities";d.default=b.default.getSingletonFactory(e);c.exports=d.default},{48:48}],158:[function(b,c,d){function e(){return{customTimeRangeArray:[],length:0,add:function(b,
 c){var d;for(d=0;d<this.customTimeRangeArray.length&&b>this.customTimeRangeArray[d].start;d++);this.customTimeRangeArray.splice(d,0,{start:b,end:c});for(d=0;d<this.customTimeRangeArray.length-1;d++)this.mergeRanges(d,d+1)&&d--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[];this.length=0},remove:function(b,c){for(var d=0;d<this.customTimeRangeArray.length;d++)if(b<=this.customTimeRangeArray[d].start&&c>=this.customTimeRangeArray[d].end)this.customTimeRangeArray.splice(d,
 1),d--;else{if(b>this.customTimeRangeArray[d].start&&c<this.customTimeRangeArray[d].end){this.customTimeRangeArray.splice(d+1,0,{start:c,end:this.customTimeRangeArray[d].end});this.customTimeRangeArray[d].end=b;break}b>this.customTimeRangeArray[d].start&&b<this.customTimeRangeArray[d].end?this.customTimeRangeArray[d].end=b:c>this.customTimeRangeArray[d].start&&c<this.customTimeRangeArray[d].end&&(this.customTimeRangeArray[d].start=c)}this.length=this.customTimeRangeArray.length},mergeRanges:function(b,
 c){var d=this.customTimeRangeArray[b],e=this.customTimeRangeArray[c];return d.start<=e.start&&e.start<=d.end&&d.end<=e.end?(d.end=e.end,this.customTimeRangeArray.splice(c,1),!0):e.start<=d.start&&d.start<=e.end&&e.end<=d.end?(d.start=e.start,this.customTimeRangeArray.splice(c,1),!0):e.start<=d.start&&d.start<=e.end&&d.end<=e.end?(this.customTimeRangeArray.splice(b,1),!0):d.start<=e.start&&e.start<=d.end&&e.end<=d.end&&(this.customTimeRangeArray.splice(c,1),!0)},start:function(b){return(0,h.checkInteger)(b),
 b>=this.customTimeRangeArray.length||0>b?NaN:this.customTimeRangeArray[b].start},end:function(b){return(0,h.checkInteger)(b),b>=this.customTimeRangeArray.length||0>b?NaN:this.customTimeRangeArray[b].end}}}Object.defineProperty(d,"__esModule",{value:!0});var g,k=(g=b(48))&&g.__esModule?g:{default:g},h=b(167);e.__dashjs_factory_name="CustomTimeRanges";d.default=k.default.getClassFactory(e);c.exports=d.default},{167:167,48:48}],159:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}
 function g(b){function c(b){if(void 0!==n)return n;n=!1;var c=void 0;try{"undefined"!=typeof window&&(c=window[b])}catch(S){return k.warn("DOMStorage access denied: "+S.message),n}if(!c||"localStorage"!==b&&"sessionStorage"!==b)return n;try{c.setItem("1","1"),c.removeItem("1"),n=!0}catch(S){k.warn("DOMStorage is supported, but cannot be used: "+S.message)}return n}function d(b,d){return c(b)&&g.get().streaming[d+"CachingInfo"].enabled}function e(){if(!g)throw Error(l.default.MISSING_CONFIG_ERROR);
 }b=b||{};var f=this.context,g=b.settings,k=b=void 0,n=void 0;return b={getSavedBitrateSettings:function(b){var c=NaN;if(e(),d("localStorage","lastBitrate")){var f="dashjs_?_bitrate".replace(/\?/,b);try{var h=JSON.parse(localStorage.getItem(f))||{},l=(new Date).getTime()-parseInt(h.timestamp,10)>=g.get().streaming.lastBitrateCachingInfo.ttl||!1,n=parseFloat(h.bitrate);isNaN(n)||l?l&&localStorage.removeItem(f):(c=n,k.debug("Last saved bitrate for "+b+" was "+n))}catch(F){return null}}return c},setSavedBitrateSettings:function(b,
 c){if(d("localStorage","lastBitrate")&&c){b="dashjs_?_bitrate".replace(/\?/,b);try{localStorage.setItem(b,JSON.stringify({bitrate:c.toFixed(3),timestamp:6E5*Math.round((new Date).getTime()/6E5)}))}catch(S){k.error(S.message)}}},getSavedMediaSettings:function(b){var c=null;if(e(),d("localStorage","lastMediaSettings")){b="dashjs_?_settings".replace(/\?/,b);try{var f=JSON.parse(localStorage.getItem(b))||{},h=(new Date).getTime()-parseInt(f.timestamp,10)>=g.get().streaming.lastMediaSettingsCachingInfo.ttl||
 !1;c=f.settings;h&&(localStorage.removeItem(b),c=null)}catch(y){return null}}return c},setSavedMediaSettings:function(b,c){if(d("localStorage","lastMediaSettings")){b="dashjs_?_settings".replace(/\?/,b);try{localStorage.setItem(b,JSON.stringify({settings:c,timestamp:6E5*Math.round((new Date).getTime()/6E5)}))}catch(S){k.error(S.message)}}}},k=(0,h.default)(f).getInstance().getLogger(b),c("localStorage")&&p.forEach(function(b){var c=localStorage.getItem(b.oldKey);if(c){localStorage.removeItem(b.oldKey);
 try{localStorage.setItem(b.newKey,c)}catch(S){k.error(S.message)}}}),b}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(46)),l=e(b(107)),p=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}];g.__dashjs_factory_name="DOMStorage";b=k.default.getSingletonFactory(g);d.default=b;c.exports=d.default},{107:107,
 46:46,48:48}],160:[function(b,c,d){function e(b){function c(b,c){var d=!0,e;if(void 0===c&&(c=!1),e=16777215<b.tag?(f.getUint32(g)!==b.tag&&(d=!1),4):65535<b.tag?(256*f.getUint16(g)+f.getUint8(g+2)!==b.tag&&(d=!1),3):255<b.tag?(f.getUint16(g)!==b.tag&&(d=!1),2):(f.getUint8(g)!==b.tag&&(d=!1),1),!d&&b.required&&!c)throw Error("required tag not found");return d&&(g+=e),d}function d(b){var c=1,d=128,e=-1,h=0,k=f.getUint8(g),l;for(l=0;8>l;l+=1){if((k&d)===d){h=void 0===b?k&~d:k;e=l;break}d>>=1}for(l=
 0;l<e;l+=1,c+=1)h=h<<8|255&f.getUint8(g+c);return g+=c,h}b=b||{};var e=void 0,f=new DataView(b.data),g=0;return e={getPos:function(){return g},setPos:function(b){g=b},consumeTag:c,consumeTagAndSize:function(b,e){b=c(b,e);return b&&d(),b},parseTag:function(b){var f;return c(b),f=d(),e[b.parse](f)},skipOverElement:function(b,e){b=c(b,e);e=void 0;return b&&(e=d(),g+=e),b},getMatroskaCodedNum:d,getMatroskaFloat:function(b){var c=void 0;switch(b){case 4:c=f.getFloat32(g);g+=4;break;case 8:c=f.getFloat64(g),
 g+=8}return c},getMatroskaUint:function(b){for(var c=0,d=0;d<b;d+=1)c<<=8,c|=255&f.getUint8(g+d);return g+=b,c},moreData:function(){return g<f.byteLength}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="EBMLParser";d.default=b.default.getClassFactory(e);c.exports=d.default},{48:48}],161:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=this.context,c=(0,k.default)(b).getInstance();return{error:function(b){c.trigger(h.default.ERROR,
 {error:b})}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(47)),h=e(b(55));b=e(b(48));g.__dashjs_factory_name="ErrorHandler";d.default=b.default.getSingletonFactory(g);c.exports=d.default},{47:47,48:48,55:55}],162:[function(b,c,d){function e(){var b={};return{save:function(c){var d=c.streamId,e=c.representationId;b[d]=b[d]||{};b[d][e]=c},extract:function(c,d){return b&&b[c]&&b[c][d]?b[c][d]:null},reset:function(){b={}}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&
 g.__esModule?g:{default:g};e.__dashjs_factory_name="InitCache";d.default=b.default.getSingletonFactory(e);c.exports=d.default},{48:48}],163:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b){var e=[];if(!b||!d||"function"!=typeof d.fetchAll)return e;b=d.fetchAll(b);for(var f=void 0,g=0,h=b.length;g<h;g++)(f=c(b[g]))&&e.push(f);return e}function c(b){if(!b)return null;var c=new k.default(b);return b.hasOwnProperty("_incomplete")&&(c.isComplete=!b._incomplete),
 c}var d=void 0;return{getBox:function(b){return b&&d&&d.boxes&&0!==d.boxes.length&&"function"==typeof d.fetch?c(d.fetch(b)):null},getBoxes:b,setData:function(b){d=b},getLastBox:function(){if(!d||!d.boxes||!d.boxes.length)return null;var c=b(d.boxes[d.boxes.length-1].type);return 0<c.length?c[c.length-1]:null}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(178));b=e(b(48));g.__dashjs_factory_name="IsoFile";d.default=b.default.getClassFactory(g);c.exports=d.default},{178:178,48:48}],164:[function(b,
 c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b){var c=(b=b||{}).timelineConverter;return{getLiveEdge:function(b){if(!c||!c.hasOwnProperty("getExpectedLiveEdge"))throw Error(h.default.MISSING_CONFIG_ERROR);!0;var d=b.DVRWindow?b.DVRWindow.end:0,e=d;return b.useCalculatedLiveEdgeTime&&(e=c.getExpectedLiveEdge(),c.setClientTimeOffset(e-d)),e},reset:function(){c=null}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(107));g.__dashjs_factory_name="LiveEdgeFinder";
 d.default=k.default.getClassFactory(g);c.exports=d.default},{107:107,48:48}],165:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){return{areEqual:function(b,c){return(0,h.default)(b,c)}}}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(10));g.__dashjs_factory_name="ObjectUtils";d.default=k.default.getSingletonFactory(g);c.exports=d.default},{10:10,48:48}],166:[function(b,c,d){function e(){return{modifyRequestURL:function(b){return b},modifyRequestHeader:function(b){return b}}}
 Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="RequestModifier";d.default=b.default.getSingletonFactory(e);c.exports=d.default},{48:48}],167:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.checkParameterType=function(b,c){if(typeof b!==c)throw g.default.BAD_ARGUMENT_ERROR;};d.checkInteger=function(b){if(null===b||isNaN(b)||0!=b%1)throw g.default.BAD_ARGUMENT_ERROR+" : argument is not an integer";};d.checkRange=
 function(b,c,d){if(b<c||d<b)throw g.default.BAD_ARGUMENT_ERROR+" : argument out of range";};d.checkIsVideoOrAudioType=function(b){if("string"!=typeof b||b!==g.default.AUDIO&&b!==g.default.VIDEO)throw g.default.BAD_ARGUMENT_ERROR;};var e,g=(e=b(107))&&e.__esModule?e:{default:e}},{107:107}],168:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){var b=this.context,c=(0,l.default)(b).getInstance(),d=void 0,e=void 0,f=0;return d={parse:function(b,d,g,h,k){var l="",m=[],q=
 void 0,r=void 0,t=void 0;t={};var u={},v="",B="";if(!b)throw l="no ttml data to parse",Error(l);t.data=b;c.trigger(p.default.TTML_TO_PARSE,t);b=(0,n.fromXML)(t.data,function(b){l=b},{onOpenTag:function(b,c,d){if("image"===c&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===b){if(!d[" imagetype"]||"PNG"!==d[" imagetype"].value)return void e.warn("smpte-tt imagetype != PNG. Discarded");v=d["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){v&&(u[v]=B.trim());v=B=""},onText:function(b){v&&
 (B+=b)}});c.trigger(p.default.TTML_PARSED,{ttmlString:t.data,ttmlDoc:b});var w,C=b.getMediaTimeEvents();for(t=0;t<C.length;t++){var J=(0,n.generateISD)(b,C[t],function(b){l=b});J.contents.some(function(b){return b.contents.length})&&(q=C[t]+d<g?g:C[t]+d)<(r=C[t+1]+d>h?h:C[t+1]+d)&&m.push({start:q,end:r,type:"html",cueID:(void 0,w="cue_TTML_"+f,f++,w),isd:J,images:k,embeddedImages:u})}if(""!==l)throw e.error(l),Error(l);return m}},e=(0,h.default)(b).getInstance().getLogger(d),d}Object.defineProperty(d,
 "__esModule",{value:!0});var k=e(b(48)),h=e(b(46)),l=e(b(47)),p=e(b(55)),n=b(15);g.__dashjs_factory_name="TTMLParser";d.default=k.default.getSingletonFactory(g);c.exports=d.default},{15:15,46:46,47:47,48:48,55:55}],169:[function(b,c,d){function e(){function b(b,c){try{return(new window.URL(b,c)).toString()}catch(L){return b}}function c(b,c){var h=d;if(!c||!g(b))return b;t(b)&&(h=e);r(b)&&(h=f);c=h(c);h="/"!==c.charAt(c.length-1)&&"/"!==b.charAt(0)?"/":"";return[c,b].join(h)}function d(b){var c=b.indexOf("/"),
 d=b.lastIndexOf("/");return-1!==c?d===c+1?b:(-1!==b.indexOf("?")&&(b=b.substring(0,b.indexOf("?"))),b.substring(0,d+1)):""}function e(b){return(b=b.match(K))?b[1]:""}function f(b){return(b=b.match(q))?b[0]:""}function g(b){return!q.test(b)}function t(b){return g(b)&&"/"===b.charAt(0)}function r(b){return 0===b.indexOf("//")}var u=void 0,q=/^[a-z][a-z0-9+\-.]*:/i,v=/^https?:\/\//i,D=/^https:\/\//i,K=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i;try{new window.URL("x","http://y"),u=b}catch(H){}finally{u=u||
 c}return{parseBaseUrl:d,parseOrigin:e,parseScheme:f,isRelative:g,isPathAbsolute:t,isSchemeRelative:r,isHTTPURL:function(b){return v.test(b)},isHTTPS:function(b){return D.test(b)},resolve:function(b,c){return u(b,c)}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="URLUtils";d.default=b.default.getSingletonFactory(e);c.exports=d.default},{48:48}],170:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(){function b(b){var c=
 b.split(":"),d=c.length-1;return b=60*parseInt(c[d-1],10)+parseFloat(c[d]),2==d&&(b+=3600*parseInt(c[0],10)),b}function c(b){b=b.split(k);var c=b[1].split(v);return c.shift(),b[1]=c[0],c.shift(),{cuePoints:b,styles:function(b){var c={};return b.forEach(function(b){if(1<b.split(/:/).length){var d=b.split(/:/)[1];d&&-1!=d.search(/%/)&&(d=parseInt(d.replace(/%/,""),10));(b.match(/align/)||b.match(/A/))&&(c.align=d);(b.match(/line/)||b.match(/L/))&&(c.line=d);(b.match(/position/)||b.match(/P/))&&(c.position=
 d);(b.match(/size/)||b.match(/S/))&&(c.size=d)}}),c}(c)}}var d=this.context,e=void 0,f=void 0,g=void 0,k=void 0,q=void 0,v=void 0;return e={parse:function(d){var e=[];if(!d)return e;var h=(d=d.split(g)).length;var l=-1;for(var n=0;n<h;n++){var m=d[n];if(0<m.length&&"WEBVTT"!==m&&m.match(k)){var p=c(m);m=p.cuePoints;p=p.styles;var r=d;var t=n+1;var u=t;for(var v="",B="";""!==r[u]&&u<r.length;)u++;if(1<(u-=t))for(var w=0;w<u;w++){if((B=r[t+w]).match(k)){v="";break}v+=B;w!==u-1&&(v+="\n")}else(B=r[t]).match(k)||
 (v=B);r=v;t=b(m[0].replace(q,""));m=b(m[1].replace(q,""));!isNaN(t)&&!isNaN(m)&&l<=t&&t<m?""!==r?(l=t,e.push({start:t,end:m,data:r,styles:p})):f.error("Skipping cue due to empty/malformed cue text"):f.error("Skipping cue due to incorrect cue timing")}}return e}},f=(0,h.default)(d).getInstance().getLogger(e),g=/(?:\r\n|\r|\n)/gm,k=/--\x3e/,q=/(^[\s]+|[\s]+$)/g,v=/\s\b/g,e}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(48)),h=e(b(46));g.__dashjs_factory_name="VTTParser";d.default=k.default.getSingletonFactory(g);
 c.exports=d.default},{46:46,48:48}],171:[function(b,c,d){function e(b){var c=(b=b||{}).blacklistController;return{select:function(b){var d=0,e=void 0;return b&&b.some(function(b,e){return d=e,!c.contains(b.serviceLocation)})&&(e=b[d]),e}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="BasicSelector";d.default=b.default.getClassFactory(e);c.exports=d.default},{48:48}],172:[function(b,c,d){function e(b){var c=(b=b||{}).blacklistController;
 return{select:function(b){return b&&function(b){var c=0,d=[],e=0,f=void 0,g=void 0;if((g=b.sort(function(b,c){b=b.dvb_priority-c.dvb_priority;return isNaN(b)?0:b}).filter(function(b,c,d){return!c||d[0].dvb_priority&&b.dvb_priority&&d[0].dvb_priority===b.dvb_priority})).length)return 1<g.length&&(g.forEach(function(b){c+=b.dvb_weight;d.push(c)}),f=Math.floor(Math.random()*(c-1)),d.every(function(b,c){return e=c,!(f<b)})),g[e]}(function(b){var d=[];return b.filter(function(b){return!c.contains(b.serviceLocation)||
 (b.dvb_priority&&d.push(b.dvb_priority),!1)}).filter(function(b){return!d.length||!b.dvb_priority||-1===d.indexOf(b.dvb_priority)})}(b))}}}Object.defineProperty(d,"__esModule",{value:!0});var g;b=(g=b(48))&&g.__esModule?g:{default:g};e.__dashjs_factory_name="DVBSelector";d.default=b.default.getClassFactory(e);c.exports=d.default},{48:48}],173:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
 !0;this.scanType=this.height=this.width=this.bitrate=this.mediaType=null;this.qualityIndex=NaN};c.exports=d.default},{}],174:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function l(b,c,d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");!0;this.code=b||null;this.message=c||null;this.data=d||null};c.exports=d.default},{}],175:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
 !0;this.segmentType=this.mediaInfo=this.streamId=null;this.index=this.quality=NaN;this.bytes=null;this.duration=this.end=this.start=NaN;this.endFragment=this.representationId=null};c.exports=d.default},{}],176:[function(b,c,d){function e(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.action=
 g.ACTION_DOWNLOAD;this.startTime=NaN;this.type=this.mediaInfo=this.mediaType=null;this.timescale=this.duration=NaN;this.requestEndDate=this.firstByteDate=this.requestStartDate=this.serviceLocation=this.url=this.range=null;this.index=this.quality=NaN;this.wallStartTime=this.availabilityEndTime=this.availabilityStartTime=null;this.delayLoadingTime=this.bytesTotal=this.bytesLoaded=NaN;this.responseType="arraybuffer";this.representationId=null}Object.defineProperty(d,"__esModule",{value:!0});var k=b(190);
 b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"isInitializationRequest",value:function(){return this.type&&this.type===k.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(b){this.type=b&&b.init?k.HTTPRequest.INIT_SEGMENT_TYPE:k.HTTPRequest.MEDIA_SEGMENT_TYPE;this.url=b&&b.url?b.url:null;this.range=b&&b.range?b.range.start+"-"+b.range.end:null;this.mediaType=b&&b.mediaType?b.mediaType:null}}]),g);b.ACTION_DOWNLOAD="download";b.ACTION_COMPLETE="complete";d.default=b;
 c.exports=d.default},{190:190}],177:[function(b,c,d){function e(b){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");!0;a:{var c=Object.getPrototypeOf(e.prototype),d="constructor";var f=this;for(var g=!0;g;){null===c&&(c=Function.prototype);g=Object.getOwnPropertyDescriptor(c,d);if(void 0!==g){if("value"in g){f=g.value;break a}d=g.get;if(void 0===d)break;f=d.call(f);break a}c=Object.getPrototypeOf(c);if(null===c)break;g=!0}f=void 0}f.call(this);this.url=b||null;this.checkForExistenceOnly=
 !0}Object.defineProperty(d,"__esModule",{value:!0});b=b(176);b=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(e,(b&&b.__esModule?b:{default:b}).default),e);d.default=b;c.exports=d.default},{176:176}],178:[function(b,c,d){function e(b,
 c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function g(b){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");if(this.offset=b._offset,this.type=b.type,this.size=b.size,this.boxes=[],b.boxes)for(var c=0;c<b.boxes.length;c++)this.boxes.push(new g(b.boxes[c]));switch(this.isComplete=!0,b.type){case "sidx":if(this.timescale=b.timescale,this.earliest_presentation_time=
 b.earliest_presentation_time,this.first_offset=b.first_offset,this.references=b.references,b.references)for(this.references=[],c=0;c<b.references.length;c++)this.references.push({reference_type:b.references[c].reference_type,referenced_size:b.references[c].referenced_size,subsegment_duration:b.references[c].subsegment_duration});break;case "emsg":this.id=b.id;this.value=b.value;this.timescale=b.timescale;this.scheme_id_uri=b.scheme_id_uri;this.presentation_time_delta=1===b.version?b.presentation_time:
 b.presentation_time_delta;this.event_duration=b.event_duration;this.message_data=b.message_data;break;case "mdhd":this.timescale=b.timescale;break;case "mfhd":this.sequence_number=b.sequence_number;break;case "subs":this.entry_count=b.entry_count;this.entries=b.entries;break;case "tfhd":this.base_data_offset=b.base_data_offset;this.sample_description_index=b.sample_description_index;this.default_sample_duration=b.default_sample_duration;this.default_sample_size=b.default_sample_size;this.default_sample_flags=
 b.default_sample_flags;this.flags=b.flags;break;case "tfdt":this.version=b.version;this.baseMediaDecodeTime=b.baseMediaDecodeTime;this.flags=b.flags;break;case "trun":if(this.sample_count=b.sample_count,this.first_sample_flags=b.first_sample_flags,this.data_offset=b.data_offset,this.flags=b.flags,this.samples=b.samples,b.samples){this.samples=[];c=0;for(var d=b.samples.length;c<d;c++)this.samples.push({sample_size:b.samples[c].sample_size,sample_duration:b.samples[c].sample_duration,sample_composition_time_offset:b.samples[c].sample_composition_time_offset})}}}
 Object.defineProperty(d,"__esModule",{value:!0});b=(function(b,c,d){return c&&e(b.prototype,c),d&&e(b,d),b}(g,[{key:"getChildBox",value:function(b){for(var c=0;c<this.boxes.length;c++)if(this.boxes[c].type===b)return this.boxes[c]}},{key:"getChildBoxes",value:function(b){for(var c=[],d=0;d<this.boxes.length;d++)this.boxes[d].type===b&&c.push(this.boxes[d]);return c}}]),g);d.default=b;c.exports=d.default},{}],179:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function l(b,
 c,d){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");!0;this.lastCompletedOffset=b;this.found=c;this.size=d};c.exports=d.default},{}],180:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.TcpList=[];this.HttpList=[];this.RepSwitchList=[];this.BufferLevel=[];this.BufferState=[];this.PlayList=[];this.DroppedFrames=[];this.SchedulingInfo=[];
 this.DVRInfo=[];this.ManifestUpdate=[];this.RequestsQueue=null;this.DVBErrors=[]};c.exports=d.default},{}],181:[function(b,c,d){function e(b){return b&&b.__esModule?b:{default:b}}function g(b,c){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;a:{var d=Object.getPrototypeOf(g.prototype),e="constructor";var f=this;for(var h=!0;h;){null===d&&(d=Function.prototype);h=Object.getOwnPropertyDescriptor(d,e);if(void 0!==h){if("value"in h){f=h.value;break a}e=h.get;if(void 0===
 e)break;f=e.call(f);break a}d=Object.getPrototypeOf(d);if(null===d)break;h=!0}f=void 0}f.call(this);this.url=b||null;this.type=c||null;this.mediaType=k.default.STREAM;this.responseType=""}Object.defineProperty(d,"__esModule",{value:!0});var k=e(b(107));b=(function(b,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});
 c&&(Object.setPrototypeOf?Object.setPrototypeOf(b,c):b.__proto__=c)}(g,e(b(176)).default),g);d.default=b;c.exports=d.default},{107:107,176:176}],182:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.lang=this.label=this.captionData=null;this.defaultTrack=!1;this.kind=null;this.isEmbedded=this.isFragmented=!1};c.exports=d.default},{}],183:[function(b,c,d){Object.defineProperty(d,
 "__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.y=this.x=this.height=this.width=this.url=null};c.exports=d.default},{}],184:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.timescale=this.segmentDuration=this.startNumber=this.heightPerTile=this.widthPerTile=this.tilesVert=this.tilesHor=
 this.height=this.width=this.bitrate=0;this.id=this.templateUrl=""};c.exports=d.default},{}],185:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.r=this.s=this.id=this.track=this.xywh=this.t=null};c.exports=d.default},{}],186:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
 !0;this.level=this.t=null};c.exports=d.default},{}],187:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});var e,g=(e=b(108))&&e.__esModule?e:{default:e};d.default=function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");!0;this.target=null;this.state=g.default.BUFFER_EMPTY};c.exports=d.default},{108:108}],188:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");
 !0;this.manifestInfo=this.range=this.time=null};c.exports=d.default},{}],189:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.droppedFrames=this.time=null};c.exports=d.default},{}],190:[function(b,c,d){function e(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}function g(){e(this,g);this.interval=this.responsecode=this.tresponse=this.trequest=
 this.range=this.actualurl=this.url=this.type=this.tcpid=null;this.trace=[];this._serviceLocation=this._responseHeaders=this._quality=this._mediaduration=this._tfinish=this._stream=null}Object.defineProperty(d,"__esModule",{value:!0});g.GET="GET";g.HEAD="HEAD";g.MPD_TYPE="MPD";g.XLINK_EXPANSION_TYPE="XLinkExpansion";g.INIT_SEGMENT_TYPE="InitializationSegment";g.INDEX_SEGMENT_TYPE="IndexSegment";g.MEDIA_SEGMENT_TYPE="MediaSegment";g.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment";g.OTHER_TYPE=
 "other";d.HTTPRequest=g;d.HTTPRequestTrace=function h(){e(this,h);this.d=this.s=null;this.b=[]}},{}],191:[function(b,c,d){function e(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(d,"__esModule",{value:!0});d.ManifestUpdate=function k(){e(this,k);this.availabilityStartTime=this.fetchTime=this.requestTime=this.type=this.mediaType=null;this.clientTimeOffset=this.presentationStartTime=0;this.buffered=this.currentTime=null;this.latency=0;this.streamInfo=
 [];this.representationInfo=[]};d.ManifestUpdateStreamInfo=function h(){e(this,h);this.duration=this.start=this.index=this.id=null};d.ManifestUpdateRepresentationInfo=function l(){e(this,l);this.fragmentInfoType=this.startNumber=this.presentationTimeOffset=this.streamIndex=this.mediaType=this.index=this.id=null}},{}],192:[function(b,c,d){function e(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}function g(){e(this,g);this.starttype=this.mstart=this.start=null;this.trace=
 []}function k(){e(this,k);this.stopreason=this.playbackspeed=this.duration=this.mstart=this.start=this.subreplevel=this.representationid=null}Object.defineProperty(d,"__esModule",{value:!0});g.INITIAL_PLAYOUT_START_REASON="initial_playout";g.SEEK_START_REASON="seek";g.RESUME_FROM_PAUSE_START_REASON="resume";g.METRICS_COLLECTION_START_REASON="metrics_collection_start";k.REPRESENTATION_SWITCH_STOP_REASON="representation_switch";k.REBUFFERING_REASON="rebuffering";k.USER_REQUEST_STOP_REASON="user_request";
 k.END_OF_PERIOD_STOP_REASON="end_of_period";k.END_OF_CONTENT_STOP_REASON="end_of_content";k.METRICS_COLLECTION_STOP_REASON="metrics_collection_end";k.FAILURE_STOP_REASON="failure";d.PlayList=g;d.PlayListTrace=k},{}],193:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.lto=this.to=this.mt=this.t=null};c.exports=d.default},{}],194:[function(b,c,d){Object.defineProperty(d,
 "__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.loadingRequests=[];this.executedRequests=[]};c.exports=d.default},{}],195:[function(b,c,d){Object.defineProperty(d,"__esModule",{value:!0});d.default=function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");!0;this.state=this.range=this.quality=this.duration=this.availabilityStartTime=this.startTime=this.type=this.t=this.mediaType=
 null};c.exports=d.default},{}]},{},[4]);var c={version:"js-6.35.0-4ef6e682-202004081534"};"undefined"!==typeof window&&(window._fw_admanager=window._fw_admanager||{},window._fw_admanager.version=c.version);c.LOG_LEVEL_QUIET=0;c.LOG_LEVEL_INFO=1;c.LOG_LEVEL_DEBUG=2;c.setLogLevel=function(b){c.warn=c.log=c.debug=function(){};if("undefined"!==typeof console){try{window.localStorage&&window.localStorage.getItem("fwLogLevel")&&-1<window.localStorage.getItem("fwLogLevel")&&(b=window.localStorage.getItem("fwLogLevel"))}catch(e){console.warn(">FW Common.setLogLevel"+
 e.description)}b>c.LOG_LEVEL_QUIET&&(c.log=function(){console.log(">FW "+(new Date).toISOString().substr(14,9)+" "+Array.prototype.slice.call(arguments).join(" "))},c.warn=function(){console.warn(">FW "+(new Date).toISOString().substr(14,9)+" "+Array.prototype.slice.call(arguments).join(" "))},b>c.LOG_LEVEL_INFO&&(c.debug=function(){console.log(">FW "+(new Date).toISOString().substr(14,9)+" "+Array.prototype.slice.call(arguments).join(" "))}))}};c.setLogLevel(c.LOG_LEVEL_INFO);c.log("FreeWheel Integration Runtime",
 c.version);c.proxyUrl=null;c.creativesProxyUrl=null;c.proxyAuthenticationParameter=null;c.setProxy=function(b){c.debug("setProxy: "+b);c.Util.isValidProxyUrl(b)&&(c.proxyUrl="/"!==b.charAt(b.length-1)?b+"/":b)};c.setCreativesProxy=function(b){c.debug("setCreativesProxy: "+b);c.Util.isValidProxyUrl(b)&&(c.creativesProxyUrl="/"!==b.charAt(b.length-1)?b+"/":b)};c.setProxyAuthenticationParameter=function(b,e){c.proxyAuthenticationParameter=2<=arguments.length&&b?{key:b,value:e||""}:null};c.checkUserAgent=
 function(b){c.PLATFORM_IS_WINDOWSPHONE=-1<b.search("windows phone");c.PLATFORM_IS_IPAD=-1<b.search("ipad");c.PLATFORM_IS_IPHONE_IPOD=-1<b.search("iphone")||-1<b.search("ipod");c.PLATFORM_IS_CHROMECAST=-1<b.search("crkey");var e=function(c){return(c=b.match(c))&&0<c.length?(c=c[0].match(/\d+/g),1*c[0]+.1*(1<c.length?c[1]:0)):0};c.PLATFORM_IE_MOBILE_VERSION=e(/iemobile\/\d+\.\d+/);c.PLATFORM_IOS_VERSION=e(/os \d+_\d+/);c.PLATFORM_ANDROID_VERSION=function(){if(-1<b.indexOf("transformer"))return 3.2;
 var c=e(/android \d+\.\d+/);return 0!==c?c:e(/android \d+/)}();c.PLATFORM_IS_SAFARI=0<c.PLATFORM_IOS_VERSION&&-1<b.search("applewebkit")||0===c.PLATFORM_ANDROID_VERSION&&0>b.search("chrome")&&-1<b.search("safari");c.PLATFORM_IS_CHROME=0>b.search("edge")&&-1<b.search("chrome");c.PLATFORM_IS_FIREFOX=-1<b.search("firefox");c.PLATFORM_IS_MOBILE=0<c.PLATFORM_IOS_VERSION||0<c.PLATFORM_ANDROID_VERSION;c.PLATFORM_BROWSER_VERSION=function(b){var c="",d;-1!==(d=b.indexOf("opr/"))?c=b.substring(d+4):-1!==(d=
 b.indexOf("opera"))?(c=b.substring(d+6),-1!==(d=b.indexOf("version"))&&(c=b.substring(d+8))):-1!==(d=b.indexOf("rv:"))?c=b.substring(d+3):-1!==(d=b.indexOf("msie"))?c=b.substring(d+5):-1!==(d=b.indexOf("edge"))?c=b.substring(d+5):-1!==(d=b.indexOf("chrome"))?c=b.substring(d+7):-1!==(d=b.indexOf("safari"))?(c=b.substring(d+7),-1!==(d=b.indexOf("version"))&&(c=b.substring(d+8))):-1!==(d=b.indexOf("firefox"))?c=b.substring(d+8):b.lastIndexOf(" ")+1<(d=b.lastIndexOf("/"))&&(c=b.substring(d+1));var e;
 -1!==(e=c.indexOf(";"))&&(c=c.substring(0,e));-1!==(e=c.indexOf(" "))&&(c=c.substring(0,e));return(b=parseInt(""+c,10))?b:0}(b);c.PLATFORM_ID=c.PLATFORM_IS_MOBILE?0<c.PLATFORM_ANDROID_VERSION?"Android"+c.PLATFORM_ANDROID_VERSION:c.PLATFORM_IS_IPAD?"iPad"+c.PLATFORM_IOS_VERSION:c.PLATFORM_IS_IPHONE_IPOD?"iPhone"+c.PLATFORM_IOS_VERSION:"UnknownMobile":"Desktop";c.log("Device:",c.PLATFORM_ID,"PLATFORM_IS_SAFARI:",c.PLATFORM_IS_SAFARI,"PLATFORM_IS_CHROME:",c.PLATFORM_IS_CHROME)};c.checkUserAgent(navigator.userAgent.toLowerCase());
 c.PLATFORM_EVENT_CLICK=c.PLATFORM_IS_MOBILE?"touchend":"click";c.MOBILE_EVENT_DRAG="touchmove";c.PLATFORM_SEND_REQUEST_BY_FORM=!1;c.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_MOVE_POSITION=3.1<=c.PLATFORM_ANDROID_VERSION;c.PLATFORM_HIDE_AND_SHOW_CONTENT_VIDEO_BY_SET_DISPLAY=!0;c.PLATFORM_SUPPORT_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT=c.PLATFORM_IS_IPAD||c.PLATFORM_IS_IPHONE_IPOD;c.PLATFORM_AUTO_SEEK_AFTER_MIDROLL=c.PLATFORM_IS_IPAD;c.PLATFORM_NOT_SUPPORT_OVERLAY_AD=c.PLATFORM_IS_IPHONE_IPOD||0<c.PLATFORM_ANDROID_VERSION&&
 3.1>c.PLATFORM_ANDROID_VERSION||c.PLATFORM_IS_WINDOWSPHONE;c.PLATFORM_FILL_VIDEO_POOL_FOR_MIDROLL=4.2<=c.PLATFORM_IOS_VERSION;c.PLATFORM_NOT_SUPPORT_MIDROLL_AD=2.2<=c.PLATFORM_ANDROID_VERSION&&3>=c.PLATFORM_ANDROID_VERSION||9<=c.PLATFORM_IE_MOBILE_VERSION;c.PLATFORM_NOT_SUPPORT_VIDEO_AD=0<c.PLATFORM_ANDROID_VERSION&&2.1>=c.PLATFORM_ANDROID_VERSION;c.PLATFORM_DETECT_FULL_SCREEN_FOR_MIDROLL=c.PLATFORM_IS_IPAD&&4.2<=c.PLATFORM_IOS_VERSION;c.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO=c.PLATFORM_IS_IPHONE_IPOD&&
 10>c.PLATFORM_IOS_VERSION||c.PLATFORM_IS_WINDOWSPHONE||c.PLATFORM_IS_CHROMECAST;c.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED=3.1<=c.PLATFORM_ANDROID_VERSION||10<=c.PLATFORM_IOS_VERSION;c.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT=0<c.PLATFORM_ANDROID_VERSION&&3>=c.PLATFORM_ANDROID_VERSION;c.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE=9<=c.PLATFORM_IE_MOBILE_VERSION;c.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL=0<c.PLATFORM_IOS_VERSION&&4.2>c.PLATFORM_IOS_VERSION&&4<=c.PLATFORM_IOS_VERSION;c.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL=
 !1;c.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT=0===c.PLATFORM_IOS_VERSION||4<=c.PLATFORM_IOS_VERSION&&4.2>c.PLATFORM_IOS_VERSION;c.PLATFORM_NOT_SUPPORT_OVERLAY_CLICK_WHEN_CONTROLS_IS_TRUE=c.PLATFORM_IS_IPAD;c.PLATFORM_BLOCKS_AUTOPLAY=c.PLATFORM_IS_MOBILE||c.PLATFORM_IS_SAFARI||c.PLATFORM_IS_CHROME&&(0<c.PLATFORM_ANDROID_VERSION||64<=c.PLATFORM_BROWSER_VERSION);c.PLATFORM_NOT_SUPPORT_DASH=0<c.PLATFORM_IOS_VERSION;c.RENDERER_STATE_INIT=1;c.RENDERER_STATE_STARTING=2;c.RENDERER_STATE_STARTED=3;c.RENDERER_STATE_COMPLETING=
 4;c.RENDERER_STATE_COMPLETED=5;c.RENDERER_STATE_FAILED=6;c.TRANSLATOR_STATE_INIT=c.RENDERER_STATE_INIT;c.TRANSLATOR_STATE_STARTING=c.RENDERER_STATE_STARTING;c.TRANSLATOR_STATE_STARTED=c.RENDERER_STATE_STARTED;c.TRANSLATOR_STATE_COMPLETING=c.RENDERER_STATE_COMPLETING;c.TRANSLATOR_STATE_COMPLETED=c.RENDERER_STATE_COMPLETED;c.TRANSLATOR_STATE_FAILED=c.RENDERER_STATE_FAILED;c.EVENT_AD="adEvent";c.EVENT_AD_BUFFERING_START="adBufferingStart";c.EVENT_AD_BUFFERING_END="adBufferingEnd";c.EVENT_SLOT_IMPRESSION=
 "slotImpression";c.EVENT_SLOT_END="slotEnd";c.EVENT_AD_INITIATED="adInitiated";c.EVENT_AD_IMPRESSION="defaultImpression";c.EVENT_AD_IMPRESSION_END="adEnd";c.EVENT_AD_QUARTILE="quartile";c.EVENT_AD_FIRST_QUARTILE="firstQuartile";c.EVENT_AD_MIDPOINT="midPoint";c.EVENT_AD_THIRD_QUARTILE="thirdQuartile";c.EVENT_AD_SKIPPED="adSkipped";c.EVENT_AD_COMPLETE="complete";c.EVENT_AD_CLICK="defaultClick";c.EVENT_AD_MUTE="_mute";c.EVENT_AD_UNMUTE="_un-mute";c.EVENT_AD_COLLAPSE="_collapse";c.EVENT_AD_EXPAND="_expand";
 c.EVENT_AD_PAUSE="_pause";c.EVENT_AD_RESUME="_resume";c.EVENT_AD_REWIND="_rewind";c.EVENT_AD_ACCEPT_INVITATION="_accept-invitation";c.EVENT_AD_CLOSE="_close";c.EVENT_AD_MINIMIZE="_minimize";c.EVENT_ERROR="_e_unknown";c.EVENT_RESELLER_NO_AD="resellerNoAd";c.EVENT_AD_MEASUREMENT="concreteEvent";c.EVENT_EXTENSION_LOADED="extensionLoaded";c.EVENT_AD_VOLUME_CHANGE="adVolumeChange";c.EVENT_AD_AUTO_PLAY_BLOCKED="videoAutoPlayBlocked";c.INFO_KEY_CUSTOM_ID="customId";c.INFO_KEY_MODULE_TYPE="moduleType";c.MODULE_TYPE_EXTENSION=
 "extension";c.MODULE_TYPE_RENDERER="renderer";c.MODULE_TYPE_TRANSLATOR="translator";c.INFO_KEY_ERROR_CODE="errorCode";c.INFO_KEY_ERROR_INFO="errorInfo";c.INFO_KEY_ERROR_MODULE="errorModule";c.INFO_KEY_VAST_ERROR_CODE="vastErrorCode";c.ERROR_IO="_e_io";c.ERROR_TIMEOUT="_e_timeout";c.ERROR_NULL_ASSET="_e_null-asset";c.ERROR_ADINSTANCE_UNAVAILABLE="_e_adinst-unavail";c.ERROR_UNKNOWN="_e_unknown";c.ERROR_MISSING_PARAMETER="_e_missing-param";c.ERROR_NO_AD_AVAILABLE="_e_no-ad";c.ERROR_PARSE="_e_parse";
 c.ERROR_INVALID_VALUE="_e_invalid-value";c.ERROR_INVALID_SLOT="_e_invalid-slot";c.ERROR_NO_RENDERER="_e_no-renderer";c.ERROR_DEVICE_LIMIT="_e_device-limit";c.ERROR_3P_COMPONENT="_e_3p-comp";c.ERROR_UNSUPPORTED_3P_FEATURE="_e_unsupp-3p-feature";c.ERROR_SECURITY="_e_security";c.ERROR_UNMATCHED_SLOT_SIZE="_e_slot-size-unmatch";c.ERROR_DASHJS="_e_dashjs";c.INFO_KEY_URL="url";c.INFO_KEY_SHOW_BROWSER="showBrowser";c.INFO_KEY_CUSTOM_EVENT_NAME="customEventName";c.INFO_KEY_NEED_EMPTY_CT="needEmptyCT";c.INFO_KEY_CONCRETE_EVENT_ID=
 "concreteEventId";c.EVENT_TYPE_CLICK_TRACKING="CLICKTRACKING";c.EVENT_TYPE_IMPRESSION="IMPRESSION";c.EVENT_TYPE_CLICK="CLICK";c.EVENT_TYPE_STANDARD="STANDARD";c.EVENT_TYPE_GENERIC="GENERIC";c.EVENT_TYPE_ERROR="ERROR";c.EVENT_VIDEO_VIEW="videoView";c.SHORT_EVENT_TYPE_IMPRESSION="i";c.SHORT_EVENT_TYPE_CLICK="c";c.SHORT_EVENT_TYPE_STANDARD="s";c.SHORT_EVENT_TYPE_ERROR="e";c.INIT_VALUE_ZERO="0";c.INIT_VALUE_ONE="1";c.INIT_VALUE_TWO="2";c.INFO_KEY_PARAMETERS="parameters";c.URL_PARAMETER_KEY_ET="et";c.URL_PARAMETER_KEY_CN=
 "cn";c.URL_PARAMETER_KEY_INIT="init";c.URL_PARAMETER_KEY_CT="ct";c.URL_PARAMETER_KEY_METR="metr";c.URL_PARAMETER_KEY_CR="cr";c.URL_PARAMETER_KEY_KEY_VALUE="kv";c.URL_PARAMETER_KEY_ERROR_INFO="additional";c.URL_PARAMETER_KEY_ERROR_MODULE="renderer";c.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID="reid";c.URL_PARAMETER_KEY_CONCRETE_EVENT_ID="creid";c.CAPABILITY_SLOT_TEMPLATE="sltp";c.CAPABILITY_DISPLAY_REFRESH="rfnt";c.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS="emcr";c.CAPABILITY_RECORD_VIDEO_VIEW="exvt";c.CAPABILITY_CHECK_COMPANION=
 "cmpn";c.CAPABILITY_CHECK_TARGETING="targ";c.CAPABILITY_RESET_EXCLUSIVITY="rste";c.CAPABILITY_FALLBACK_UNKNOWN_ASSET="unka";c.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION="unks";c.CAPABILITY_FALLBACK_ADS="fbad";c.CAPABILITY_SLOT_CALLBACK="slcb";c.CAPABILITY_NULL_CREATIVE="nucr";c.CAPABILITY_AUTO_EVENT_TRACKING="aeti";c.CAPABILITY_RENDERER_MANIFEST="rema";c.CAPABILITY_REQUIRE_VIDEO_CALLBACK="vicb";c.CAPABILITY_SKIP_AD_SELECTION="skas";c.SLOT_TYPE_TEMPORAL="temporal";c.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL=
 "videoPlayerNonTemporal";c.SLOT_TYPE_SITESECTION_NONTEMPORAL="siteSectionNonTemporal";c.TIME_POSITION_CLASS_PREROLL="PREROLL";c.TIME_POSITION_CLASS_MIDROLL="MIDROLL";c.TIME_POSITION_CLASS_POSTROLL="POSTROLL";c.TIME_POSITION_CLASS_OVERLAY="OVERLAY";c.TIME_POSITION_CLASS_DISPLAY="DISPLAY";c.TIME_POSITION_CLASS_PAUSE_MIDROLL="PAUSE_MIDROLL";c.EVENT_REQUEST_INITIATED="onRequestInitiated";c.EVENT_REQUEST_COMPLETE="onRequestComplete";c.EVENT_SLOT_STARTED="onSlotStarted";c.EVENT_SLOT_ENDED="onSlotEnded";
 c.EVENT_CONTENT_VIDEO_PAUSED="contentVideoPaused";c.EVENT_CONTENT_VIDEO_RESUMED="contentVideoResumed";c.EVENT_CONTENT_VIDEO_PAUSE_REQUEST="contentVideoPauseRequest";c.EVENT_CONTENT_VIDEO_RESUME_REQUEST="contentVideoResumeRequest";c.CAPABILITY_STATUS_OFF=0;c.CAPABILITY_STATUS_ON=1;c.PARAMETER_LEVEL_PROFILE=0;c.PARAMETER_LEVEL_GLOBAL=1;c.PARAMETER_LEVEL_OVERRIDE=5;c.PARAMETER_ENABLE_FORM_TRANSPORT="sdk.enableFormTransport";c.PARAMETER_DESIRED_BITRATE="desiredBitrate";c.PARAMETER_VIDEO_POOL_SIZE="sdk.videoPoolSize";
 c.PARAMETER_PAGE_SLOT_CONTENT_TYPE="sdk.pageSlotContentType";c.PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT="PARAMETER_PLAY_MIDROLL_BY_CURRENT_VIDEO_ELEMENT";c.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT="extension.ad.control.clickElement";c.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED="extension.contentVideo.enabled";c.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME="extension.contentVideo.respondPauseResume";c.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK="extension.contentVideo.autoSeekBack";
 c.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE="extension.contentVideo.autoSourceRestore";c.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED="extension.videoState.enabled";c.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT="renderer.video.startDetectTimeout";c.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT="renderer.video.progressDetectTimeout";c.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY="renderer.video.android.delay";c.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE="renderer.video.displayControlsWhenPause";
 c.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION="renderer.video.clickDetection";c.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED="renderer.video.playAfterStalled";c.PARAMETER_EXTENSION_SURVEY_ENABLED="extension.survey.enabled";c.PARAMETER_AUTO_PAUSE_AD_ONVISIBILITYCHANGE="autoPauseAdOnVisibilityChange";c.PARAMETER_DISABLE_CORS_ENFORCEMENT="disableCORSEnforcement";c.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME="renderer.html.coadScriptName";c.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT="renderer.html.isBackgroundTransparent";
 c.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION="renderer.html.shouldEndAfterDuration";c.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT="renderer.html.adLoadTimeout";c.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE="renderer.html.placementType";c.PARAMETER_RENDERER_HTML_BOOTSTRAP="renderer.html.bootstrap";c.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR="renderer.html.primaryAnchor";c.PARAMETER_RENDERER_HTML_MARGIN_WIDTH="renderer.html.marginWidth";c.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT="renderer.html.marginHeight";
 c.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY="renderer.vpaid.creativeTimeoutDelay";c.PARAMETER_VAST_TIMEOUT_IN_MILLISECONDS="translator.vast.timeoutInMilliseconds";c.PARAMETER_VAST_MAX_WRAPPER_COUNT="translator.vast.maxWrapperCount";c.VAST_DEFAULT_MAX_WRAPPER_COUNT=5;c.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INLINE="inline";c.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL="interstitial";c.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL="app-interstitial";c.PARAMETER_CONSENT_RETRIEVAL_TIMEOUT="consent_retrieval_timeout";
 c.PARAMETER_USE_GDPR_TCFAPI="useGDPR_TCFAPI";c.PARAMETER_USE_CCPA_USPAPI="useCCPA_USPAPI";c.GDPR_TCFAPI_VERSION=2;c.ID_TYPE_FW=1;c.ID_TYPE_CUSTOM=2;c.ID_TYPE_GROUP=3;c.VIDEO_STATE_PLAYING=1;c.VIDEO_STATE_PAUSED=2;c.VIDEO_STATE_STOPPED=3;c.VIDEO_STATE_COMPLETED=4;c.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED=1;c.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED=2;c.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE=3;c.VIDEO_ASSET_AUTO_PLAY_TYPE_NON_AUTO_PLAY=3;c.VIDEO_ASSET_DURATION_TYPE_EXACT="exact";c.VIDEO_ASSET_DURATION_TYPE_VARIABLE=
 "variable";c.ADUNIT_PREROLL="preroll";c.ADUNIT_MIDROLL="midroll";c.ADUNIT_POSTROLL="postroll";c.ADUNIT_OVERLAY="overlay";c.ADUNIT_STREAM_PREROLL="stream_preroll";c.ADUNIT_STREAM_POSTROLL="stream_postroll";c.SLOT_LOCATION_PLAYER="player";c.SLOT_LOCATION_EXTERNAL="external";c.SLOT_OPTION_INITIAL_AD_STAND_ALONE=0;c.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL=1;c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY=2;c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE=3;c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE=
 4;c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE=5;c.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE=6;c.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL=7;c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL=8;c.REQUEST_MODE_ON_DEMAND="on-demand";c.REQUEST_MODE_LIVE="live";c.MINIMUM_VAST_VERSION_SUPPORTED=2;c.MAXIMUM_VAST_VERSION_SUPPORTED=4;c.ERROR_VAST_XML_PARSING="100";c.ERROR_VAST_SCHEMA_VALIDATION="101";c.ERROR_VAST_VERSION_NOT_SUPPORTED="102";c.ERROR_VAST_TRACKING_ERROR=
 "200";c.ERROR_VAST_LINEARITY_NOT_MATCH="201";c.ERROR_VAST_NO_AD="303";c.ERROR_VAST_WRAPPER_LIMIT_REACH="302";c.ERROR_VAST_URI_TIMEOUT="301";c.ERROR_VAST_GENERAL_LINEAR_ERROR="400";c.ERROR_VAST_NON_LINEAR_GENERAL_ERROR="500";c.ERROR_VAST_COMPANION_GENERAL_ERROR="600";c.ERROR_VAST_GENERAL_VPAID_ERROR="901";c.Util={canPlayVideoType:function(b){if(c.PLATFORM_IS_SAFARI&&("video/ogg"===b||"video/webm"===b))return!1;if(1<c.PLATFORM_ANDROID_VERSION&&"video/m4v"===b)return!0;"video/3gp"===b&&(b="video/3gpp");
 if(3<=c.PLATFORM_ANDROID_VERSION&&"video/3gpp"===b)return!0;var e=document.createElement("video");return e.canPlayType?!(!e.canPlayType(b)&&!e.canPlayType(b.replace("/","/x-"))):!1},str2bool:function(b){if(!b)return!1;b=c.Util.trim(b).toLowerCase();return"true"===b||"yes"===b||"on"===b||"1"===b},trim:function(b){return"string"!==typeof b?b.toString():b.replace(/^\s+|\s+$/g,"")},isBlank:function(b){return!b||""===c.Util.trim(b)},encodeToHex:function(b){for(var c="",d=0;d<b.length;d++){for(var f=b.charCodeAt(d).toString(16).toUpperCase();4>
 f.length;)f="0"+f;c+="\\u"+f.toUpperCase()}return c},forEachOnArray:function(b,c,d){var e;if(null==b)throw new TypeError(" array is null or not defined");b=Object(b);var g=b.length>>>0;if("[object Function]"!=={}.toString.call(c))throw new TypeError(c+" is not a function");d&&(e=d);for(d=0;d<g;){if(d in b){var k=b[d];c.call(e,k,d,b)}d++}},mixin:function(b,c){for(var d in c)"undefined"!==typeof c[d]&&(b[d]=c[d]);return b},copy:function(b){return c.Util.mixin({},b)},bind:function(b,c){var d=c,e=Array.prototype.slice.call(arguments);
 e.shift();d=e.shift();return function(){return d.apply(b,e.concat(Array.prototype.slice.call(arguments)))}},getObject:function(b,c,d){if(!b)return null;b=b.split(".");c=c||window;for(var e=0,g;c&&(g=b[e]);e++)c=g in c?c[g]:d?c[g]={}:void 0;return c},transformToProxy:function(b,e){if(null==b||null==e)return b;e=e.replace("$","$$");b=b.replace(/https?:\/\//,e);c.proxyAuthenticationParameter&&(b=c.Util.setParameterInURL(b,c.proxyAuthenticationParameter.key,c.proxyAuthenticationParameter.value));return b},
 transformUrlToProxy:function(b){return this.transformToProxy(b,c.proxyUrl)},transformCreativeUrlToProxy:function(b){return this.transformToProxy(b,c.creativesProxyUrl)},pingURLWithImage:function(b){(new Image(1,1)).src=c.Util.transformUrlToProxy(b)},pingURLWithForm:function(b,e,d){d=d?"_fw_request":"_fw_cb";null==e&&(e=Math.random());var f=document.createElement("iframe");f.name=d+"_iframe_"+e;f.id=d+"_iframe_"+e;f.style.position="absolute";f.style.left="-10000px";f.style.width="1px";f.style.visibility=
 "hidden";var g=document.createElement("form");g.action=c.Util.transformUrlToProxy(b);g.id=d+"_form_"+e;g.target=f.id;g.method="post";g.style.position="absolute";g.style.left="-10000px";g.style.width="1px";g.style.visibility="hidden";document.body&&(document.body.appendChild(f),document.body.appendChild(g),g.submit(),document.body.removeChild(g))},pingURLWithScript:function(b){var e=document.getElementsByTagName("head")[0],d=document.createElement("script");d.src=c.Util.transformUrlToProxy(b);d.onload=
 d.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||e.removeChild(d)};e.appendChild(d)},pingURL:function(b){c.debug("send callback: "+b);b&&(c.PLATFORM_SEND_REQUEST_BY_FORM?c.Util.pingURLWithForm(b,null,!1):c.Util.pingURLWithImage(b))},pingURLs:function(b){for(var e=0;e<b.length;e++)c.Util.pingURL(b[e])},setParameterInURL:function(b,c,d){if(!b||!c||null==d)return null;var e=!1;b=b.split("?");d=encodeURIComponent(d);if(b[1]){var g=b[1].split("&");
 for(var k=0;k<g.length;++k){var h=g[k].split("=");if(h[0]===c){g[k]=h[0]+"="+d;e=!0;break}}h=g.join("&");e||(h=c+"="+d+"&"+h)}else h=c+"="+d;return h=b[0]+"?"+h},getParameterInURL:function(b,e){if(!b||!e)return null;b=b.split("?");if(b[1]){b=b[1].split("&");for(var d=0;d<b.length;++d){var f=b[d].split("=");if(f[0]===e&&!c.Util.isBlank(f[1]))return decodeURIComponent(f[1])}}return null},isParameterInURL:function(b,c){if(!b||!c)return!1;b=b.split("?");if(b[1]){b=b[1].split("&");for(var d=0;d<b.length;++d)if(b[d].split("=")[0]===
 c)return!0}return!1},flashVersion:function(){var b="0,0,0,0";if(null!=navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])try{var e=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),d=e[2].split("."),f=d[0],g=d[1],k=e[3];""===k&&(k=e[4]);"d"===k[0]?k=k.substring(1):"r"===k[0]&&(k=k.substring(1),0<k.indexOf("d")&&(k=k.substring(0,k.indexOf("d"))));b=f+","+g+","+
 k+",0"}catch(p){c.warn("Flash detection failed on navigator method")}}else try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");var l=h.GetVariable("$version").split(" ")[1].split(",");3===l.length?b=l.join(",")+",0":4===l.length&&(b=l.join(","))}catch(p){c.warn("Flash detection failed on ActiveX method")}return b},xmlToJson:function(b){var e={};if(!b)return null;if(1===b.nodeType){if(0<b.attributes.length){e["@attributes"]={};for(var d=0;d<b.attributes.length;d++){var f=b.attributes.item(d);
 e["@attributes"][f.nodeName]=f.nodeValue}}}else 3===b.nodeType?e=b.nodeValue:4===b.nodeType&&(e=b.nodeValue);if(b.hasChildNodes()){for(d=0;d<b.childNodes.length;d++){f=b.childNodes.item(d);var g=f.nodeName;if("undefined"===typeof e[g])e[g]=c.Util.xmlToJson(f);else{if("undefined"===typeof e[g].length||"string"===typeof e[g]){var k=e[g];e[g]=[];e[g].push(k)}e[g].push(c.Util.xmlToJson(f))}}"undefined"!==typeof e["#cdata-section"]?(e.value=e["#cdata-section"],e.value.constructor===Array&&(e.value=e.value.join(""))):
 e["#text"]&&(e.value=e["#text"])}return e},lazyJavaScriptLoad:function(b,c){var d=document.getElementsByTagName("head")[0]||document.documentElement,e=document.createElement("script");e.type="text/javascript";e.src=b;c&&(e.attachEvent&&!window.opera?e.onreadystatechange=function(){if("loaded"===e.readyState||"complete"===e.readyState)d.removeChild(e),e.onreadystatechange=null,c()}:e.addEventListener("load",function(){d.removeChild(e);c()},!1));d.insertBefore(e,d.firstChild)},getViewport:function(){var b=
 0,c=0;"undefined"!==typeof window.innerWidth?(b=window.innerWidth,c=window.innerHeight):"undefined"!==typeof document.documentElement&&"undefined"!==typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(b=document.documentElement.clientWidth,c=document.documentElement.clientHeight):document.getElementsByTagName("body")&&document.getElementsByTagName("body")[0]&&(b=document.getElementsByTagName("body")[0].clientWidth,c=document.getElementsByTagName("body")[0].clientHeight);
 return{width:b,height:c,offsetX:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,offsetY:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},getAbsoluteUrl:function(b,e){b=c.Util.trim(b);e=c.Util.trim(e);if(-1!==e.indexOf("://"))return e;var d=b.substring(0,b.indexOf("://"));if(0===e.indexOf("//"))return d+":"+e;d=b.indexOf("/",b.indexOf("://")+5);var f=b;-1!==d&&(f=b.substring(0,d));if(0===e.indexOf("/"))return f+e;d=b.lastIndexOf("#");
 f=b;-1!==d&&(f=b.substring(0,d));if(0===e.indexOf("#"))return f+e;f=b.indexOf("?");d=b;-1!==f&&(d=b.substring(0,f));if(0===e.indexOf("?"))return d+e;f=-1===f?b.lastIndexOf("/"):d.lastIndexOf("/");d=-1!==f?b.substring(0,f+1):d+"/";return d+e},secondsToHms:function(b){b=isNaN(Number(b))?0:Number(b);var c=Math.floor(b%3600/60),d=Math.round(b%3600%60);return("0"+Math.floor(b/3600)).slice(-2)+":"+("0"+c).slice(-2)+":"+("0"+d).slice(-2)},getFixedDigitRandomNumber:function(b){b=isNaN(Number(b))?0:Number(b);
 return Math.floor(9*Math.random()*Math.pow(10,b-1)+Math.pow(10,b-1))},getDateStringInISOFormat:function(b){return b instanceof Date&&!isNaN(b.valueOf())?b.toISOString():null},getTopMostWindow:function(){var b=window;try{for(;b!=top;)b.parent.location.href.length&&(b=b.parent)}catch(e){c.warn("Cannot get top most window: "+e.description)}return b},getFrameAncestor:function(b){for(var e=window,d;!d;){try{e.frames[b]&&(d=e)}catch(f){c.warn("Error while trying to access window with "+b)}if(e===window.top)break;
 e=e.parent}return d},isValidProxyUrl:function(b){return b&&"string"===typeof b}};c.MediaState=function(){};c.MediaState.prototype={};c.MediaState.prototype.constructor=c.MediaState;c.Util.mixin(c.MediaState.prototype,{play:function(b){c.debug(this._name+" play("+b+")")},pause:function(b){c.debug(this._name+" pause("+b+")")},complete:function(b){c.debug(this._name+" complete("+b+")")}});c.MediaInitState=function(){this._name="MediaInitState"};c.MediaInitState.prototype=new c.MediaState;c.MediaInitState.prototype.constructor=
 c.MediaInitState;c.Util.mixin(c.MediaInitState.prototype,{play:function(b){c.debug(this._name+" play("+b+")");b.setMediaState(c.MediaPlayingState.instance);if("function"===typeof b.onStartPlaying)b.onStartPlaying()}});c.MediaInitState.instance=new c.MediaInitState;c.MediaPlayingState=function(){this._name="MediaPlayingState"};c.MediaPlayingState.prototype=new c.MediaState;c.MediaPlayingState.prototype.constructor=c.MediaPlayingState;c.Util.mixin(c.MediaPlayingState.prototype,{pause:function(b){c.debug(this._name+
 " pause("+b+")");b.setMediaState(c.MediaPausedState.instance);if("function"===typeof b.onPausePlaying)b.onPausePlaying()},complete:function(b){c.debug(this._name+" complete("+b+")");b.setMediaState(c.MediaEndState.instance);if("function"===typeof b.onCompletePlaying)b.onCompletePlaying()}});c.MediaPlayingState.instance=new c.MediaPlayingState;c.MediaPausedState=function(){this._name="MediaPausedState"};c.MediaPausedState.prototype=new c.MediaState;c.MediaPausedState.prototype.constructor=c.MediaPausedState;
 c.Util.mixin(c.MediaPausedState.prototype,{play:function(b){c.debug(this._name+" play("+b+")");b.setMediaState(c.MediaPlayingState.instance);if("function"===typeof b.onResumePlaying)b.onResumePlaying()},complete:function(b){c.debug(this._name+" complete("+b+")");b.setMediaState(c.MediaEndState.instance);if("function"===typeof b.onCompletePlaying)b.onCompletePlaying()}});c.MediaPausedState.instance=new c.MediaPausedState;c.MediaReplayingState=function(){this._name="MediaReplayingState"};c.MediaReplayingState.prototype=
 new c.MediaState;c.MediaReplayingState.prototype.constructor=c.MediaReplayingState;c.Util.mixin(c.MediaReplayingState.prototype,{pause:function(b){c.debug(this._name+" pause("+b+")");b.setMediaState(c.MediaReplayPausedState.instance);if("function"===typeof b.onPausePlaying)b.onPausePlaying()},complete:function(b){c.debug(this._name+" complete("+b+")");b.setMediaState(c.MediaEndState.instance);if("function"===typeof b.onCompleteReplaying)b.onCompleteReplaying()}});c.MediaReplayingState.instance=new c.MediaReplayingState;
 c.MediaReplayPausedState=function(){this._name="MediaReplayPausedState"};c.MediaReplayPausedState.prototype=new c.MediaState;c.MediaReplayPausedState.prototype.constructor=c.MediaReplayPausedState;c.Util.mixin(c.MediaReplayPausedState.prototype,{play:function(b){c.debug(this._name+" play("+b+")");b.setMediaState(c.MediaReplayingState.instance);if("function"===typeof b.onResumePlaying)b.onResumePlaying()},complete:function(b){c.debug(this._name+" complete("+b+")");b.setMediaState(c.MediaEndState.instance);
 if("function"===typeof b.onCompleteReplaying)b.onCompleteReplaying()}});c.MediaReplayPausedState.instance=new c.MediaReplayPausedState;c.MediaEndState=function(){this._name="MediaEndState"};c.MediaEndState.prototype=new c.MediaState;c.MediaEndState.prototype.constructor=c.MediaEndState;c.Util.mixin(c.MediaEndState.prototype,{play:function(b){c.debug(this._name+" play("+b+")");b.setMediaState(c.MediaReplayingState.instance);if("function"===typeof b.onStartReplaying)b.onStartReplaying()}});c.MediaEndState.instance=
 new c.MediaEndState;c.RendererState=function(){};c.RendererState.prototype={};c.RendererState.prototype.constructor=c.RendererState;c.Util.mixin(c.RendererState.prototype,{start:function(b){c.debug(this._name+" start() rendererController = "+b)},notifyStarted:function(b){c.debug(this._name+" notifyStarted() rendererController = "+b)},stop:function(b){c.debug(this._name+" stop() rendererController = "+b)},complete:function(b){c.debug(this._name+" complete() rendererController = "+b)},notifyCompleted:function(b){c.debug(this._name+
 " notifyCompleted() rendererController = "+b)},fail:function(b){c.debug(this._name+" fail() rendererController = "+b);b.setRendererState(c.RendererFailedState.instance);b.getAdInstance().complete()}});c.RendererInitState=function(){this._name="RendererInitState"};c.RendererInitState.prototype=new c.RendererState;c.RendererInitState.prototype.constructor=c.RendererInitState;c.RendererInitState.instance=new c.RendererInitState;c.Util.mixin(c.RendererInitState.prototype,{start:function(b){c.debug(this._name+
 " start()");b.setRendererState(c.RendererStartingState.instance);b.getRenderer().start(b)},stop:function(b){c.debug(this._name+" stop()");b.setRendererState(c.RendererCompletingState.instance);b.getRendererState().notifyCompleted(b)}});c.RendererStartingState=function(){this._name="RendererStartingState"};c.RendererStartingState.prototype=new c.RendererState;c.RendererStartingState.prototype.constructor=c.RendererStartingState;c.RendererStartingState.instance=new c.RendererStartingState;c.Util.mixin(c.RendererStartingState.prototype,
 {notifyStarted:function(b){c.debug(this._name+" notifyStarted()");b.setRendererState(c.RendererStartedState.instance);b.getAdInstance().play()},stop:function(b){c.debug(this._name+" stop()");"function"===typeof b.getRenderer().stop&&(b.setRendererState(c.RendererCompletingState.instance),b.getRenderer().stop())}});c.RendererStartedState=function(){this._name="RendererStartedState"};c.RendererStartedState.prototype=new c.RendererState;c.RendererStartedState.prototype.constructor=c.RendererStartedState;
 c.RendererStartedState.instance=new c.RendererStartedState;c.Util.mixin(c.RendererStartedState.prototype,{complete:function(b){c.debug(this._name+" complete()");b.setRendererState(c.RendererCompletingState.instance)},stop:function(b){c.debug(this._name+" stop()");"function"===typeof b.getRenderer().stop&&(b.setRendererState(c.RendererCompletingState.instance),!1===b.getRenderer().stop()&&b.getAdInstance().fakeComplete())}});c.RendererCompletingState=function(){this._name="RendererCompletingState"};
 c.RendererCompletingState.prototype=new c.RendererState;c.RendererCompletingState.prototype.constructor=c.RendererCompletingState;c.RendererCompletingState.instance=new c.RendererCompletingState;c.Util.mixin(c.RendererCompletingState.prototype,{notifyCompleted:function(b){c.debug(this._name+" notifyCompleted()");b.setRendererState(c.RendererCompletedState.instance);b.getAdInstance().complete()}});c.RendererCompletedState=function(){this._name="RendererCompletedState"};c.RendererCompletedState.prototype=
 new c.RendererState;c.RendererCompletedState.prototype.constructor=c.RendererCompletedState;c.RendererCompletedState.instance=new c.RendererCompletedState;c.RendererFailedState=function(){this._name="RendererFailedState"};c.RendererFailedState.prototype=new c.RendererState;c.RendererFailedState.prototype.constructor=c.RendererFailedState;c.RendererFailedState.instance=new c.RendererFailedState;c.HTMLRenderer=function(){this._rendererController=null};c.HTMLRenderer.prototype={start:function(b){this._rendererController=
 b;this._rendererController.getAdInstance().getSlot().getBase()?this._setupParameters()&&(this._render(),this._rendererController.handleStateTransition(c.RENDERER_STATE_STARTED)):this._onRendererFailed(c.ERROR_INVALID_SLOT,"slot base is empty")},pause:function(){this.log("pause");this.shouldEndAfterDuration&&this.timer&&this.timer.pause()},resume:function(){this.log("resume");this.shouldEndAfterDuration&&this.timer&&this.timer.start()},stop:function(){this.log("stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+
 this._tpc+" interstitial:"+this.shouldKeepInterstitial);return this._stop()},_stop:function(){this.log("_stop isMRAIDAd:"+this.isMRAIDAd+" tpc:"+this._tpc+" interstitial:"+this.shouldKeepInterstitial);if(this.isMRAIDAd||this._tpc!==c.TIME_POSITION_CLASS_DISPLAY||this.shouldKeepInterstitial)this._cleanup(),this._rendererController.handleStateTransition(c.RENDERER_STATE_COMPLETED);else return!1},resize:function(){var b=this._rendererController.getAdInstance(),e=b.getSlot().getBase();b.getSlot().getTimePositionClass()===
 c.TIME_POSITION_CLASS_OVERLAY?!this.isMRAIDAd||this.isMRAIDAd&&this.mraid.state===this.mraid.STATEDEFAULT?(b="_fw_ad_container_html_"+b.getSlot().getCustomId()+"_",b=document.getElementById(b),b.style.width=e.style.width||"100%",b.style.height=e.style.height||"100%",this._layoutOverlayAd(this.defaultAdElement)):this.log("Cannot resize an MRAID ad that is not in the default state"):this.log("Cannot resize a non-overlay ad")},_cleanup:function(){this.log("_cleanup");this.timer&&(this.timer.stop(),this.timer=
 null);this.adLoadTimeoutTimer&&(this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null);window.removeEventListener?(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),window.removeEventListener("message",this.messageHandlerFunc,!1),window.removeEventListener("resize",this.viewportChangeFunc,!1),window.removeEventListener("scroll",this.viewportChangeFunc,!1)):window.detachEvent&&(window.detachEvent("onmessage",this.messageHandlerFunc),window.detachEvent("onresize",this.viewportChangeFunc),
 window.detachEvent("onscroll",this.viewportChangeFunc));if(this.isMRAIDAd&&(this.mraid.inExpandedState()&&(this.log("stopping with expanded state, invoke close()"),this._mraidClose()),this.mraid.inDefaultState())){this.log("stopping with default state, invoke close()");this._mraidClose();return}if(this.expandedAdElement){var b=this.expandedAdElement.parentNode;this.expandedAdElement._fw_closeButton&&b.removeChild(this.expandedAdElement._fw_closeButton);b.removeChild(this.expandedAdElement);this.expandedAdElement===
 this.defaultAdElement&&(this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null),this.defaultAdElement=null);this.expandedAdElement=null}this.expandedLightbox&&(b=this.expandedLightbox.parentNode,b.removeChild(this.expandedLightbox),this.expandedLightbox=null);if(this.defaultAdElement){b=this.defaultAdElement.parentNode;var c=this.defaultAdElement;c.style.display="none";b!==this._rendererController.getAdInstance().getSlot().getBase()&&window.setTimeout(function(){for(var d=
 b&&b.childNodes||[],e=0;e<d.length;e++){var g=d[e];g===c&&b.removeChild(g)}},200);this.defaultAdElementContainer===this.defaultAdElement&&(this.defaultAdElementContainer=null);this.defaultAdElement=null}this.defaultAdElementContainer&&(b=this.defaultAdElementContainer.parentNode,b.removeChild(this.defaultAdElementContainer),this.defaultAdElementContainer=null);(this.shouldPauseContentWhenStart||this.isInterstitialNow&&!this.isMRAIDAd)&&this._rendererController.requestContentStateChange(!1)},_setupParameters:function(){var b=
 this._rendererController.getAdInstance(),e=b.getSlot().getTimePositionClass();this._tpc=e;var d=b.getActiveCreativeRendition();b=d.getBaseUnit();d=d.getCreativeApi();var f;if(c.PLATFORM_NOT_SUPPORT_OVERLAY_AD&&e===c.TIME_POSITION_CLASS_OVERLAY)return this._onRendererFailed(c.ERROR_DEVICE_LIMIT,"Overlay not supported on this device."),!1;if(c.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&(e===c.TIME_POSITION_CLASS_MIDROLL||e===c.TIME_POSITION_CLASS_PAUSE_MIDROLL))return this._onRendererFailed(c.ERROR_DEVICE_LIMIT,
 "Midroll, pause_midroll not supported on this device."),!1;if(c.PLATFORM_IS_IPHONE_IPOD)switch(e){case c.TIME_POSITION_CLASS_MIDROLL:case c.TIME_POSITION_CLASS_PAUSE_MIDROLL:case c.TIME_POSITION_CLASS_OVERLAY:return this._onRendererFailed(c.ERROR_DEVICE_LIMIT,"Midroll, pause_midroll and overlay ads are not supported on iPod, iPhone."),!1;case c.TIME_POSITION_CLASS_PREROLL:case c.TIME_POSITION_CLASS_POSTROLL:this._rendererController.setCapability(c.EVENT_AD_CLICK,c.CAPABILITY_STATUS_OFF)}this.adLoadTimeout=
 5;if(f=this._rendererController.getParameter(c.PARAMETER_RENDERER_HTML_AD_LOAD_TIMEOUT))this.adLoadTimeout=0<Number(f)?Number(f):this.adLoadTimeout;this.shouldKeepInterstitial=!1;(f=this._rendererController.getParameter(c.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE))?this.shouldKeepInterstitial=f===c.PARAMETER_RENDERER_HTML_PLACEMENT_TYPE_INTERSTITIAL:"string"===typeof b&&(this.shouldKeepInterstitial=b.toLowerCase()===c.PARAMETER_RENDERER_HTML_BASEUNIT_INTERSTITIAL);this.isInterstitialNow=this.shouldKeepInterstitial;
 this.shouldPauseContentWhenStart=!1;this.shouldPauseContentWhenExpandOrClick=!this.shouldKeepInterstitial&&(e===c.TIME_POSITION_CLASS_DISPLAY||e===c.TIME_POSITION_CLASS_OVERLAY);this.shouldBackgroundTransparent=!1;f=this._rendererController.getParameter(c.PARAMETER_RENDERER_HTML_SHOULD_BACKGROUND_TRANSPARENT);"undefined"!==typeof f&&null!=f&&(this.shouldBackgroundTransparent=c.Util.str2bool(f));this.shouldEndAfterDuration=e!==c.TIME_POSITION_CLASS_DISPLAY||this.shouldKeepInterstitial;f=this._rendererController.getParameter(c.PARAMETER_RENDERER_HTML_SHOULD_END_AFTER_DURATION);
 "undefined"!==typeof f&&null!=f&&(this.shouldEndAfterDuration=c.Util.str2bool(f));this.coadScriptName=this._rendererController.getParameter(c.PARAMETER_RENDERER_DISPLAY_COAD_SCRIPT_NAME);this.coadScriptName||(this.coadScriptName=this._rendererController.getParameter("coad_script_name"));this.primaryAnchor=this._rendererController.getParameter(c.PARAMETER_RENDERER_HTML_PRIMARY_ANCHOR)||"bc";this.marginWidth=this._rendererController.getParameter(c.PARAMETER_RENDERER_HTML_MARGIN_WIDTH)||0;this.marginHeight=
 this._rendererController.getParameter(c.PARAMETER_RENDERER_HTML_MARGIN_HEIGHT)||0;this.bootstrap=this._rendererController.getParameter(c.PARAMETER_RENDERER_HTML_BOOTSTRAP);b=c.Util.getViewport();this.defaultExpandWidth=b.width;this.defaultExpandHeight=b.height;this.isMRAIDAd="MRAID-1.0"===d;this.mraid=new function(b){this.STATELOADING="loading";this.STATEDEFAULT="default";this.STATEEXPANDED="expanded";this.STATEHIDDEN="hidden";this._renderer=b;this._state=this.STATELOADING;this._useCustomClose=!1;
 this.viewable=this.expandIsModal=!0;this._baseUrlExpanded=this._baseUrlDefault="";b=Object.defineProperty||function(b,c,d){d.get&&b.__defineGetter__(c,d.get);d.set&&b.__defineSetter__(c,d.set)};b(this,"baseUrl",{get:function(){return this.inExpandedState()?this._baseUrlExpanded||this._baseUrlDefault:this._baseUrlDefault},set:function(b){this.inExpandedState()?this._baseUrlExpanded=b:(this._baseUrlDefault=b,this._baseUrlExpanded="")}});b(this,"useCustomClose",{get:function(){return this._useCustomClose},
 set:function(b){this._useCustomClose===!b&&(this._useCustomClose=!!b,this.pushData())}});b(this,"placementType",{get:function(){return this._renderer.shouldKeepInterstitial?"interstitial":"inline"}});b(this,"expandWidth",{get:function(){return this._renderer.requestedExpandWidth&&this._renderer.requestedExpandWidth<this._renderer.defaultExpandWidth?this._renderer.requestedExpandWidth:this._renderer.defaultExpandWidth}});b(this,"expandHeight",{get:function(){return this._renderer.requestedExpandHeight&&
 this._renderer.requestedExpandHeight<this._renderer.defaultExpandHeight?this._renderer.requestedExpandHeight:this._renderer.defaultExpandHeight}});b(this,"state",{get:function(){return this._state},set:function(b){this.log("mraid.state change "+this.state+" => "+b);this.state!==b&&(this._renderer.shouldPauseContentWhenExpandOrClick&&(b===this.STATEEXPANDED?this._renderer._rendererController.requestContentStateChange(!0):this.inExpandedState()&&this._renderer._rendererController.requestContentStateChange(!1)),
 b===this.STATEEXPANDED?(this._renderer.expandedAdElement?this._renderer._rendererController.processEvent({name:c.EVENT_AD_ACCEPT_INVITATION}):(this._renderer.expandedAdElement=this._renderer.defaultAdElement,this._renderer._rendererController.processEvent({name:c.EVENT_AD_EXPAND})),this._renderer.presentInterstitial(),this._renderer.shouldEndAfterDuration&&this._renderer.timer.pause()):b===this.STATEDEFAULT&&(this._renderer.shouldKeepInterstitial?(this._renderer.expandedAdElement=this._renderer.defaultAdElement,
 this._renderer.presentInterstitial()):(this.inExpandedState()&&(this._renderer.expandedAdElement!==this._renderer.defaultAdElement?this._renderer._rendererController.processEvent({name:c.EVENT_AD_CLOSE}):this._renderer._rendererController.processEvent({name:c.EVENT_AD_COLLAPSE})),this._renderer.expandedAdElement=null,this._renderer.presentInline()),this._renderer.shouldEndAfterDuration&&this._renderer.timer&&this._renderer.timer.start()),this._state=b,this.pushData(),b===this.STATEHIDDEN&&this._renderer.stop())}});
 this.inLoadingState=function(){return this.state===this.STATELOADING};this.inDefaultState=function(){return this.state===this.STATEDEFAULT};this.inExpandedState=function(){return this.state===this.STATEEXPANDED};this.inHiddenState=function(){return this.state===this.STATEHIDDEN};this.pushData=function(){var b='mraid._Update("'+this.state+'", '+this.viewable+', "'+this.placementType+'", '+this.expandWidth+", "+this.expandHeight+", "+this.useCustomClose+", "+this.expandIsModal+")";this.log("mraid.pushData: going to invoke on iframe with "+
 b);this._renderer.defaultAdElement?(this._renderer.defaultAdElement.contentWindow.postMessage("fwsdk-bounce:"+b,"*"),this._renderer.expandedAdElement&&this._renderer.expandedAdElement!==this._renderer.defaultAdElement&&this._renderer.expandedAdElement.contentWindow.postMessage("fwsdk-bounce:"+b,"*")):this.warn("_mraidPushData: no iframe suitable to send "+b)};this.log=function(b){this._renderer.log(b)};this.warn=function(b){this._renderer.warn(b)}}(this);this.onLoadFunc=c.Util.bind(this,function(){this.adLoadTimeoutTimer&&
 (this.adLoadTimeoutTimer.stop(),this.adLoadTimeoutTimer=null);this.timer&&this.shouldEndAfterDuration&&this.timer.start()});this.touchMoveDisabler=function(b){b.preventDefault()};this.log("setting parameters, adLoadTimeout: "+this.adLoadTimeout+", isMRAIDAd: "+this.isMRAIDAd+", shouldKeepInterstitial: "+this.shouldKeepInterstitial+", shouldEndAfterDuration: "+this.shouldEndAfterDuration+", shouldPauseContentWhenStart: "+this.shouldPauseContentWhenStart+", shouldPauseContentWhenExpandOrClick: "+this.shouldPauseContentWhenExpandOrClick+
 ", shouldBackgroundTransparent: "+this.shouldBackgroundTransparent+", defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", coadScriptName: "+this.coadScriptName+", primaryAnchor: "+this.primaryAnchor+", marginWidth: "+this.marginWidth+", marginHeight: "+this.marginHeight+", bootstrap: "+this.bootstrap);if(!this.shouldKeepInterstitial)!this.isMRAIDAd||c.PLATFORM_IS_IPHONE_IPOD&&e!==c.TIME_POSITION_CLASS_DISPLAY||(this._rendererController.setCapability(c.EVENT_AD_ACCEPT_INVITATION,
 c.CAPABILITY_STATUS_ON),this._rendererController.setCapability(c.EVENT_AD_CLOSE,c.CAPABILITY_STATUS_ON),this._rendererController.setCapability(c.EVENT_AD_COLLAPSE,c.CAPABILITY_STATUS_ON),this._rendererController.setCapability(c.EVENT_AD_EXPAND,c.CAPABILITY_STATUS_ON));else if(e===c.TIME_POSITION_CLASS_OVERLAY)return this._onRendererFailed(c.ERROR_INVALID_SLOT,"Interstitial ad is not supported in overlay slot."),!1;return!0},_render:function(){this.log("_render");var b=this._rendererController.getAdInstance(),
 e=b.getSlot(),d=e.getTimePositionClass(),f=e.getBase(),g=b.getActiveCreativeRendition(),k=g.getDuration(),h=g.getPrimaryCreativeRenditionAsset();b=h.getProxiedUrl();var l=h.getContent();d===c.TIME_POSITION_CLASS_DISPLAY&&(f.innerHTML="");this.timer=new c.Timer(k,c.Util.bind(this,this._stop));if(this.coadScriptName&&"function"===typeof window[this.coadScriptName])this.defaultAdElement=window[this.coadScriptName](l,b,g.getHeight(),g.getWidth(),h.getMimeType(),e.getCustomId()),this.timer&&this.shouldEndAfterDuration&&
 this.timer.start();else if(k=document.createElement("span"),k.id="_fw_ad_container_html_"+e.getCustomId()+"_",k.style.position="relative"===f.style.position?"absolute":"relative",k.style.display="inline-block",k.style.margin="0px",k.style.padding="0px",k.style.width=f.style.width||"100%",k.style.height=f.style.height||"100%",k.style.top=k.style.left="0px",f.appendChild(k),this.defaultAdElementContainer=k,b||l){if("text/html_lit_nowrapper"===g.getContentType()||"text/html_lit_js_wc_nw"===g.getContentType()){if(this.isMRAIDAd||
 this.isInterstitialNow){this._onRendererFailed(c.ERROR_INVALID_VALUE,"");this._stop();return}if(!l){this._onRendererFailed(c.ERROR_NULL_ASSET,"Empty content");this._stop();return}this.defaultAdElement=k;this.defaultAdElement.innerHTML=l;e=this.defaultAdElement.getElementsByTagName("script");var p=document.getElementsByTagName("head")[0];for(f=0;f<e.length;++f)if(e[f].src){var n=document.createElement("script");n.src=e[f].src;e[f].charset&&(n.charset=e[f].charset);e[f].innerHTML&&(n.innerHTML=e[f].innerHTML);
 n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||p.removeChild(n)};p.appendChild(n)}else n=e[f].innerHTML,eval(n);this.presentInline();this.onLoadFunc();return}g=document.createElement("iframe");g.id="_fw_ad_container_iframe_"+e.getCustomId()+"_"+Math.random();g.attachEvent?g.attachEvent("onload",this.onLoadFunc):g.onload=this.onLoadFunc;this.defaultAdElement=g;this.defaultAdElementContainer.appendChild(g);this._fillAdNode(g,b,l);
 this.isMRAIDAd&&(this.adLoadTimeoutTimer=new c.Timer(this.adLoadTimeout,c.Util.bind(this,function(){this._onRendererFailed(c.ERROR_TIMEOUT,"Loading MRAID Ad timed out");d!==c.TIME_POSITION_CLASS_DISPLAY?this.isMRAIDAd&&!this.mraid.inLoadingState()?this._mraidClose():this._stop():this._stop()})),this.adLoadTimeoutTimer.start())}else{this._onRendererFailed(c.ERROR_NULL_ASSET,"Empty URL and empty content");this._stop();return}this.defaultAdElement||(e=f.getElementsByTagName("iframe"))&&0<e.length&&(this.defaultAdElement=
 e[e.length-1]);this.defaultAdElement?(this.defaultAdElement.frameBorder="0",this.shouldBackgroundTransparent&&(this.defaultAdElement.allowTransparency="true",this.defaultAdElement.style["background-color"]="rgba(255,255,255,0)"),this.isInterstitialNow?(this.expandedAdElement=this.defaultAdElement,this.presentInterstitial()):this.presentInline(),this.messageHandlerFunc=c.Util.bind(this,this._onWindowMessageReceived),this.viewportChangeFunc=c.Util.bind(this,function(){this.viewportChangeFuncTimer&&
 window.clearTimeout(this.viewportChangeFuncTimer);this.viewportChangeFuncTimer=window.setTimeout(c.Util.bind(this,this._onViewportResizeScroll),200)}),window.addEventListener?(window.addEventListener("message",this.messageHandlerFunc,!1),window.addEventListener("resize",this.viewportChangeFunc,!1),window.addEventListener("scroll",this.viewportChangeFunc,!1)):window.attachEvent&&(window.attachEvent("onmessage",this.messageHandlerFunc),window.attachEvent("onresize",this.viewportChangeFunc),window.attachEvent("onscroll",
 this.viewportChangeFunc))):this.isMRAIDAd&&(this._onRendererFailed(c.ERROR_UNKNOWN,"Failed to find iframe in slotBase for MRAID ad"),this._stop())},_layoutOverlayAd:function(b){this.log("_layoutOverlayAd");var c=this._rendererController.getAdInstance(),d=c.getSlot(),f=d.getVideoDisplaySize().width;d=d.getVideoDisplaySize().height;var g=c.getActiveCreativeRendition();c=g.getWidth()||240;g=g.getHeight()||50;b.style.width=Math.min(c,f)+"px";b.style.height=Math.min(g,d)+"px";b.style.left=b.style.top=
 b.style.right=b.style.bottom="";switch(this.primaryAnchor){case "tl":case "lt":b.style.top=this.marginHeight+"px";b.style.left=this.marginWidth+"px";break;case "tr":case "rt":b.style.top=this.marginHeight+"px";b.style.right=this.marginWidth+"px";break;case "bl":case "lb":b.style.bottom=this.marginHeight+"px";b.style.left=this.marginWidth+"px";break;case "br":case "rb":b.style.bottom=this.marginHeight+"px";b.style.right=this.marginWidth+"px";break;case "tc":case "ct":b.style.top=this.marginHeight+
 "px";b.style.left=.5*Math.max(0,f-c)+"px";break;case "lm":case "ml":b.style.left=this.marginWidth+"px";b.style.top=.5*Math.max(0,d-g)+"px";break;case "rm":case "mr":b.style.right=this.marginWidth+"px";b.style.top=.5*Math.max(0,d-g)+"px";break;case "mc":case "cm":case "c":case "m":b.style.left=.5*Math.max(0,f-c)+"px";b.style.top=.5*Math.max(0,d-g)+"px";break;default:case "bc":case "cb":b.style.bottom=this.marginHeight+"px",b.style.left=.5*Math.max(0,f-c)+"px"}},_fillAdNode:function(b,e,d){this.log("_fillAdNode, url:"+
 e+", content:"+(d?"<omited>":"<empty>"));if(e)b.src=e;else if(d)b=b.contentWindow?b.contentWindow.document:b.contentDocument.document?b.contentDocument.document:b.contentDocument,b.open(),b.write(d),b.close();else return this._onRendererFailed(c.ERROR_NULL_ASSET,"Empty URL and content"),!1;return!0},presentInline:function(){this.log("presentInline");this.isInterstitialNow=!1;var b=this.defaultAdElement;if(b){var e=this._rendererController.getAdInstance(),d=e.getSlot(),f=d.getTimePositionClass(),g=
 d.getWidth(),k=d.getHeight(),h=d.getVideoDisplaySize().width;d=d.getVideoDisplaySize().height;var l=e.getActiveCreativeRendition();e=l.getWidth();l=l.getHeight();b.scrolling="no";b.style.overflow="hidden";switch(f){case c.TIME_POSITION_CLASS_DISPLAY:b.style.position="";b.style.background=this.shouldBackgroundTransparent?"transparent":"";b.style.left="0px";b.style.top="0px";b.style.width=(e?e:g)+"px";b.style.height=(l?l:k)+"px";break;case c.TIME_POSITION_CLASS_OVERLAY:b.style.position="absolute";b.style.background=
 this.shouldBackgroundTransparent?"transparent":"white";this._layoutOverlayAd(b);break;default:b.style.position="absolute",b.style.background=this.shouldBackgroundTransparent?"transparent":"white",b.style.left="0px",b.style.top="0px",b.style.width=h+"px",b.style.height=d+"px"}}},presentInterstitial:function(){this.log("presentInterstitial, defaultExpandWidth: "+this.defaultExpandWidth+", defaultExpandHeight: "+this.defaultExpandHeight+", this.mraid.expandWidth: "+this.mraid.expandWidth+", this.mraid.expandHeight: "+
 this.mraid.expandHeight+", (Math.max(0, this.defaultExpandWidth - this.mraid.expandWidth) / 2) = "+Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+", (Math.max(0, this.defaultExpandHeight - this.mraid.expandHeight) / 2) = "+Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2);if(this.expandedAdElement){this.isInterstitialNow=!0;document.addEventListener&&(document.removeEventListener("touchmove",this.touchMoveDisabler,!1),document.addEventListener("touchmove",this.touchMoveDisabler,
 !1));var b=this.expandedAdElement.parentNode;this.expandedLightbox||(this.expandedLightbox=document.createElement("div"),this.expandedLightbox.style.background="black",this.expandedLightbox.style.opacity=.8,this.expandedLightbox.style.position="fixed",this.expandedLightbox.style.top="0px",this.expandedLightbox.style.left="0px",this.expandedLightbox.style.zIndex=this.expandedLightbox.style["z-index"]=9999,b.appendChild(this.expandedLightbox));this.expandedLightbox.style.width=this.defaultExpandWidth+
 "px";this.expandedLightbox.style.height=this.defaultExpandHeight+"px";this.expandedAdElement.frameBorder="0";this.expandedAdElement.scrolling="no";this.expandedAdElement.style.position="fixed";this.expandedAdElement.style.overflow="hidden";this.expandedAdElement.style.top=this.expandedAdElement.top=Math.max(0,this.defaultExpandHeight-this.mraid.expandHeight)/2+"px";this.expandedAdElement.style.left=this.expandedAdElement.left=Math.max(0,this.defaultExpandWidth-this.mraid.expandWidth)/2+"px";this.expandedAdElement.style.width=
 this.expandedAdElement.width=this.mraid.expandWidth+"px";this.expandedAdElement.style.height=this.expandedAdElement.height=this.mraid.expandHeight+"px";this.expandedAdElement.style.zIndex=this.expandedAdElement.style["z-index"]=1E4;this.log("presentInterstitial, expanded ad element size: (top, left, width, height) = ("+this.expandedAdElement.top+", "+this.expandedAdElement.left+", "+this.expandedAdElement.width+", "+this.expandedAdElement.height+")");if(this.isMRAIDAd){var e=this.expandedAdElement._fw_closeButton;
 e||(e=document.createElement("div"),e.addEventListener?e.addEventListener("click",c.Util.bind(this,function(){this._mraidClose()})):e.attachEvent&&e.attachEvent("onclick",c.Util.bind(this,function(){this._mraidClose()})),e.style.position="fixed",e.style.margin="0px",e.style.padding="0px",e.style.width="25px",e.style.height="25px",e.style.zIndex=e.style["z-index"]=10001,b.appendChild(e),this.expandedAdElement._fw_closeButton=e);e.style.top=this.expandedAdElement.style.top;e.style.left=Math.max(0,this.defaultExpandWidth-
 this.mraid.expandWidth)/2+this.mraid.expandWidth-25+"px";e.innerHTML=this.mraid.useCustomClose?0<c.PLATFORM_ANDROID_VERSION?"   ":"":0<c.PLATFORM_ANDROID_VERSION&&3>=c.PLATFORM_ANDROID_VERSION?'<img style="width:25px; height:25px; border:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4xJREFUeNrMmjFv2kAUxw/IUAZUw4AqJjIxMAQJ9sIHgDYLUqfSBTowJBudAmOnNCNeAitLyVgxxNlBgk+QTKgb6UQHhr7nniNj8PmM3zk86XQZOPt+ee/e+9+dI4zQms1mGTpsb6EVXH42h/YHmqHrukH17kjAiWvQfYT2gfeH2BjaHfYA9hwqCABkobvik9eI/qkIMYB2A0BPSkG4By44hErrQfvhx0MRn/F/Cy3LwjH0yhfZdRSThOhyCI2FZ/iuRrFYjMxmMyMwCEDc8nB6LSsDTBZg7g4GAYj7ANmI0gpeMDEPTxwDhBRMzAXiGrqv7PgMYTSA+eWZtQACvfCTHbedQzYbu4LwOvHolp3q9TorlUpsuVyyfr/P1us16ezi8TirVqtmP5lMzPcIiuepvc5EHT+4doPIZDImhPV3q9UyX0hl+MxOp2O+I5/Ps1qt5pWat4py1CE7Gm4jnf99Sph9z5Lw9gWf845HhLJjtVqx0WhEDuMGgaElYVdbWYuTDbxGYcwiELreskQiwXK5HFssFmyz2ZBA4PoTrA9nFhtCFnu2PCJdL6bTKYlnCCCYfe4WyGc/I4PCEEK8zD3Cw+rxkPjGDIMp2Rl+otRMDGHZaZRvTQ8yv55RBGEKSwQ5C/IEWRiFEGhnMVj1naCbJa9slk6nVUKg/T2h2iyhZywZ4/RCMplUCWFW+hPBsQ0ZjFMhEEOY9SRKLUv3rRnFEHtFI4nhRPelX1xH2FQYOYjf9EsJ8qQSQqVqth8dkYGI6oQK1awExKvYUQlNL5CFSghq1exiCwQxVEOEAGPEYFPyG2QKniS+CWNTRL05w7DSdf2blX7HYe7siD0ztteRm7B3doQww5c9Ow+vspcKRvHXbrfJBCBBmOH13XdnZe95jcKzJmoVK/KMhPV2JAq/UDG8TgJVCEA3GAlvGG5a61JGpmM4UKtYJ4zEs7fmuu8Qu8vU3xEK12EqlXJV0FZIgTe6QhAOcx/kUEKxYUhVZGX8Oft/sX9sNudz2zHXW13wCm6B71m4F6AiwyuECnhj7mtjxQdUKPcrQdStCELoEZtnNO6ZwiuGU8Xr4wE/HwzgJVDY19T49cOlzA9jsk/EC0iQMQ/cM+9C8MIngOjLDjj0o5oGrzVZBWsBa8TA78Cgnznh3QQe6we9j0cpPnTe1IYG4kgIZR5273mvCdIohg6G6TzI5O32T4ABAPsBS28k7apdAAAAAElFTkSuQmCC">':
 '<img style="width:25px; height:25px; border:0" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAwcHgiIGhlaWdodD0iNDAwcHgiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48Y2lyY2xlIGZpbGw9IiM2NjY2NjYiIGN4PSIyMDAuMTM5IiBjeT0iMTk5Ljg2IiByPSIxOTcuODYiLz48cGF0aCBmaWxsPSIjRjBGMEYwIiBzdHJva2U9IiNGMEYwRjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTExNC44NjUsMzAzLjY0NGMtNi4yMjYsNi4yMjctMTUuMzYzLDcuMTg2LTIwLjQwNywyLjE0NGwtMC41MjItMC41MjJjLTUuMDQzLTUuMDQzLTQuMDgzLTE0LjE4LDIuMTQ0LTIwLjQwN0wyODQuODYsOTYuMDc4YzYuMjI2LTYuMjI3LDE1LjM2Mi03LjE4NiwyMC40MDUtMi4xNDRsMC41MjIsMC41MjFjNS4wNDMsNS4wNDIsNC4wODMsMTQuMTc5LTIuMTQ0LDIwLjQwOEwxMTQuODY1LDMwMy42NDR6Ii8+PHBhdGggZmlsbD0iI0YwRjBGMCIgc3Ryb2tlPSIjRjBGMEYwIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0zMDcuODE5LDI4OC42NjZjNS4xNTMsNS4xNTgsNS4wNDgsMTMuNjI0LTAuMjQxLDE4LjkxMWwwLDBjLTUuMjg4LDUuMjg5LTEzLjc1Miw1LjM5My0xOC45MDksMC4yNEw5MS45MDYsMTExLjA1NWMtNS4xNTYtNS4xNTYtNS4wNDgtMTMuNjIzLDAuMjQtMTguOTFsMCwwYzUuMjktNS4yODksMTMuNzU1LTUuMzk2LDE4LjkxMS0wLjI0MUwzMDcuODE5LDI4OC42NjZ6Ii8+PC9zdmc+">'}this.isMRAIDAd||
 this._rendererController.requestContentStateChange(!0)}},_onWindowMessageReceived:function(b){if(this.defaultAdElement&&(b.source===this.defaultAdElement.contentWindow||this.expandedAdElement&&b.source===this.expandedAdElement.contentWindow)){this.log("_onWindowMessageReceived, event.data:"+b.data+", event.origin:"+b.origin);var e=b.data.toString().split(":");if(e&&2<=e.length&&"fwsdk-invoke"===e[0]){var d=e[1];if((e=e.slice(2))&&0<e.length){for(var f=0;f<e.length;f++)e[f]=decodeURIComponent(e[f]);
 1===e.length&&(e=e[0])}else e=null;if("iframe_ready"===d){if(this.onLoadFunc&&b.source===this.defaultAdElement.contentWindow&&this.defaultAdElement!==this.expandedAdElement)this.onLoadFunc();e&&(e=c.Util.trim(e))&&this.isMRAIDAd&&(this.mraid.baseUrl=e);this.bootstrap&&b.source.postMessage("fwsdk-bounce:"+this.bootstrap,b.origin);b.source.postMessage('fwsdk-bounce:mraid._messagingModel = "postMessage"',b.origin);this.isMRAIDAd&&(b.source===this.defaultAdElement.contentWindow&&this.shouldPauseContentWhenStart&&
 this._rendererController.requestContentStateChange(!0),this.mraid.inLoadingState()?this.mraid.state=this.mraid.STATEDEFAULT:this.expandedAdElement&&b.source===this.expandedAdElement.contentWindow&&this.mraid.pushData())}else this.isMRAIDAd?this._mraidMethods(d,e):"close"===d&&this._stop()}}},_mraidMethods:function(b,e){if(b&&this.isMRAIDAd)switch(this.log("_mraidMethods("+b+", "+e+")"),b){case "open":"string"===typeof e?this._mraidOpen(e):2<=e.length&&this._mraidOpen(e[0],c.Util.str2bool(e[1]));break;
 case "close":this._mraidClose();break;case "expand":this._mraidExpand(e);break;case "useCustomClose":e&&0<e.length?this.mraid.useCustomClose=c.Util.str2bool(e):this.warn("Invalid parameter to useCustomClose");break;case "setExpandProperties":if(!e)break;this.requestedExpandWidth=Number(e[0]);this.requestedExpandHeight=Number(e[1]);if(!this.requestedExpandWidth||!this.requestedExpandHeight||this.requestedExpandWidth===this.defaultExpandWidth&&this.requestedExpandHeight===this.defaultExpandHeight)this.requestedExpandHeight=
 this.requestedExpandWidth=0;this.mraid.useCustomClose=c.Util.str2bool(e[2]);this.requestedExpandWidth===this.mraid.expandWidth&&this.requestedExpandHeight===this.mraid.expandHeight||this.mraid.pushData();break;case "log":this.log("MRAID log:"+e);break;default:this.warn("Unknown MRAID function call: "+b+" with param:"+e)}},_mraidOpen:function(b,e){this.log("_mraidOpen("+b+"), baseUrl: "+this.mraid.baseUrl+", absolute Url: "+(b=c.Util.getAbsoluteUrl(this.mraid.baseUrl,b)));b&&"string"===typeof b&&0<
 b.length?((e||"undefined"===typeof e)&&window.open(b),this._rendererController.processEvent({name:c.EVENT_AD_CLICK,info:{showBrowser:!1}})):this.warn("_mraidOpen: url required for open")},_mraidClose:function(){this.log("_mraidClose, current state: "+this.mraid.state);if(this.mraid.inExpandedState()){window.removeEventListener&&document.removeEventListener("touchmove",this.touchMoveDisabler,!1);var b=this.expandedAdElement,c=this.expandedAdElement._fw_closeButton;this.expandedAdElement._fw_closeButton=
 null;var d=this.expandedAdElement.parentNode;this.mraid.state=this.mraid.STATEDEFAULT;this.expandedLightbox&&(d.removeChild(this.expandedLightbox),this.expandedLightbox=null);b!==this.defaultAdElement&&(b.style.display="hidden",window.setTimeout(function(){d.removeChild(b)},50));d.removeChild(c)}else this.mraid.inDefaultState()?this.mraid.state=this.mraid.STATEHIDDEN:this.warn("_mraidClose: close() is only valid when in expanded/default state")},_mraidExpand:function(b){this.log("_mraidExpand, current state: "+
 this.mraid.state);if(this.mraid.inDefaultState())if(this.shouldKeepInterstitial)this.warn("_mraidExpand: expand() is only valid for inline ad");else{if(b){var e=document.createElement("iframe"),d=c.Util.getAbsoluteUrl(this.mraid.baseUrl,b);this.shouldBackgroundTransparent&&(e.allowTransparency="true",e.style["background-color"]="rgba(255,255,255,0)");(this.defaultAdElementContainer||this.defaultAdElement.parentNode).appendChild(e);this.expandedAdElement=e;this.log("_mraidExpand("+b+"), baseUrl:"+
 this.mraid.baseUrl+", absolute Url"+d);this._fillAdNode(e,d,null)}this.mraid.state=this.mraid.STATEEXPANDED;this.isInterstitialNow=!0;this._onViewportResizeScroll()}else this.warn("_mraidExpand: expand() is only valid when in default state")},_onViewportResizeScroll:function(){var b=c.Util.getViewport();this.defaultExpandWidth=b.width;this.defaultExpandHeight=b.height;this.isInterstitialNow&&this.presentInterstitial()},log:function(b){var e=this._rendererController.getAdInstance().getSlot();c.log("HTMLRenderer["+
 e+"]\t"+b)},warn:function(b){var e=this._rendererController.getAdInstance().getSlot();c.warn("HTMLRenderer["+e+"]\t"+b)},info:function(){return{moduleType:c.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){return this.timer?this.timer.getPlayheadTime():-1},getDuration:function(){return this.timer?this.timer.getDuration():-1},_onRendererFailed:function(b,e,d){var f={};f[c.INFO_KEY_ERROR_MODULE]="HTMLRenderer";f[c.INFO_KEY_ERROR_CODE]=b;this._rendererController.getAdInstance().getSlot().getTimePositionClass()===
 c.TIME_POSITION_CLASS_OVERLAY?d||(d=c.ERROR_VAST_NON_LINEAR_GENERAL_ERROR):this._rendererController.getAdInstance().getSlot().getTimePositionClass()!==c.TIME_POSITION_CLASS_DISPLAY||d||(d=c.ERROR_VAST_COMPANION_GENERAL_ERROR);d&&(f[c.INFO_KEY_VAST_ERROR_CODE]=d);e&&(f[c.INFO_KEY_ERROR_INFO]=e);this._rendererController.handleStateTransition(c.RENDERER_STATE_FAILED,f)}};c.HTMLRenderer.prototype.constructor=c.HTMLRenderer;c.Timer=function(b,c){this._lastTickDate=new Date;this._duration=b||-1;this._playheadTime=
 -1;this._callback=c;this._state=-1};c.Timer.prototype={};c.Timer.prototype.constructor=c.Timer;c.Util.mixin(c.Timer.prototype,{tick:function(){var b=new Date,c=Math.round((b.getTime()-this._lastTickDate.getTime())/1E3);this._lastTickDate=b;return c},start:function(){if(0!==this._state){if(2===this._state||-1===this._playheadTime)this._playheadTime=0;this._state=0;this._timeStamp=new Date;this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null);var b=this,c=1E3*(this._duration-
 this._playheadTime);0>c||(this._timeouter=window.setTimeout(function(){b.stop();b._playheadTime=b._duration;b._callback&&b._callback()},c))}},pause:function(){0===this._state&&(this._state=1,this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null),this._playheadTime=(new Date-this._timeStamp)/1E3+this._playheadTime)},stop:function(){this._state=2;this._timeouter&&(window.clearTimeout(this._timeouter),this._timeouter=null);this._playheadTime=(new Date-this._timeStamp)/1E3+this._playheadTime},
 getPlayheadTime:function(){return 0===this._state?(new Date-this._timeStamp)/1E3+this._playheadTime:this._playheadTime},getCTValue:function(){return(new Date-this._timeStamp)/1E3},getDuration:function(){return this._duration}});c.RendererController=function(b,e){var d=null,f=null,g={},k=c.RendererInitState.instance,h={},l=[],p=0;return{getAdInstance:function(){return e},getContext:function(){return b},getRendererState:function(){return k},processEvent:function(b){var d=b.name;if(d===c.RENDERER_STATE_STARTED||
 d===c.RENDERER_STATE_COMPLETING||d===c.RENDERER_STATE_COMPLETED||d===c.RENDERER_STATE_FAILED)this.handleStateTransition(d,b.info);else{var f=this._inferEventType(d);if(f&&(f===c.EVENT_TYPE_CLICK&&b.info&&b.info[c.INFO_KEY_CUSTOM_EVENT_NAME]&&(d=b.info[c.INFO_KEY_CUSTOM_EVENT_NAME]),d!==c.EVENT_AD_MEASUREMENT||b.info[c.INFO_KEY_CONCRETE_EVENT_ID])){var g=d===c.EVENT_AD_INITIATED||d===c.EVENT_AD_BUFFERING_START||d===c.EVENT_AD_BUFFERING_END||d===c.EVENT_AD_VOLUME_CHANGE||b.info&&b.info.hasOwnProperty("apiOnly")&&
 b.info.apiOnly;e.processEvent(d,f,b.info,g)}}},handleStateTransition:function(b,d){switch(b){case c.RENDERER_STATE_STARTED:k.notifyStarted(this);break;case c.RENDERER_STATE_COMPLETING:k.complete(this);break;case c.RENDERER_STATE_COMPLETED:k.complete(this);k.notifyCompleted(this);break;case c.RENDERER_STATE_FAILED:e.getSlot()._clearScheduledAdInstance();d||(d={});c.warn("FAIL",", FW ErrorModule:",d[c.INFO_KEY_ERROR_MODULE],", FW ErrorCode:",d[c.INFO_KEY_ERROR_CODE],", FW ErrorInfo:",d[c.INFO_KEY_ERROR_INFO],
 ", VAST ErrorCode:",d[c.INFO_KEY_VAST_ERROR_CODE]);(b=e.processEvent(c.EVENT_ERROR,c.EVENT_TYPE_ERROR,d))||c.debug("No EVENT_ERROR callback found");if(d)switch(d[c.INFO_KEY_ERROR_CODE]){case c.ERROR_NO_AD_AVAILABLE:case c.ERROR_PARSE:(b=e.processEvent(c.EVENT_RESELLER_NO_AD,c.EVENT_TYPE_IMPRESSION))||c.debug("No EVENT_RESELLER_NO_AD callback found.")}k.fail(this);break;default:c.debug("Unknown event received",b)}},setCapability:function(b,c){e.setMetr(b,c)},getVersion:function(){return b._adManager.getVersion()},
 getParameter:function(c){if(!c)return null;if(b._overrideLevelParameterDictionary.hasOwnProperty(c))return b._overrideLevelParameterDictionary[c];if(e.getActiveCreativeRendition()&&"undefined"!==typeof e.getActiveCreativeRendition().getParameter(c))return e.getActiveCreativeRendition().getParameter(c);var d=e._creative;return d&&"undefined"!==typeof d.getParameter(c)?d.getParameter(c):"undefined"!==typeof e.getSlot().getParameter(c)?e.getSlot().getParameter(c):b._adResponse._profileParameters.hasOwnProperty(c)?
 b._adResponse._profileParameters[c]:b._globalLevelParameterDictionary.hasOwnProperty(c)?b._globalLevelParameterDictionary[c]:g&&g.hasOwnProperty(c)?g[c]:null},getCompanionSlots:function(){for(var b=[],c=e._companionAdInstances,d=0;d<c.length;d++)c[d].isPlaceholder()&&b.push(c[d].getSlot());return b},createNullDrivingAdInstance:function(){var b=e.getSlot().scheduleAdInstance();b.addCreativeRendition().setContentType("null/null");return b},scheduleAdInstances:function(b){var c,d=[],f=null;b=b||[];if(0===
 b.length)return d;for(c=0;c<b.length;c++)b[c].getCustomId()===e.getSlot().getCustomId()&&(f=e.getSlot().scheduleAdInstance());if(!f)if(this.isTranslator())f=this.createNullDrivingAdInstance();else if(this.isRenderer())f=e;else return d;for(var g=0;g<b.length;g++){if(b[g].getCustomId()===e.getSlot().getCustomId())f!==e&&d.push(f);else for(var k=0,n=f._companionAdInstances;k<n.length;k++)if(c=n[k],b[g]===c.getSlot()){if(this.isTranslator())d.push(c);else if(this.isRenderer()&&c.isPlaceholder()){var p=
 c.cloneForTranslation();f===e&&(h[p]=c);n[k]=p;d.push(p);l.push(p)}break}d.length<=g&&d.push(null)}return d},commitAdInstance:function(){if(this.isRenderer()&&e.isStarted()){for(var b=0;b<l.length;b++){var d=l[b];d&&d.getSlot().playCompanionAds(d)}l=[]}else c.warn("Skipping RendererController.commitAdInstance when called with driving ad not started or completed.")},isRenderer:function(){return d&&c.MODULE_TYPE_RENDERER===d.info()[c.INFO_KEY_MODULE_TYPE]},isTranslator:function(){return d&&c.MODULE_TYPE_TRANSLATOR===
 d.info()[c.INFO_KEY_MODULE_TYPE]},playable:function(){return k===c.RendererInitState.instance},reset:function(){k=c.RendererInitState.instance},play:function(){for(var b=e.getRenderableCreativeRenditions()||[],c=null,d=0;d<b.length;d++){var f=b[d];if(c=this._matchRendererClassName(f)){e.setActiveCreativeRendition(f);break}}0===p&&this._actualPlay(c)},_actualPlay:function(b){(f=c.Util.getObject(b)||c.Util.getObject(D+"."+b))&&(d=new f);d?k.start(this):this.handleStateTransition(c.RENDERER_STATE_FAILED,
 {errorCode:c.ERROR_NO_RENDERER,errorInfo:"Renderer class <"+b+"> not found"})},dispatchEvent:function(c,d){b.dispatchEvent(c,d)},requestContentStateChange:function(c){c?b._requestContentVideoToPauseBySlot(e.getSlot()):b._requestContentVideoToResumeBySlot(e.getSlot())},getRenderer:function(){return d},setRenderer:function(b){d=b},setRendererState:function(b){k=b},getContentVideoElement:function(){return b.getContentVideoElement()},_restorePlaceholdersForHybrid:function(){if(h&&this.isRenderer()){for(var b=
 [],c=0;c<e._companionAdInstances.length;c++){var d=e._companionAdInstances[c],f=h[d];f?b.push(f):b.push(d)}e._companionAdInstances=b}0<l.length&&this.isRenderer()&&(l=[])},rendererMatch:function(b){return f?f===c.Util.getObject(this._matchRendererClassName(b)):!0},_matchRendererClassName:function(d){function f(b,d,e){c.debug("matching "+b+" within "+d);if(!d)return!0;d=d.split(",");d[d.length-1]||d.pop();if(e){b=b.toLowerCase();for(e=0;e<d.length;e++)if(b===d[e].toLowerCase())return!0;c.debug("not match");
 return!1}(d=0<=d.indexOf(b))||c.debug("not match");return d}var h=d.getPrimaryCreativeRenditionAsset().getContentType(),k=d.getContentType(),l=d.getWrapperType(),n=d.getCreativeApi(),v=d.getBaseUnit(),R=e.getSoAdUnit(),K=e.getSlot(),H=K.getType();K=K.getTimePositionClass();c.debug("match renderer for creativeRendition:"+d.getId());c.debug("slot type:"+H);if(c.Util.isBlank(k)&&c.Util.isBlank(l))return c.warn("renderer not match due to both contentType and wrapperType are empty"),null;var S=b._rendererManifest["*"];
 S||(S=b._rendererManifest[l]);S||(S=b._rendererManifest[k]);if(!S){H=b._overriddenAdRenderers.concat(b._adResponse._adRenderers);for(var L=0;L<H.length;L++){var y=H[L],G=!y.contentType;G||(l?G=f(l,y.contentType,!0):(h&&(G=f(h,y.contentType,!0)),G||(G=f(k,y.contentType,!0))));if(G)if((G=!y.creativeApi)||(G=f(n,y.creativeApi)),G)if(y.baseUnit&&!f(v,y.baseUnit))c.debug("can't match renderer "+y.url+" due to baseUnit not match for creativeRendition:"+d.getId());else if(y.soAdUnit&&!f(R,y.soAdUnit))c.debug("can't match renderer "+
 y.url+" due to soAdUnit not match for creativeRendition:"+d.getId());else if(y.slotType&&!f(K.toUpperCase(),y.slotType.toUpperCase()))c.debug("can't match renderer "+y.url+" due to slotType not match for creativeRendition:"+d.getId());else{if(c.debug("renderer "+y.url+" matched for creativeRendition:"+d.getId()),y.url){S=y.url;d=S.indexOf("?");-1!==d&&(S=S.substring(0,d));d=S.lastIndexOf("/");-1!==d&&(S=S.substring(d+1));d=S.lastIndexOf(".js");-1!==d&&(S=S.substring(0,d));var F={};if(y.parameter)for(d=
 [].concat(y.parameter),h=0;h<d.length;h++)if(d[h].hasOwnProperty("name"))F[d[h].name]=d[h].value;else for(var E in d[h])d[h].hasOwnProperty(E)&&(F[E]=d[h][E]);c.Util.getObject(D+"."+S)&&(S=D+"."+S);if(c.Util.getObject(S))g=F,p=0;else{if(0<p)break;var x=this;E=1*this.getContext().getParameter("moduleLoadTimeout")||6E4;p=window.setTimeout(function(){p=-1;x.handleStateTransition(c.RENDERER_STATE_FAILED,{errorCode:c.ERROR_NO_RENDERER,errorInfo:"Load renderer timeout, URL:"+y.url})},E);c.Util.lazyJavaScriptLoad(y.url,
 function(){c.log("async load renderer successful, URL:"+y.url);-1===p?c.debug("renderer loaded after timeout. WILL NOT PLAY."):(window.clearTimeout(p),p=0,g=F,x._actualPlay(S))})}break}}else c.debug("can't match renderer "+y.url+" due to creative api not match for creativeRendition:"+d.getId());else c.debug("can't match renderer "+y.url+" due to contentType not match for creativeRendition:"+d.getId())}}return S?S:c.Util.isBlank(l)?"null/null"===k?D+".NullRenderer":null:null},_inferEventType:function(b){return b===
 c.EVENT_ERROR?c.EVENT_TYPE_ERROR:b===c.EVENT_AD_CLICK?c.EVENT_TYPE_CLICK:b===c.EVENT_AD_IMPRESSION||b===c.EVENT_AD_FIRST_QUARTILE||b===c.EVENT_AD_MIDPOINT||b===c.EVENT_AD_THIRD_QUARTILE||b===c.EVENT_AD_COMPLETE||b===c.EVENT_RESELLER_NO_AD?c.EVENT_TYPE_IMPRESSION:b===c.EVENT_AD_PAUSE||b===c.EVENT_AD_RESUME||b===c.EVENT_AD_REWIND||b===c.EVENT_AD_MUTE||b===c.EVENT_AD_UNMUTE||b===c.EVENT_AD_COLLAPSE||b===c.EVENT_AD_EXPAND||b===c.EVENT_AD_MINIMIZE||b===c.EVENT_AD_CLOSE||b===c.EVENT_AD_ACCEPT_INVITATION?
 c.EVENT_TYPE_STANDARD:b===c.EVENT_AD_MEASUREMENT||b===c.EVENT_AD_VOLUME_CHANGE||b===c.EVENT_AD_BUFFERING_START||b===c.EVENT_AD_BUFFERING_END||c.EVENT_AD_INITIATED||c.EVENT_AD_AUTO_PLAY_BLOCKED?c.EVENT_TYPE_GENERIC:null},pause:function(){c.log("RendererController.pause");d&&"function"===typeof d.pause?d.pause():c.log("Renderer.pause() is not implemented.")},resume:function(){c.log("RendererController.resume");d&&"function"===typeof d.resume?d.resume():c.log("Renderer.resume() is not implemented.")},
 stop:function(){c.log("RendererController.stop");0<p&&(p=-1);k.stop(this)}}};c.VideoStateExtension=function(){};c.VideoStateExtension.prototype={_enabled:function(){if(null==this._context)return!1;var b=this._context.getParameter(c.PARAMETER_EXTENSION_VIDEO_STATE_ENABLED);null==b&&(b="false");return!0===c.Util.str2bool(b)},init:function(b){this._context=b;this._enabled()?this._context.setVideoState(c.VIDEO_STATE_PLAYING):c.log("VideoStateExtension is disabled.")},dispose:function(){this._context=
 null}};c.VideoStateExtension.prototype.constructor=c.VideoStateExtension;c.AdResponse=function(b){this._context=b};c.AdResponse.prototype={};c.AdResponse.prototype.constructor=c.AdResponse;c.Util.mixin(c.AdResponse.prototype,{parse:function(b,e){this._data=b;this._temporalSlots=[];this._videoPlayerNonTemporalSlots=[];this._siteSectionNonTemporalSlots=[];this._profileParameters={};this._ads=[];this._siteSectionCustomId=c.Util.getObject("siteSection.customId",b)||"";this._adRenderers=[];var d;var f=
 c.Util.getObject("parameters",b)||[];for(d=0;d<f.length;++d){var g=f[d];this._profileParameters[g.name]=g.value}this._adRenderers=c.Util.getObject("rendererManifest.adRenderers.adRenderer",b)||[];for(d=0;d<this._adRenderers.length;d++)"undefined"!==typeof this._adRenderers[d].adUnit&&(this._adRenderers[d].baseUnit=this._adRenderers[d].adUnit,delete this._adRenderers[d].adUnit);f=c.Util.getObject("ads.ads",b)||[];for(d=0;d<f.length;++d)g=new c.Ad(this._context),g.parse(f[d]),this._ads.push(g);f=c.Util.getObject("siteSection.videoPlayer.videoAsset.adSlots",
 b)||[];for(d=0;d<f.length;++d)g=new c.Slot(this._context),g.setType(c.SLOT_TYPE_TEMPORAL),g.setBase(e),g.parse(f[d]),this._temporalSlots.push(g);f=c.Util.getObject("siteSection.videoPlayer.adSlots",b)||[];for(d=0;d<f.length;++d)g=new c.Slot(this._context),g.setType(c.SLOT_TYPE_VIDEOPLAYER_NONTEMPORAL),g.setTimePositionClass(c.TIME_POSITION_CLASS_DISPLAY),g.parse(f[d]),this._initSlotData(g),this._videoPlayerNonTemporalSlots.push(g);f=c.Util.getObject("siteSection.adSlots",b)||[];for(d=0;d<f.length;++d)g=
 new c.Slot(this._context),g.setType(c.SLOT_TYPE_SITESECTION_NONTEMPORAL),g.setTimePositionClass(c.TIME_POSITION_CLASS_DISPLAY),g.parse(f[d]),this._initSlotData(g),this._siteSectionNonTemporalSlots.push(g);b=c.Util.getObject("siteSection.videoPlayer.videoAsset",b)||{};this._context._videoAsset.parse(b)},getCreative:function(b,c){return(b=this.getAd(b))?b.getCreative(c):null},getAd:function(b){for(var c=0;c<this._ads.length;c++){var d=this._ads[c];if(d.getId()===b)return d}return null},getTemporalSlots:function(){return this._temporalSlots},
 getSiteSectionNonTemporalSlots:function(){return this._siteSectionNonTemporalSlots},getVideoPlayerNonTemporalSlots:function(){return this._videoPlayerNonTemporalSlots},getSiteSectionCustomId:function(){return this._siteSectionCustomId},getSlotByCustomId:function(b){for(var e=0;e<this._temporalSlots.length;++e)if(this._temporalSlots[e].getCustomId()===b)return this._temporalSlots[e];for(e=0;e<this._videoPlayerNonTemporalSlots.length;++e)if(this._videoPlayerNonTemporalSlots[e].getCustomId()===b)return this._videoPlayerNonTemporalSlots[e];
 for(e=0;e<this._siteSectionNonTemporalSlots.length;++e)if(this._siteSectionNonTemporalSlots[e].getCustomId()===b)return this._siteSectionNonTemporalSlots[e];c.warn("getSlotByCustomId(): not found",b);return null},_initSlotData:function(b){for(var e=!1,d=0;d<this._context._adRequest._slotScanner._knownSlots.length;d++){var f=this._context._adRequest._slotScanner._knownSlots[d];if(b.getCustomId()===f.id&&f.element){b.setWidth(f.width);b.setHeight(f.height);b.setBase(f.element);b.setAcceptCompanion(f.acceptCompanion);
 b.setInitialAdOption(f.initialAdOption);e=!0;break}}e||c.warn("Failed to init slot "+b.getCustomId());return e}});c.Slot=function(b){var e="",d=null,f=null,g=null,k=null,h=[],l=[],p={},n=null,m=c.MediaInitState.instance,t=0,r=null,u,q,v,D,K,H,S=0,L=0,y=[],G=null,F=!1,E=!1,x=!0,z=[],B,w,C=!1;return{setAutoPlayBlocked:function(b){C=b},getSlotProfile:function(){return f},setSlotProfile:function(b){f=b},setMediaState:function(b){m=b},setParameter:function(b,c){null==c?delete p[b]:p[b]=c},getParameter:function(b){if(b&&
 p.hasOwnProperty(b))return p[b]},getAdCount:function(){return h.length},setCustomId:function(b){e=b},getCustomId:function(){return e},setAdUnit:function(b){K=b},getAdUnit:function(){return K},setType:function(b){d=b},getType:function(){return d},setTimePosition:function(b){q=b},getTimePosition:function(){return q},setTimePositionClass:function(b){r=b&&b.toUpperCase()},getTimePositionClass:function(){return r},setWidth:function(b){v=b},getWidth:function(){return r!==c.TIME_POSITION_CLASS_DISPLAY?v?
 v:b.getVideoDisplaySize().width:v},setHeight:function(b){D=1*b},getHeight:function(){return r!==c.TIME_POSITION_CLASS_DISPLAY?D?D:b.getVideoDisplaySize().height:D},setBase:function(b){u=b},getBase:function(){return u},setCuepointSequence:function(b){H=1*b?1*b:0},getCuepointSequence:function(){return H},getVideoDisplaySize:function(){return b.getVideoDisplaySize()},setMaxDuration:function(b){S=1*b?1*b:0},getMaxDuration:function(){return S},setMinDuration:function(b){L=1*b?1*b:0},getMinDuration:function(){return L},
 setAcceptContentType:function(b){if(b&&b.trim()){b=b.split(",");for(var c=0;c<b.length;c++)y.push(b[c].trim())}},setSignalId:function(b){b&&b.trim()&&(G=b)},getSignalId:function(){return G},getAcceptContentType:function(){return y.join(",")},parse:function(d){if(d){e=d.customId;q=1*d.timePosition;r=d.timePositionClass&&d.timePositionClass.toUpperCase()||r;K=d.adUnit;G=d.signalId;if(void 0===G||null===G)G=d.outSignalId;for(var f,g=0,k=d.eventCallbacks||[];g<k.length;g++){f=k[g];var m=c.EventCallback.newEventCallback(b,
 f.name,f.type);m&&(m._slot=this,m.parse(f),l.push(m))}g=0;for(k=d.selectedAds||[];g<k.length;g++)f=k[g],d=[],m=new c.AdInstance(b),d.push(m),m._slot=this,m._slotCustomId=e,m._parentAdInstancesGroup=d,m.parse(f),h.push(d)}},getCurrentAdInstance:function(){return g},isPauseSlot:function(){return r===c.TIME_POSITION_CLASS_PAUSE_MIDROLL},play:function(d){if(C)c.log("Resuming previously blocked video ad now."),C=!1,b.getContentVideoElement()&&b.getContentVideoElement().play();else{for(var e=this.getAdInstances(),
 f=0;f<e.length;f++)e[f]._isSkipped=!1;r!==c.TIME_POSITION_CLASS_DISPLAY||x?(c.log("Slot.play",r),F=!1,r===c.TIME_POSITION_CLASS_DISPLAY&&1<h.length&&h.splice(0,h.length-1),this._play(d)):(c.log("Slot is invisible. Push the play operation to the queue."),z.push({operation:this.play,argument:d}))}},stop:function(){c.log("Slot.stop",r);r===c.TIME_POSITION_CLASS_DISPLAY&&(z=[]);m===c.MediaInitState.instance||m===c.MediaEndState.instance?c.log("Slot.stop, not start or already end, ignore"):(F=!0,g?g.stop():
 c.warn("Slot.stop, no _currentAdInstance, ignore"))},pause:function(){c.log("Slot.pause");r!==c.TIME_POSITION_CLASS_DISPLAY?g&&g.pause():c.log("Not a temporal slot. Ignore.")},resume:function(){c.log("Slot.resume");r!==c.TIME_POSITION_CLASS_DISPLAY?g&&g.resume():c.log("Not a temporal slot. Ignore.")},skipCurrentAd:function(){c.log("Slot.skipCurrentAd ",g);g?g.skip():c.log("Slot.skipCurrentAd, no _currentAdInstance, ignore")},setVisible:function(b){if(r!==c.TIME_POSITION_CLASS_DISPLAY)c.log("Slot.setVisible is only for display ads.");
 else if(c.log("Slot.setVisible",b),x!==b&&(x=b))for(;0<z.length;)b=z.pop(),b.operation&&b.operation.call(this,b.argument)},_play:function(b){n=n||b;m.play(this)},onStartPlaying:function(){this._onStartPlaying()},onStartReplaying:function(){this._onStartPlaying()},onCompletePlaying:function(){this._onCompletePlaying()},onCompleteReplaying:function(){this._onCompletePlaying()},playNextAdInstance:function(){c.log("Slot.playNextAdInstance ",r);this._playNextAdInstance()||m.complete(this)},scheduleAdInstance:function(){return k=
 g.cloneForTranslation()},_clearScheduledAdInstance:function(){k=null},_onStartPlaying:function(){r===c.TIME_POSITION_CLASS_MIDROLL&&0<h.length&&b._requestContentVideoToPauseBySlot(this);var d=c.EventCallback.getEventCallback(l,c.EVENT_SLOT_IMPRESSION,c.EVENT_TYPE_IMPRESSION);d&&d.process();this.dispatchSlotEvent(c.EVENT_SLOT_STARTED);this.playNextAdInstance()},dispatchSlotEvent:function(c){E||b.dispatchEvent(c,{slot:this})},_onCompletePlaying:function(){n&&n();n=null;z=[];var d=c.EventCallback.getEventCallback(l,
 c.EVENT_SLOT_END,c.EVENT_TYPE_IMPRESSION);d&&d.process();g=null;this.dispatchSlotEvent(c.EVENT_SLOT_ENDED);r===c.TIME_POSITION_CLASS_MIDROLL&&0<h.length&&b._requestContentVideoToResumeBySlot(this)},_playNextAdInstance:function(){if(F||m!==c.MediaPlayingState.instance&&m!==c.MediaReplayingState.instance)return!1;this._commitScheduledAdInstance();g=this._nextPlayableAdInstance();if(!g)return!1;g.reset();g._isInitiatedSent||(g.getRendererController().processEvent({name:c.EVENT_AD_INITIATED}),g._isInitiatedSent=
 !0);g.getRendererController().play();return!0},_commitScheduledAdInstance:function(){if(k){var b=g._parentAdInstancesGroup.indexOf(g);0<=b&&(k._parentAdInstancesGroup=g._parentAdInstancesGroup,g._parentAdInstancesGroup.splice(b,1,k),k=null)}},_nextPlayableAdInstance:function(){if(g){var b=g._parentAdInstancesGroup,d=b.indexOf(g);var e=h.indexOf(b);0<=e&&0<=d&&(g._isImpressionSent||g._isSkipped||d===b.length-1)&&e++}else e=0;if(0>e||e>=h.length)return null;var f;if(m===c.MediaPlayingState.instance)for(b=
 h[e],f=0;f<b.length;f++){if(d=b[f],d.getRendererController().playable())return d}else if(m===c.MediaReplayingState.instance)for(;e<h.length;e++){b=h[e];for(f=0;f<b.length;f++)if(d=b[f],d._isImpressionSent)return d;for(f=0;f<b.length;f++)if(d=b[f],d.getRendererController().getRendererState()!==c.RendererFailedState.instance&&!d._translated)return d}return null},toString:function(){return"[Slot "+e+"]"},getAdInstances:function(){for(var b=[],c=0;c<h.length;++c)for(var d=h[c],e=0;e<d.length;++e){var f=
 d[e];if(f.isPlayable()){b.push(f);break}}return b},getPlayheadTime:function(){for(var b=0,c=this.getAdInstances(),d=0;d<c.length;++d)if(c[d]===g){c=g.getPlayheadTime();-1<c&&(b+=c);break}else{var e=c[d].getDuration();-1<e&&(b+=e)}t&&b>t&&(b=t);return b},getTotalDuration:function(){if(d!==c.SLOT_TYPE_TEMPORAL)return-1;for(var b=0,e=this.getAdInstances(),f=0;f<e.length;++f){var g=e[f].getDuration();-1<g&&(b+=g)}return t=b},playCompanionAds:function(b){c.log("Slot.playCompanionAds");var d=[];b._parentAdInstancesGroup=
 d;d.push(b);h.push(d);E=!0;g&&this.stop();this.play()},getState:function(){return m},setAcceptCompanion:function(b){B=b},getAcceptCompanion:function(){return B},setInitialAdOption:function(b){w=b},getInitialAdOption:function(){return w}}};c.SurveyExtension=function(){this._surveyPingedIds=[]};c.SurveyExtension.prototype={init:function(b){this._context=b;c.log("SurveyExtension.init("+Array.prototype.slice.call(arguments).join(",")+")");this._onAdStarted=c.Util.bind(this,function(b){this._parameters=
 this._getParameters();if(this._parameters.enabled){c.log("SurveyExtension.onAdStarted()");var d=b.adInstance;if(-1<this._surveyPingedIds.indexOf(d.getAdId()))c.log("won't pingback survey since it has been pinged back");else{var e=d._creative.getParameter("_fw_survey_url");if(e)try{c.log("append"+e+" to head");var g=document.getElementsByTagName("head")[0],k=document.createElement("script");k.setAttribute("type","text/javascript");k.setAttribute("src",e);g.appendChild(k);this._surveyPingedIds.push(d.getAdId())}catch(h){c.warn("Append survey to head",
 b.type,h)}}}});this._context.addEventListener(c.EVENT_AD_IMPRESSION,this._onAdStarted)},dispose:function(){c.log("SurveyExtension.dispose()");this._context.removeEventListener(c.EVENT_AD_IMPRESSION,this._onAdStarted);this._parameters=this._onAdStarted=null},_getParameters:function(){var b={};b.enabled="false"!==this._context.getParameter(c.PARAMETER_EXTENSION_SURVEY_ENABLED);c.log(b);return b}};c.SurveyExtension.prototype.constructor=c.SurveyExtension;c.ExtensionManager=function(b){this._extensions=
 {};this._context=b;this._surveyExtension=new c.SurveyExtension;this._surveyExtension.init(b);this._videoStateExtension=new c.VideoStateExtension;this._videoStateExtension.init(b);this._displayRefreshExtension=new c.DisplayRefreshExtension;this._displayRefreshExtension.init(b);this._contentVideoExtension=new c.ContentVideoExtension;this._contentVideoExtension.init(b)};c.ExtensionManager.prototype={_scriptLoaded:function(b){if(null==this._extensions[b])this._loadFail(b,"Extension supposed to be loaded but not found");
 else{var e=c.Util.getObject(b);"function"!==typeof e?this._loadFail(b,"Script loaded but extension class not found"):(e=new e,"function"===typeof e.init&&"function"===typeof e.dispose?(c.log("Extension loaded: "+b),e.init(this._context),this._context.dispatchEvent(c.EVENT_EXTENSION_LOADED,{success:!0,moduleName:b})):this._loadFail(b,"Extension loaded but is not supported"))}},_getExtensionNameFromUrl:function(b){for(var c=/(?!.*\.{2})(?:[\\/\?=#])([a-z][\w\.]+)(?:\.js(#|\?|$))/gi,d,f;null!=(d=c.exec(b));)f=
 d;return f?f[1]:null},_loadFail:function(b,e){c.log("Extension failed to load. "+b+" : "+e);this._context.dispatchEvent(c.EVENT_EXTENSION_LOADED,{success:!1,errorVal:e,moduleName:b})},load:function(b){if(b){var e=this._getExtensionNameFromUrl(b);if(null==e)this._loadFail(e,"Extension name not exists in the Url. Url: "+b);else if(this._extensions[e]===b)c.log("Extension is already loaded"),this._loadFail(e,"Extension is already loaded");else{var d=1*this._context.getParameter("moduleLoadTimeout")||
 6E4,f=!1,g=this,k=window.setTimeout(function(){f=!0;g._loadFail(e,"Timeout occured while loading extension. Url: "+b)},d);c.Util.lazyJavaScriptLoad(b,function(){c.log("async load extension successful, URL:"+b);window.clearTimeout(k);f?c.debug("Extension loaded after timeout, do nothing."):(g._extensions[e]=b,g._scriptLoaded(e))})}}else this._loadFail(e,"Url cannot be empty")},dispose:function(){this._extensions=null;this._surveyExtension.dispose();this._surveyExtension=null;this._displayRefreshExtension.dispose();
 this._displayRefreshExtension=null;this._videoStateExtension.dispose();this._videoStateExtension=null;this._contentVideoExtension.dispose();this._context=this._contentVideoExtension=null}};c.ExtensionManager.prototype.constructor=c.ExtensionManager;c.EventCallback=function(b){this._url=this._name=this._type=null;this._showBrowser=!1;this._trackingUrls=[];this._adInstance=this._slot=null;this._context=b};c.EventCallback.prototype={};c.EventCallback.prototype.constructor=c.EventCallback;c.EventCallback.getEventCallback=
 function(b,e,d){for(var f,g=0;g<b.length;g++)if(f=b[g],f._name===e&&f._type===d)return f;for(g=0;g<b.length;g++)if(f=b[g],f._type===c.EVENT_TYPE_GENERIC){if(e=c.EventCallback.newEventCallback(f._context,e,d))e._url=f._url,e._slot=f._slot,e._adInstance=f._adInstance,b.push(e);return e}return null};c.EventCallback.newEventCallback=function(b,e,d){if(d===c.EVENT_TYPE_GENERIC)b=new c.EventCallback(b);else if(d===c.EVENT_TYPE_ERROR)b=new c.ErrorEventCallback(b);else if(d===c.EVENT_TYPE_CLICK)b=new c.AdClickEventCallback(b);
 else if(d===c.EVENT_TYPE_STANDARD)b=new c.AdStandardEventCallback(b);else if(e===c.EVENT_SLOT_IMPRESSION||e===c.EVENT_SLOT_END)b=new c.SlotImpressionEventCallback(b);else if(e===c.EVENT_AD_IMPRESSION||e===c.EVENT_AD_IMPRESSION_END)b=new c.AdImpressionEventCallback(b);else if(e===c.EVENT_VIDEO_VIEW)b=new c.VideoViewEventCallback(b);else if(e===c.EVENT_RESELLER_NO_AD)b=new c.ResellerNoAdEventCallback(b);else if(e===c.EVENT_AD_FIRST_QUARTILE||e===c.EVENT_AD_MIDPOINT||e===c.EVENT_AD_THIRD_QUARTILE||e===
 c.EVENT_AD_COMPLETE)b=new c.AdQuartileEventCallback(b);else return null;b._name=e;b._type=d;return b};c.EventCallback.getShortType=function(b){var e="";switch(b){case c.EVENT_TYPE_IMPRESSION:e=c.SHORT_EVENT_TYPE_IMPRESSION;break;case c.EVENT_TYPE_CLICK:e=c.SHORT_EVENT_TYPE_CLICK;break;case c.EVENT_TYPE_STANDARD:e=c.SHORT_EVENT_TYPE_STANDARD;break;case c.EVENT_TYPE_ERROR:e=c.SHORT_EVENT_TYPE_ERROR}return e};c.Util.mixin(c.EventCallback.prototype,{parse:function(b){if(b){this._usage=b.use;this._type=
 b.type;this._name=b.name;this._url=b.url;this._showBrowser=b.showBrowser;this._trackingUrls=[];var c=0;for(b=b.trackingUrls||[];c<b.length;c++)this._trackingUrls.push(b[c].value)}},copy:function(){var b=new this.constructor(this._context);b._type=this._type;b._name=this._name;b._url=this._url;b._showBrowser=this._showBrowser;b._trackingUrls=this._trackingUrls.slice();b._slot=this._slot;b._adInstance=this._adInstance;return b},getUrl:function(b){var e=this._replaceMacrosInUrl(this._url,b);this._name===
 c.EVENT_AD_MEASUREMENT?(e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_ET,c.SHORT_EVENT_TYPE_IMPRESSION),e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_CONCRETE_EVENT_ID,b[c.INFO_KEY_CONCRETE_EVENT_ID])):e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_ET,c.EventCallback.getShortType(this._type));e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_CN,this._name);this._adInstance&&0<this._adInstance._creativeRenditionId&&(e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_CREATIVE_RENDITION_ID,this._adInstance._creativeRenditionId));
 return e},getTrackingUrls:function(b){var e=this._trackingUrls;if(this._adInstance){var d=this._type;d===c.EVENT_TYPE_CLICK&&(d=c.EVENT_TYPE_CLICK_TRACKING);e=e.concat(this._adInstance.getExternalEventCallbackUrls(this._name,d))}d=[];for(var f=0;f<e.length;f++){var g=c.Util.trim(this._replaceMacrosInUrl(e[f],b));c.Util.isBlank(g)||d.push(g)}return d},process:function(b){b=b||{};this._processTrackingUrls(b);c.Util.pingURL(this.getUrl(b))},_processTrackingUrls:function(b){this._shouldSkipSendingTrackingAndExternalUrls()||
 c.Util.pingURLs(this.getTrackingUrls(b))},_shouldSkipSendingTrackingAndExternalUrls:function(){return!1},_needEmptyCT:function(b){var e=!1;b&&!0===b[c.INFO_KEY_NEED_EMPTY_CT]&&(e=!0);return e},_getAdPlayheadTime:function(){var b=-1;this._adInstance&&(b=this._adInstance.getPlayheadTime());return b},_getCreativeAssetLocation:function(){var b=null;this._adInstance&&this._adInstance.getActiveCreativeRendition()&&this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset()&&(b=this._adInstance.getActiveCreativeRendition().getPrimaryCreativeRenditionAsset().getProxiedUrl());
 return b},_getParameter:function(b){return this._adInstance?this._adInstance._rendererController.getParameter(b):this._slot?this._slot.getParameter(b):this._context.getParameter(b)},_replaceVASTMacro:function(b,e,d){c.log("replace VAST Macro: url=",b+", macro="+e+", value="+d);b&&e&&(d=encodeURIComponent(d?d:""),b=b.replace("["+e+"]",d),b=b.replace("%5B"+e+"%5D",d));return b},_replaceMacrosInUrl:function(b,e){if(c.Util.isBlank(b))return b;e&&e[c.INFO_KEY_VAST_ERROR_CODE]&&(b=this._replaceVASTMacro(b,
 "ERRORCODE",e[c.INFO_KEY_VAST_ERROR_CODE]));this._getCreativeAssetLocation()&&(b=this._replaceVASTMacro(b,"ASSETURI",this._getCreativeAssetLocation()));var d=this._context._getContentPlayheadTime();this._adInstance&&(e=null!=d&&0<=Number(d)?c.Util.secondsToHms(d):"",b=this._replaceVASTMacro(b,"CONTENTPLAYHEAD",e),b=this._replaceVASTMacro(b,"CACHEBUSTING",c.Util.getFixedDigitRandomNumber(8)),b=this._replaceVASTMacro(b,"TIMESTAMP",c.Util.getDateStringInISOFormat(new Date)));b=b.replace(/#(ce?)\{([^\}]+)\}/g,
 c.Util.bind(this,function(b,e,k){c.log("matchedSubString"+b);b="ce"===e;e=null;switch(k){case "ad.playheadTime":k=this._getAdPlayheadTime();e=0<=k?Math.round(k)+"":"";break;case "content.playheadTime":e=0<=d?Math.round(d)+"":"";break;case "creative.assetLocation":e=this._getCreativeAssetLocation();break;default:0===k.indexOf("parameter.")&&(e=this._getParameter(k.substr(10)))}c.Util.isBlank(e)&&(e="");return b?encodeURIComponent(e):e}));e="";try{e=c.Util.getParameterInURL(b,c.URL_PARAMETER_KEY_CR)}catch(f){return c.warn(f),
 b}c.Util.isBlank(e)||(b=c.Util.setParameterInURL(b,c.URL_PARAMETER_KEY_CR,this._replaceMacrosInUrl(e)));return b}});c.AdClickEventCallback=function(b){c.EventCallback.call(this,b)};c.AdClickEventCallback.prototype=new c.EventCallback;c.AdClickEventCallback.prototype.constructor=c.AdClickEventCallback;c.Util.mixin(c.AdClickEventCallback.prototype,{getUrl:function(b){var e=c.EventCallback.prototype.getUrl.call(this,b);b[c.INFO_KEY_URL]&&(c.Util.isParameterInURL(e,c.URL_PARAMETER_KEY_CR)||(e=e+"&"+c.URL_PARAMETER_KEY_CR+
 "="),e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_CR,b[c.INFO_KEY_URL]));return e},process:function(b){b=b||{};var e=this.getUrl(b),d=!0===this._showBrowser;d=b.hasOwnProperty(c.INFO_KEY_SHOW_BROWSER)?!0===b[c.INFO_KEY_SHOW_BROWSER]:d;b[c.INFO_KEY_URL]&&(d=!0);d&&!c.Util.isBlank(e)?(window.open(e),this._processTrackingUrls(b)):c.EventCallback.prototype.process.call(this,b)}});c.AdImpressionEventCallback=function(b){c.EventCallback.call(this,b)};c.AdImpressionEventCallback.prototype=new c.EventCallback;
 c.AdImpressionEventCallback.prototype.constructor=c.AdImpressionEventCallback;c.Util.mixin(c.AdImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==c.INIT_VALUE_ONE},_getInitValue:function(){return this._adInstance.getSlot().isPauseSlot()||!this._processed?c.INIT_VALUE_ONE:c.INIT_VALUE_TWO},getUrl:function(b){var e=c.EventCallback.prototype.getUrl.call(this,b);e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_METR,this._adInstance._metr);
 this._name!==c.EVENT_AD_IMPRESSION&&(e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_CT,this._needEmptyCT(b)?"":this._adInstance._timer.tick()));return e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(b){c.MODULE_TYPE_TRANSLATOR!==this._adInstance.getRendererController().getRenderer().info()[c.INFO_KEY_MODULE_TYPE]&&(c.EventCallback.prototype.process.call(this,b),this._processed=!0)}});c.AdQuartileEventCallback=function(b){c.EventCallback.call(this,b)};
 c.AdQuartileEventCallback.prototype=new c.EventCallback;c.AdQuartileEventCallback.prototype.constructor=c.AdQuartileEventCallback;c.Util.mixin(c.AdQuartileEventCallback.prototype,{getUrl:function(b){var e=c.EventCallback.prototype.getUrl.call(this,b);e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_METR,this._adInstance._metr);return e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_CT,this._needEmptyCT(b)?"":this._adInstance._timer.tick())},process:function(b){this._processed||(c.EventCallback.prototype.process.call(this,
 b),this._processed=!0)}});c.AdStandardEventCallback=function(b){c.EventCallback.call(this,b)};c.AdStandardEventCallback.prototype=new c.EventCallback;c.AdStandardEventCallback.prototype.constructor=c.AdStandardEventCallback;c.ErrorEventCallback=function(b){c.EventCallback.call(this,b)};c.ErrorEventCallback.prototype=new c.EventCallback;c.ErrorEventCallback.prototype.constructor=c.ErrorEventCallback;c.Util.mixin(c.ErrorEventCallback.prototype,{getUrl:function(b){var e=c.EventCallback.prototype.getUrl.call(this,
 b),d=b[c.INFO_KEY_ERROR_CODE];d||(d=c.ERROR_UNKNOWN);var f=b[c.INFO_KEY_ERROR_INFO];f||(f="");(b=b[c.INFO_KEY_ERROR_MODULE])||(b="");e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_CN,d);return e=c.Util.setParameterInURL(e,c.URL_PARAMETER_KEY_KEY_VALUE,encodeURIComponent(c.URL_PARAMETER_KEY_ERROR_MODULE)+"="+encodeURIComponent(b)+"&"+encodeURIComponent(c.URL_PARAMETER_KEY_ERROR_INFO)+"="+c.PLATFORM_ID+"/"+encodeURIComponent(f))}});c.ResellerNoAdEventCallback=function(b){c.EventCallback.call(this,
 b)};c.ResellerNoAdEventCallback.prototype=new c.EventCallback;c.ResellerNoAdEventCallback.prototype.constructor=c.ResellerNoAdEventCallback;c.Util.mixin(c.ResellerNoAdEventCallback.prototype,{});c.SlotImpressionEventCallback=function(b){c.EventCallback.call(this,b)};c.SlotImpressionEventCallback.prototype=new c.EventCallback;c.SlotImpressionEventCallback.prototype.constructor=c.SlotImpressionEventCallback;c.Util.mixin(c.SlotImpressionEventCallback.prototype,{_shouldSkipSendingTrackingAndExternalUrls:function(){return this._getInitValue()!==
 c.INIT_VALUE_ONE},_getInitValue:function(){return this._slot.isPauseSlot()||!this._processed?c.INIT_VALUE_ONE:c.INIT_VALUE_TWO},getUrl:function(b){b=c.EventCallback.prototype.getUrl.call(this,b);return b=c.Util.setParameterInURL(b,c.URL_PARAMETER_KEY_INIT,this._getInitValue())},process:function(b){c.EventCallback.prototype.process.call(this,b);this._processed=!0}});c.VideoViewEventCallback=function(b){c.EventCallback.call(this,b)};c.VideoViewEventCallback.prototype=new c.EventCallback;c.VideoViewEventCallback.prototype.constructor=
 c.VideoViewEventCallback;c.Util.mixin(c.VideoViewEventCallback.prototype,{_getInitValue:function(){return this._processed?c.INIT_VALUE_ZERO:c.INIT_VALUE_ONE},_getCTValue:function(){return this._context._videoAsset.getPlayheadTime()},getUrl:function(b){b=c.EventCallback.prototype.getUrl.call(this,b);b=c.Util.setParameterInURL(b,c.URL_PARAMETER_KEY_INIT,this._getInitValue());return b=c.Util.setParameterInURL(b,c.URL_PARAMETER_KEY_CT,this._getCTValue())},_shouldSkipSendingTrackingAndExternalUrls:function(){return this._processed},
 process:function(b){c.EventCallback.prototype.process.call(this,b);this._processed=!0}});c.VideoRenderer=function(){this._adVideo=null;this._duration=this._playheadTime=-1;this._dragging=this._stopInvoked=this._isEnded=!1;this._volume=1;this._rendererController=null;this._isBuffering=!1;this._autoPauseAdOnVisibilityChange=!0};c.VideoRenderer.prototype={pause:function(){this._rendererController&&this._rendererController.processEvent({name:c.EVENT_AD_PAUSE});this._adVideo&&!this._adVideo.paused&&this._adVideo.pause()},
 resume:function(){this._rendererController&&this._rendererController.processEvent({name:c.EVENT_AD_RESUME});this._adVideo&&this._adVideo.paused&&this._adVideo.play()},start:function(b){this._rendererController=b;b=this._rendererController.getAdInstance();var e=b.getSlot(),d=this,f=!1,g=!1,k=!1;this._autoPauseAdOnVisibilityChange=this._rendererController.getParameter(c.PARAMETER_AUTO_PAUSE_AD_ONVISIBILITYCHANGE);if(c.PLATFORM_NOT_SUPPORT_VIDEO_AD)this._onRendererFailed(c.ERROR_DEVICE_LIMIT,e.getTimePositionClass());
 else if(c.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&e.getTimePositionClass()===c.TIME_POSITION_CLASS_MIDROLL)this._onRendererFailed(c.ERROR_DEVICE_LIMIT,"midroll");else{c.log("VideoRenderer.start",e.getTimePositionClass(),b);var h=this._rendererController.getContentVideoElement(),l=e.getVideoDisplaySize().width,p=e.getVideoDisplaySize().height,n=b.getRenderableCreativeRenditions(),m=(l=(new c.RenditionSelector(this._rendererController.getParameter(c.PARAMETER_DESIRED_BITRATE)||1E3,this._rendererController.getParameter("arWeight")||
 1,this._rendererController.getParameter("pxWeight")||1,.2)).getBestFitRendition(n,l,p))?l.getPrimaryCreativeRenditionAsset():null;if(m&&n.length)if(n=m.getProxiedUrl()){b.setActiveCreativeRendition(l);c.log("VideoRenderer.start selected rendition is:",n);this._rendererController.setCapability(c.EVENT_AD_QUARTILE,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_MUTE,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_PAUSE,c.CAPABILITY_STATUS_ON);var t=
 !c.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO;t||this._rendererController.setCapability(c.EVENT_AD_CLICK,c.CAPABILITY_STATUS_OFF);var r=c.PLATFORM_EVENT_CLICK,u=c.MOBILE_EVENT_DRAG;c.debug("VideoRenderer","use content video element");h.controls=!1;this._adVideo=h;var q=null,v=null,D=null;this._volume=this._rendererController.getContext().getAdVolume();this._adVideo.volume=this._volume;this._adVideo.muted=0===this._volume;var K=function(b){c.debug("VideoRenderer.checkTimeUpdate timeout");N(b)},H=function(){v&&
 (clearTimeout(v),v=null)},S=c.Util.bind(this,function(b){c.debug("onAdVideoBufferEmpty(): Ad video event "+b.type);b=this._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED);null!==b&&"undefined"!==typeof b&&!1!==c.Util.str2bool(b)&&(c.debug("play the ad immediately after the stalled event"),h&&h._fw_videoAdPlaying&&h.play())}),L=function(b){d._isBuffering||(d._isBuffering=!0,d._rendererController.processEvent({name:c.EVENT_AD_BUFFERING_START}),c.debug("onAdVideoBufferingStarted(): Ad video event "+
 b.type))},y=function(b){d._isBuffering&&(d._isBuffering=!1,d._rendererController.processEvent({name:c.EVENT_AD_BUFFERING_END}),c.debug("onAdVideoBufferingEnded(): Ad video event "+b.type))};b=this._rendererController.getParameter(c.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT);var G=null;b&&(G=document.getElementById(b));G||(G=h);var F=c.Util.bind(this,function(b){if(h.paused&&c.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED)h.play();else{var d=this._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION);
 null==d&&(d="true");!1!==c.Util.str2bool(d)&&(g?(c.debug("Ad video event "+b.type),this._dragging?this._dragging=!1:this._rendererController.processEvent({name:c.EVENT_AD_CLICK})):c.debug("Ad not started, ignore click."))}}),E=c.Util.bind(this,function(b){c.debug("Ad video event "+b.type);this._dragging=!0}),x,z=function(b){c.debug("Ad video event "+b.type+" ended: "+h.ended+" playing:"+h._fw_videoAdPlaying);if(h.ended&&.2>Math.abs(h.duration-h.currentTime)||!h._fw_videoAdPlaying)x=setTimeout(function(){c.warn("Force ad video end bc ad paused with ended = true");
 b.type="ended";J(b)},200);else{var e=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE);null==e&&(e="true");!1===c.Util.str2bool(e)?c.debug("Pause controls disabled"):h.controls=!0;H()}},B=function(b){c.debug("Ad video event "+b.type);h.controls=!1},w=0,C=function(b){c.debug("Ad video event "+b.type);0>=h.currentTime?c.debug("VideoRenderer.onAdVideoTimeUpdate currentTime is less than or 0"):(H(),h.paused||(b=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT)||
 8E3,v=setTimeout(K,b,b+"ms timeout when playing")),g||(g=!0,d._playheadTime=h.currentTime,0>d._playheadTime&&(d._playheadTime=0),q&&(clearTimeout(q),q=null),d._quartileTimerId=setInterval(function(){var b=h.currentTime,e=h.duration;0<b&&(d._playheadTime=b);0<e&&(d._duration=e);"number"!==typeof b||"number"!==typeof e||D||(b>=.25*e&&1>w&&(d._rendererController.processEvent({name:c.EVENT_AD_FIRST_QUARTILE}),w=1),b>=.5*e&&2>w&&(d._rendererController.processEvent({name:c.EVENT_AD_MIDPOINT}),w=2),b>=.75*
 e&&3>w&&(clearInterval(d._quartileTimerId),d._quartileTimerId=null,d._rendererController.processEvent({name:c.EVENT_AD_THIRD_QUARTILE}),w=3))},1E3),d._rendererController.handleStateTransition(c.RENDERER_STATE_STARTED)))};this.dispose=c.Util.bind(this,function(){J()});var J=function(b){var e=D;b&&b.type&&(c.debug("Ad video event "+b.type),"error"===b.type&&(c.warn(b.target.src),c.warn(b.target.currentSrc),y(b)));H();q&&(clearTimeout(q),q=null);t&&(G.removeEventListener(r,F,!1),G.removeEventListener(u,
 E,!1));x&&(clearTimeout(x),x=null);I&&d._autoPauseAdOnVisibilityChange&&(document.removeEventListener("visibilitychange",I,!1),I=null);h.removeEventListener("ended",J,!1);h.removeEventListener("error",J,!0);h.removeEventListener("pause",z,!1);h.removeEventListener("playing",B,!1);h.removeEventListener("timeupdate",C,!1);h.removeEventListener("stalled",S,!1);h.removeEventListener("waiting",L,!1);h.removeEventListener("canplay",y,!1);h.paused||(c.debug("try pausing video before complete"),h.pause());
 b&&"error"===b.type&&(e="video error",(b=h.error||b.target.error)&&(e="error:"+b+",code:"+b.code));e||(d._isEnded=!0);c.log("VideoRenderer.complete");f||(f=!0,delete h._fw_videoAdPlaying,d._adVideo=null,d._quartileTimerId&&(clearInterval(d._quartileTimerId),d._quartileTimerId=null),e?d._onRendererFailed(null,e):(d._stopInvoked||(h.currentTime>=.25*h.duration&&1>w&&(d._rendererController.processEvent({name:c.EVENT_AD_FIRST_QUARTILE}),w=1),h.currentTime>=.5*h.duration&&2>w&&(d._rendererController.processEvent({name:c.EVENT_AD_MIDPOINT}),
 w=2),h.currentTime>=.75*h.duration&&3>w&&(d._rendererController.processEvent({name:c.EVENT_AD_THIRD_QUARTILE}),w=3),h.currentTime>=h.duration-.5&&4>w&&(d._rendererController.processEvent({name:c.EVENT_AD_COMPLETE}),w=4)),d._stopInvoked=!1,d._rendererController.handleStateTransition(c.RENDERER_STATE_COMPLETED)));d._rendererController=null};var N=function(b){D=b;c.warn(D);c.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT||J()},I=function(b){c.log("onVisibilityChange:"+(document.hidden?"invisible":"visible"));document.hidden?
 h&&!h.paused&&(h.pause(),k=!0,d._rendererController&&d._rendererController.processEvent({name:c.EVENT_AD_PAUSE}),q&&(clearTimeout(q),q=null)):h&&h.paused&&k&&(h.play(),k=!1,d._rendererController&&d._rendererController.processEvent({name:c.EVENT_AD_RESUME}),g||!h._fw_fromVideoPool&&!c.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT||(b=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5E3,q=setTimeout(N,b,b+"ms timeout before playing")))};h._fw_videoAdPlaying=!0;var O=
 !1,V=function(){if(!O){O=!0;t&&(G.addEventListener(r,F,!1),G.addEventListener(u,E,!1));h.addEventListener("ended",J,!1);h.addEventListener("error",J,!0);h.addEventListener("pause",z,!1);h.addEventListener("playing",B,!1);h.addEventListener("timeupdate",C,!1);h.addEventListener("stalled",S,!1);h.addEventListener("waiting",L,!1);h.addEventListener("canplay",y,!1);h.src=m.getProxiedUrl();c.log("VideoRenderer play video ad "+h.src);h.load();if(h._fw_fromVideoPool||c.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT){var b=
 d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5E3;q=setTimeout(N,b,b+"ms timeout before playing")}c.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE&&d._rendererController.handleStateTransition(c.RENDERER_STATE_STARTED);b=100;0<c.PLATFORM_ANDROID_VERSION&&(b=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY)||100);setTimeout(function(){var b=h.play();b&&c.PLATFORM_BLOCKS_AUTOPLAY&&b.catch(function(b){if(b&&"AbortError"===b.name||"NotAllowedError"===
 b.name)c.warn("Blocked by browser, need player to display a start button. Details: %o",b),q&&(clearTimeout(q),q=null),e.setAutoPlayBlocked(!0),d._rendererController.processEvent({name:c.EVENT_AD_AUTO_PLAY_BLOCKED,info:{apiOnly:!0}})});document.hidden&&h&&d._autoPauseAdOnVisibilityChange&&(c.log("VideoRenderer pause ad when tab is invisible."),h&&!h.paused&&(h.pause(),k=!0,d._rendererController&&d._rendererController.processEvent({name:c.EVENT_AD_PAUSE})),q&&(clearTimeout(q),q=null))},b);d._autoPauseAdOnVisibilityChange&&
 document.addEventListener("visibilitychange",I,!1)}};c.VideoRenderer._fw_playedDummyVideo||e.getTimePositionClass()!==c.TIME_POSITION_CLASS_PREROLL||!c.PLATFORM_PLAY_DUMMY_VIDEO_FOR_PREROLL||/\.webm$/.test(m.getProxiedUrl())?V():(c.VideoRenderer._fw_playedDummyVideo=!0,c.debug("play dummy video for iOS 3.2-4.1"),h.src="http://127.0.0.1:1/404.mp4",h.load(),h.play(),h._fw_videoAdPlaying=!0,h.addEventListener("error",function(){event.target.removeEventListener("error",h,!0);V()},!0),setTimeout(V,c.PLATFORM_NOT_WAIT_FOR_ERROR_WHEN_PLAY_DUMMY_VIDEO_FOR_PREROLL?
 500:5E3))}else this._onRendererFailed(c.ERROR_NULL_ASSET);else this._onRendererFailed(c.ERROR_DEVICE_LIMIT,"no compatible asset")}},stop:function(){c.debug("VideoRenderer stop");this._stopInvoked=!0;this._adVideo&&(this._adVideo._fw_videoAdPlaying=!1,this._adVideo.pause(),this.dispose());this._rendererController=null},info:function(){return{moduleType:c.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){if(this._isEnded&&0<this._duration)return this._duration;if(this._adVideo){var b=this._adVideo.currentTime;
 if(0<b)return b}return this._playheadTime},getDuration:function(){return this._duration},setVolume:function(b){c.debug("VideoRenderer setVolume("+b+")");this._adVideo?(this._adVideo.volume=b,this._adVideo.muted=0===b,this._volume!==b&&this._rendererController.processEvent({name:c.EVENT_AD_VOLUME_CHANGE}),0===this._volume&&0!==b?this._rendererController.processEvent({name:c.EVENT_AD_UNMUTE}):0!==this._volume&&0===b&&this._rendererController.processEvent({name:c.EVENT_AD_MUTE}),this._volume=b):c.debug("VideoRenderer ad video is null, ignore.")},
 _onRendererFailed:function(b,e,d){var f={};f[c.INFO_KEY_ERROR_MODULE]="VideoRenderer";f[c.INFO_KEY_ERROR_CODE]=b;d||(d=c.ERROR_VAST_GENERAL_LINEAR_ERROR);f[c.INFO_KEY_VAST_ERROR_CODE]=d;e&&(f[c.INFO_KEY_ERROR_INFO]=e);this._rendererController.handleStateTransition(c.RENDERER_STATE_FAILED,f)}};c.VideoRenderer.prototype.constructor=c.VideoRenderer;c.AdRequest=function(b){this._context=b;this._capabilities=new c.Capabilities;this._keyValues=[];this._playerProfile="";this._compatibleDimensions=null;this._temporalSlots=
 [];this._siteSectionId=this._siteSectionCustomId="";this._siteSectionNetworkId=0;this._siteSectionFallbackId="";this._siteSectionViewRandom=0;this._requestMode=this._visitorIpV4Address=this._visitorCustomId="";this._subsessionToken=this._requestDuration=0;this._candidateAdIds=[];this._slotScanner=new c.PageSlotScanner(b);this._urlParams={};this._urlKeyValues=[];this._customInfo=""};c.AdRequest.prototype={setCapability:function(b,c){this._capabilities.setCapability(b,c)},addKeyValue:function(b,e){"string"!==
 typeof b||"string"!==typeof e||0===b.length?c.warn("AdRequest.addKeyValue:","key and value required"):(b=encodeURIComponent(b)+"="+encodeURIComponent(e),0>this._keyValues.indexOf(b)&&this._keyValues.push(b))},removeKey:function(b){if("string"!==typeof b||0===b.length)c.warn("AdRequest.removeKey:","key required");else{b=encodeURIComponent(b);for(var e=this._keyValues,d=e.length-1;0<=d;--d)e[d].split("=")[0]===b&&this._keyValues.splice(d,1)}},setProfile:function(b){"string"!==typeof b?c.warn("AdRequest.setProfile:",
 "player profile required"):this._playerProfile=b},setVideoDisplayCompatibleSizes:function(b){if(b&&b.length){for(var e=[],d={},f=0;f<b.length;++f)if(c.debug("dimension is:",b[f].width,"X",b[f].height),0<b[f].width&&0<b[f].height){var g=b[f].width+","+b[f].height;null==d[g]&&(d[g]="",e.push(g))}0<e.length&&(this._compatibleDimensions=e.join("|"))}else c.warn("AdRequest.setVideoDisplayCompatibleSizes:","compatible dimensions required")},setSiteSection:function(b,e,d,f,g){if(b){switch(f){case c.ID_TYPE_FW:this._siteSectionId=
 b;break;case c.ID_TYPE_GROUP:this._siteSectionId="g"+b;break;default:this._siteSectionCustomId=b}0<1*e&&(this._siteSectionNetworkId=1*e);0<1*d&&(this._siteSectionViewRandom=1*d);"number"===typeof g&&0<g?this._siteSectionFallbackId=""+g:"string"===typeof g&&(this._siteSectionFallbackId=g.trim())}else c.warn("AdRequest.setSiteSection: id required")},setVisitor:function(b,e){"string"!==typeof b?c.warn("AdRequest.setVisitor:","customId required"):(this._visitorCustomId=b,"string"===typeof e&&""!==e&&
 (this._visitorIpV4Address=e))},setRequestMode:function(b){b!==c.REQUEST_MODE_ON_DEMAND&&b!==c.REQUEST_MODE_LIVE?c.warn("AdRequest.setRequestMode:","unknown mode: "+b):(this._requestMode=b,this._requestMode===c.REQUEST_MODE_LIVE&&0===this._subsessionToken&&this.setSubsessionToken(1E4*Math.random()+1))},setRequestDuration:function(b){"number"!==typeof b?c.warn("AdRequest.setRequestDuration:","request duration required"):(0>b&&(c.warn("AdRequest.setRequestDuration:","requestDuration is negative, reset it to 0"),
 b=0),this._requestDuration=b)},addCandidateAd:function(b){"number"!==typeof b?c.warn("AdRequest.addCandidateAd:","candidate ad ID required"):0>b?c.warn("AdRequest.addCandidateAd","invalid ad ID, ignore"):this._candidateAdIds.push(b)},addTemporalSlot:function(b,e,d,f,g,k,h,l,p){if(c.Util.isBlank(b)||c.Util.isBlank(e)||0>d)c.warn("AdRequest.addTemporalSlot:","invalid parameters");else{for(var n=0;n<this._temporalSlots.length;n++)if(this._temporalSlots[n].getCustomId()===b){c.warn("AdRequest.addTemporalSlot:",
 "slot with custom Id: "+b+" is already added, ignoring the duplicate addition");return}n=new c.Slot(this._context);n.setCustomId(b);n.setAdUnit(e);n.setTimePosition(d);n.setSlotProfile(f);n.setCuepointSequence(1*g);n.setMaxDuration(k);n.setMinDuration(h);n.setAcceptContentType(l);n.setSignalId(p);this._temporalSlots.push(n)}},setSubsessionToken:function(b){this._subsessionToken=b},scanPageSlots:function(){this._slotScanner.scanPageSlots()},generateTypeBRequestUrl:function(){var b=this._context._adManager._serverURL.split("?"),
 e=b[0],d=[/fwmrm\.net$/,/fwmrm\.net\/$/,/fwmrm\.net\/ad$/,/fwmrm\.net\/ad\/$/,/fwmrm\.net\/ad\/g$/,/fwmrm\.net\/ad\/g\/$/,/fwmrm\.net\/ad\/g\/1$/];if(0===e.indexOf("http://")||0===e.indexOf("https://"))for(var f=0;f<d.length;++f)if(e.match(d[f])){e=e.slice(0,e.indexOf("fwmrm.net")+9)+"/ad/g/1";break}this.parseQueryStr(b.slice(1).join("?"));b=this.generateGlobalParametersQueryStr()+";"+this.generateKeyValuesStr()+";";this._capabilities.getCapability(c.CAPABILITY_SKIP_AD_SELECTION)&&1===this._capabilities.getCapability(c.CAPABILITY_SKIP_AD_SELECTION)||
 (b+=this.generateSlotsTypeBStr());c.Util.isBlank(this._customInfo)||(b+=";"+this._customInfo);return e+"?"+b},generateVideoViewRequestUrlWithDummyContextInstanceId:function(b){this._context.setCapability(c.CAPABILITY_REQUIRE_VIDEO_CALLBACK,c.CAPABILITY_STATUS_ON);this._context.setCapability(c.CAPABILITY_SKIP_AD_SELECTION,c.CAPABILITY_STATUS_ON);var e=this.generateTypeBRequestUrl();e=c.Util.setParameterInURL(e,"cbfn","tv.freewheel.SDK._instanceQueue['Context_"+b+"']._videoAsset.requestComplete");c.debug("generateVideoViewRequestUrlWithDummyContextInstanceId():"+
 e);this._context.setCapability(c.CAPABILITY_REQUIRE_VIDEO_CALLBACK,c.CAPABILITY_STATUS_UNSET);this._context.setCapability(c.CAPABILITY_SKIP_AD_SELECTION,c.CAPABILITY_STATUS_UNSET);return e},parseQueryStr:function(b){var e=b;c.debug("AdRequest.parseQueryStr("+Array.prototype.slice.call(arguments).join(",")+")");this._urlParams={};this._urlKeyValues=[];this._customInfo="";if(e){";"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));e=e.split(";");var d;if(e[0]){var f=e[0].split("&");for(d=0;d<f.length;++d){var g=
 f[d].split("=");2===g.length&&(this._urlParams[g[0]]=g[1])}}if(e[1])for(f=e[1].split("&"),d=0;d<f.length;++d)this._urlKeyValues.push(f[d]);e[2]&&(this._customInfo=e.slice(2).join(";"))}},generateGlobalParametersQueryStr:function(){c.debug("AdRequest.generateGlobalParametersQueryStr");var b=this._context.getParameter("wrapperVersion");b=[["prof",this._playerProfile,"string"],["nw",this._context._adManager._networkId,"number"],["caid",this._context._videoAsset._customId,"string"],["asid",this._context._videoAsset._id,
 "string"],["vdur",this._context._videoAsset._duration,"number"],["asnw",this._context._videoAsset._networkId,"number"],["asml",this._context._videoAsset._location,"string"],["vprn",this._context._videoAsset._viewRandom,"number"],["afid",this._context._videoAsset._fallbackId,"string"],["vdty",this._context._videoAsset._durationType,"string"],["vtpo",this._context._videoAsset._currentTpos,"number"],["csid",this._siteSectionCustomId,"string"],["ssid",this._siteSectionId,"string"],["ssnw",this._siteSectionNetworkId,
 "number"],["pvrn",this._siteSectionViewRandom,"number"],["sfid",this._siteSectionFallbackId,"string"],["vcid",this._visitorCustomId,"string"],["mode",this._requestMode,"string"],["vrdu",this._requestDuration,"number"],["ssto",this._subsessionToken,"number"],["cd",this._compatibleDimensions||this.detectScreenDimension(),"string"],["vclr",c.version+(b?","+b:""),"string"],["resp",c.PLATFORM_SEND_REQUEST_BY_FORM?"json2":"json","string"],["orig",window.location.protocol+"//"+window.location.host,"string"],
 ["cbfn","tv.freewheel.SDK._instanceQueue['Context_"+this._context._instanceId+"'].requestComplete","string"],["vip",this._visitorIpV4Address,"string"],["cana",this._candidateAdIds.join(","),"string"]];for(var e=0;e<b.length;e++){var d=b[e];switch(d[2]){case "string":c.Util.isBlank(d[1])||(this._urlParams[d[0]]=encodeURIComponent(d[1]));break;case "number":0<d[1]&&(this._urlParams[d[0]]=d[1])}}b="";for(var f in this._urlParams)this._urlParams.hasOwnProperty(f)&&(b+=f+"="+this._urlParams[f]+"&");b=
 b.substring(0,b.length-1);0<this._slotScanner._candidateAds.length&&(null==this._capabilities._capabilities[c.CAPABILITY_CHECK_COMPANION]&&this._capabilities.setCapability(c.CAPABILITY_CHECK_COMPANION,c.CAPABILITY_STATUS_ON),null==this._capabilities._capabilities[c.CAPABILITY_CHECK_TARGETING]&&this._capabilities.setCapability(c.CAPABILITY_CHECK_TARGETING,c.CAPABILITY_STATUS_OFF));this._context._videoAsset._eventCallback||this._context._videoAsset._requestedVideoViewUrl||!this._context._videoAsset._id&&
 !this._context._videoAsset._customId||this._context.setCapability(c.CAPABILITY_REQUIRE_VIDEO_CALLBACK,c.CAPABILITY_STATUS_ON);this._capabilities._capabilities[c.CAPABILITY_DISPLAY_REFRESH]&&this._context.setCapability(c.CAPABILITY_REQUIRE_VIDEO_CALLBACK,c.CAPABILITY_STATUS_OFF);b=this._capabilities.parseCapabilities(b);this._context.setCapability(c.CAPABILITY_REQUIRE_VIDEO_CALLBACK,c.CAPABILITY_STATUS_UNSET);switch(this._context._videoAsset._autoPlayType){case c.VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED:f=
 "+play+uapl";break;case c.VIDEO_ASSET_AUTO_PLAY_TYPE_NONE:f="-play";break;default:f="+play-uapl"}return b=b.replace(/flag=/,"flag="+encodeURIComponent(f))},generateKeyValuesStr:function(){c.debug("AdRequest.generateKeyValuesStr");var b=c.Util.flashVersion();b=this._keyValues.concat(["_fw_h_x_flash_version="+encodeURIComponent(b),"_fw_dpr="+(void 0===window.devicePixelRatio?"1":window.devicePixelRatio.toFixed(2).toString())]);for(var e=0;e<this._urlKeyValues.length;e++){var d=this._urlKeyValues[e];
 0>b.indexOf(d)&&b.push(d)}(e=this._context._adManager._location)&&b.push("ltlg="+encodeURIComponent(Math.round(1E4*e.coords.latitude)/1E4+","+Math.round(1E4*e.coords.longitude)/1E4));return b.join("&")},generateSlotsTypeBStr:function(){c.debug("AdRequest.generateSlotsTypeBStr");for(var b="",e=[],d=0;d<this._temporalSlots.length;d++){var f=this._temporalSlots[d];f=[["slid",f.getCustomId(),"string"],["slau",f.getAdUnit(),"string"],["ptgt","a","string"],["tpos",f.getTimePosition(),"number"],["cpsq",
 f.getCuepointSequence(),"number"],["envp",f.getSlotProfile(),"string"],["maxd",f.getMaxDuration(),"number"],["mind",f.getMinDuration(),"number"],["prct",f.getAcceptContentType(),"string"],["sgid",f.getSignalId(),"string"]];for(var g=[],k=0;k<f.length;k++){var h=f[k];switch(h[2]){case "string":c.Util.isBlank(h[1])||g.push(h[0]+"="+encodeURIComponent(h[1]));break;case "number":-1<["cpsq","maxd","mind"].indexOf(h[0])?0<h[1]&&g.push(h[0]+"="+h[1]):0<=h[1]&&g.push(h[0]+"="+h[1])}}e.push(g.join("&"))}0<
 e.length&&(b=e.join(";")+";");return b+=this._slotScanner.slotsToTypeBStr()},detectScreenDimension:function(){c.debug("AdRequest.detectScreenDimension:",screen.width+","+screen.height);return screen.width+","+screen.height},useTCFAPI:function(){c.debug("AdRequest.useTCFAPI");if(this._context.getParameter(c.PARAMETER_USE_GDPR_TCFAPI)){var b=this._context._adManager._fwGDPR||"",e=this._context._adManager._fwGDPRConsent||"";this.removeKey("_fw_gdpr");this.removeKey("_fw_gdpr_consent");this.addKeyValue("_fw_gdpr",
 b.toString());this.addKeyValue("_fw_gdpr_consent",e)}},useUSPAPI:function(){c.debug("AdRequest.useUSPAPI");if(this._context.getParameter(c.PARAMETER_USE_CCPA_USPAPI)){var b=this._context._adManager._fwUSPString||"";""!=b&&(this.removeKey("_fw_us_privacy"),this.addKeyValue("_fw_us_privacy",b))}}};c.AdInstance=function(b){this._context=b;this._creativeRenditionId=this._creativeId=this._soAdUnit=this._adId=this._slot=null;this._replicaId="";this._primaryCreativeRendition=this._creative=null;this._creativeRenditions=
 [];this._noLoad=!1;this._companionAdInstances=[];this._eventCallbacks=[];this._externalEventCallbackUrlsDictionary={};this._rendererController=new c.RendererController(b,this);this._timer=new c.Timer;this._metr=0;this._state=c.MediaInitState.instance;this._isStartSuccessfully=this._translated=this._isImpressionSent=this._isInitiatedSent=!1;this._lastDurationFromRenderer=-1;this._slotCustomId=this._parentAdInstancesGroup=null;this._isSkipped=!1;this._wrapperCount=0};c.AdInstance.prototype={};c.AdInstance.prototype.constructor=
 c.AdInstance;c.METR_MASK_QUARTILE=0;c.METR_MASK_MIDPOINT=1;c.METR_MASK_COMPLETE=2;c.METR_MASK_VOLUME=3;c.METR_MASK_SIZE=4;c.METR_MASK_CONTROL=5;c.METR_MASK_REWIND=6;c.METR_MASK_ACCEPT_INVITATION=7;c.METR_MASK_CLOSE=8;c.METR_MASK_MINIMIZE=9;c.METR_MASK_CLICK=10;c.AdInstance._metrDictionary={};c.AdInstance._metrDictionary[c.EVENT_AD_FIRST_QUARTILE]=c.AdInstance._metrDictionary[c.EVENT_AD_THIRD_QUARTILE]=c.AdInstance._metrDictionary[c.EVENT_AD_QUARTILE]=1<<c.METR_MASK_QUARTILE|1<<c.METR_MASK_MIDPOINT|
 1<<c.METR_MASK_COMPLETE;c.AdInstance._metrDictionary[c.EVENT_AD_MIDPOINT]=1<<c.METR_MASK_MIDPOINT|1<<c.METR_MASK_COMPLETE;c.AdInstance._metrDictionary[c.EVENT_AD_COMPLETE]=1<<c.METR_MASK_COMPLETE;c.AdInstance._metrDictionary[c.EVENT_AD_MUTE]=1<<c.METR_MASK_VOLUME;c.AdInstance._metrDictionary[c.EVENT_AD_UNMUTE]=1<<c.METR_MASK_VOLUME;c.AdInstance._metrDictionary[c.EVENT_AD_COLLAPSE]=1<<c.METR_MASK_SIZE;c.AdInstance._metrDictionary[c.EVENT_AD_EXPAND]=1<<c.METR_MASK_SIZE;c.AdInstance._metrDictionary[c.EVENT_AD_PAUSE]=
 1<<c.METR_MASK_CONTROL;c.AdInstance._metrDictionary[c.EVENT_AD_RESUME]=1<<c.METR_MASK_CONTROL;c.AdInstance._metrDictionary[c.EVENT_AD_REWIND]=1<<c.METR_MASK_REWIND;c.AdInstance._metrDictionary[c.EVENT_AD_ACCEPT_INVITATION]=1<<c.METR_MASK_ACCEPT_INVITATION;c.AdInstance._metrDictionary[c.EVENT_AD_CLOSE]=1<<c.METR_MASK_CLOSE;c.AdInstance._metrDictionary[c.EVENT_AD_MINIMIZE]=1<<c.METR_MASK_MINIMIZE;c.AdInstance._metrDictionary[c.EVENT_AD_CLICK]=1<<c.METR_MASK_CLICK;c.Util.mixin(c.AdInstance.prototype,
 {getAdId:function(){return this._adId},getUniversalAdId:function(){return this.getActiveCreativeRendition()?this.getActiveCreativeRendition().getUniversalAdId():null},getSoAdUnit:function(){return this._soAdUnit},getParameter:function(b){var c=[];this._context.getParameter(b)&&c.push(this._context.getParameter(b));this._primaryCreativeRendition.getParameter(b)&&c.push(this._primaryCreativeRendition.getParameter(b));this._creative.getParameter(b)&&c.push(this._creative.getParameter(b));this._slot.getParameter(b)&&
 c.push(this._slot.getParameter(b));return c},getEventCallbackUrls:function(b,e){var d=[],f=e===c.EVENT_TYPE_CLICK,g=e===c.EVENT_TYPE_CLICK_TRACKING;b=c.EventCallback.getEventCallback(this._eventCallbacks,b,g?c.EVENT_TYPE_CLICK:e);if(!b)return d;e={};e[c.INFO_KEY_NEED_EMPTY_CT]=!0;f?b._showBrowser&&d.push(b.getUrl(e)):g?b._showBrowser||d.push(b.getUrl(e)):d.push(b.getUrl(e));f||(d=d.concat(b.getTrackingUrls()));return d},addEventCallbackUrls:function(b,c,d){d&&this._isValidEventNameAndType(b,c)&&(this._externalEventCallbackUrlsDictionary[c+
 "-"+b]=this.getExternalEventCallbackUrls(b,c).concat(d))},setClickThroughUrl:function(b,e){e&&this._isValidEventNameAndType(b,c.EVENT_TYPE_CLICK)&&(b=this.getEventCallback(b,c.EVENT_TYPE_CLICK))&&(c.Util.isParameterInURL(b._url,c.URL_PARAMETER_KEY_CR)||(b._url=b._url+"&"+c.URL_PARAMETER_KEY_CR+"="),b._url=c.Util.setParameterInURL(b._url,c.URL_PARAMETER_KEY_CR,e),b._showBrowser=!0)},addCreativeRendition:function(){var b=new c.CreativeRendition;b.parse({creativeRenditionId:this._creativeRenditionId,
 adReplicaId:this._replicaId,preference:0});b.setBaseUnit(this._creative.getBaseUnit());b.setDuration(this._creative.getDuration());this._creativeRenditions.push(b);this.isPlaceholder()&&(this._noLoad=!1);return b},getRendererController:function(){return this._rendererController},getSlot:function(){this._slot||(this._slot=this._context._adResponse.getSlotByCustomId(this._slotCustomId));return this._slot},getCompanionSlots:function(){for(var b=[],c=0;c<this._companionAdInstances.length;c++)b.push(this._companionAdInstances[c]._slot);
 return b},getActiveCreativeRendition:function(){return this._primaryCreativeRendition},setActiveCreativeRendition:function(b){b?(-1===this._creativeRenditions.indexOf(b)&&this._creativeRenditions.push(b),this._primaryCreativeRendition=b,this._creativeRenditionId=b.getId()):c.warn("AdInstance.setActiveCreativeRendition","rendition is null")},getAllCreativeRenditions:function(){var b=this._creativeRenditions.slice();b.sort(function(b,c){return c.getPreference()-b.getPreference()});var c=b.indexOf(this._primaryCreativeRendition);
 -1<c&&(b.splice(c,1),b.unshift(this._primaryCreativeRendition));return b},getRenderableCreativeRenditions:function(){var b=this._creativeRenditions.slice().sort(function(b,c){return c.getPreference()-b.getPreference()}).filter(function(b){return this._rendererController.rendererMatch(b)},this),c=b.indexOf(this._primaryCreativeRendition);-1<c&&(b.splice(c,1),b.unshift(this._primaryCreativeRendition));return b},getPlayheadTime:function(){var b=-1;if(this._rendererController.getRenderer()&&"function"===
 typeof this._rendererController.getRenderer().getPlayheadTime)try{b=this._rendererController.getRenderer().getPlayheadTime()}catch(e){c.warn("AdInstance.getPlayheadTime",e.description)}return b},getDuration:function(){var b=-1;this._rendererController.getRenderer()&&"function"===typeof this._rendererController.getRenderer().getDuration&&(this._lastDurationFromRenderer=b=this._rendererController.getRenderer().getDuration());-1===b&&(b=-1<this._lastDurationFromRenderer?this._lastDurationFromRenderer:
 this.getActiveCreativeRendition().getDuration());return b},parse:function(b){if(b){this._adId=b.adId||null;this._creativeId=b.creativeId||null;this._creativeRenditionId=b.creativeRenditionId||null;this._replicaId=b.hasOwnProperty("replicaId")?b.replicaId:"";this._noLoad=this._context._adResponse.getAd(this._adId).getNoLoad();this._soAdUnit=this._context._adResponse.getAd(this._adId).getSoAdUnit();this._creative=this._context._adResponse.getCreative(this._adId,this._creativeId);this._creativeRenditions=
 this._creative.getEligibleCreativeRenditionsForAdInstance(this);var e,d;var f=0;for(e=b.eventCallbacks||[];f<e.length;f++){var g=e[f];if(d=c.EventCallback.newEventCallback(this._context,g.name,g.type))d._adInstance=this,d.parse(g),this._eventCallbacks.push(d)}f=0;for(e=b.companionAds||[];f<e.length;++f)(g=e[f])&&g.adSlotCustomId&&(d=new c.AdInstance(this._context),d._slotCustomId=g.adSlotCustomId,d.parse(g),this._companionAdInstances.push(d));f=0;for(e=b.fallbackAds||[];f<e.length;++f)g=e[f],d=new c.AdInstance(this._context),
 this._parentAdInstancesGroup.push(d),d._slot=this._slot,d._parentAdInstancesGroup=this._parentAdInstancesGroup,d.parse(g);0<this._creativeRenditions.length&&(this._primaryCreativeRendition=this._creativeRenditions[0])}},play:function(){c.log("AdInstance.play "+this._slotCustomId);this._timer.tick();this.processEvent(c.EVENT_AD_IMPRESSION,c.EVENT_TYPE_IMPRESSION);this._isStartSuccessfully||(c.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[c.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(c.EVENT_AD_IMPRESSION,
 {adInstance:this,slotCustomId:this._slotCustomId}),this._isStartSuccessfully=!0);this._state.play(this);if(this._rendererController.getRenderer().info()[c.INFO_KEY_MODULE_TYPE]===c.MODULE_TYPE_RENDERER)for(var b=0;b<this._companionAdInstances.length;b++)this._companionAdInstances[b].isPlaceholder()||this._companionAdInstances[b].getSlot().playCompanionAds(this._companionAdInstances[b])},pause:function(){c.log("AdInstance.pause "+this._slotCustomId);this._isStartSuccessfully?this._rendererController&&
 this._rendererController.pause():c.log("Ad hasn't started yet. Ignore.")},resume:function(){c.log("AdInstance.resume"+this._slotCustomId);this._isStartSuccessfully?this._rendererController&&this._rendererController.resume():c.log("Ad hasn't started yet. Ignore.")},skip:function(){c.log("AdInstance.skip");"VPAID"!==this.getActiveCreativeRendition().getCreativeApi()?(this._isSkipped=!0,this.processEvent(c.EVENT_AD_SKIPPED,c.EVENT_TYPE_GENERIC),this.stop()):c.log("VPAID creative, skip has been implemented inside of VPAID")},
 stop:function(){c.log("AdInstance.stop");this._rendererController.stop()},fakeComplete:function(){this._slot.getTimePositionClass()===c.TIME_POSITION_CLASS_DISPLAY&&(this._isStartSuccessfully=!1,this._slot.playNextAdInstance())},complete:function(){this._isStartSuccessfully&&(this.processEvent(c.EVENT_AD_IMPRESSION_END,c.EVENT_TYPE_IMPRESSION),c.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[c.INFO_KEY_MODULE_TYPE]&&this._context.dispatchEvent(c.EVENT_AD_IMPRESSION_END,{adInstance:this}));
 this._state.complete(this);this._rendererController._restorePlaceholdersForHybrid();this._rendererController.setRenderer(null);this._isStartSuccessfully=!1;this._slot.playNextAdInstance()},isStarted:function(){return this._isStartSuccessfully},onStartPlaying:function(){c.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[c.INFO_KEY_MODULE_TYPE]?this._isImpressionSent=!0:this._translated=!0},onCompletePlaying:function(){},onStartReplaying:function(){},onCompleteReplaying:function(){},
 getEventCallback:function(b,e){return c.EventCallback.getEventCallback(this._eventCallbacks,b,e)},processEvent:function(b,e,d,f){var g=!0;e=this.getEventCallback(b,e);b===c.EVENT_AD_IMPRESSION&&this._isStartSuccessfully&&(e=this.getEventCallback(c.EVENT_ERROR,c.EVENT_TYPE_ERROR),d={errorInfo:"Trying to send defaultImpression multiple times"},g=!1);e?f||e.process(d):g=!1;b===c.EVENT_AD_CLICK&&this._context.dispatchEvent(c.EVENT_AD_CLICK,{adInstance:this});if(b!==c.EVENT_AD_IMPRESSION&&b!==c.EVENT_AD_IMPRESSION_END||
 c.MODULE_TYPE_RENDERER===this._rendererController.getRenderer().info()[c.INFO_KEY_MODULE_TYPE])f={subType:b,adInstance:this,slot:this._slot},b===c.EVENT_ERROR&&(f[c.INFO_KEY_ERROR_CODE]=d[c.INFO_KEY_ERROR_CODE],f[c.INFO_KEY_ERROR_INFO]=d[c.INFO_KEY_ERROR_INFO],f[c.INFO_KEY_ERROR_MODULE]=d[c.INFO_KEY_ERROR_MODULE]),b===c.EVENT_AD_MEASUREMENT&&(f[c.INFO_KEY_CONCRETE_EVENT_ID]=d[c.INFO_KEY_CONCRETE_EVENT_ID]),this._context.dispatchEvent(c.EVENT_AD,f);return g},setVolume:function(b){c.debug("AdInstance.setVolume("+
 b+")");this.isStarted()&&"function"===typeof this._rendererController.getRenderer().setVolume&&this._rendererController.getRenderer().setVolume(b)},setMetr:function(b,e){var d=c.AdInstance._metrDictionary[b],f=e;d&&(b===c.EVENT_AD_CLICK&&(f=!e),this._metr=f===c.CAPABILITY_STATUS_ON||!0===f?this._metr|d:this._metr&~d)},getExternalEventCallbackUrls:function(b,c){return(this._externalEventCallbackUrlsDictionary[c+"-"+b]||[]).slice()},reset:function(){this._rendererController.reset();for(var b=0;b<this._companionAdInstances.length;b++){var e=
 this._companionAdInstances[b];e._state!==c.MediaPlayingState.instance&&e._state!==c.MediaReplayingState.instance||e.stop();e._rendererController.reset()}},cloneForTranslation:function(){var b=new c.AdInstance(this._context);b._adId=this._adId;b._creativeId=this._creativeId;b._creative=this._creative.cloneForTranslation();b._creativeRenditionId=this._creativeRenditionId;b._isInitiatedSent=this._isInitiatedSent;b._noLoad=this._noLoad;b._slot=this.getSlot();b._soAdUnit=this.getSoAdUnit();b._replicaId=
 this._replicaId;b._wrapperCount=this._wrapperCount;for(var e=0;e<this._eventCallbacks.length;e++){var d=this._eventCallbacks[e].copy();d._adInstance=b;b._eventCallbacks.push(d)}b._externalEventCallbackUrlsDictionary=c.Util.copy(this._externalEventCallbackUrlsDictionary);for(e=0;e<this._companionAdInstances.length;e++)this._companionAdInstances[e].isPlaceholder()?b._companionAdInstances.push(this._companionAdInstances[e].cloneForTranslation()):b._companionAdInstances.push(this._companionAdInstances[e]);
 return b},isPlaceholder:function(){return this._noLoad},setMediaState:function(b){this._state=b},_isValidEventNameAndType:function(b,e){return c.Util.isBlank(b)||c.Util.isBlank(e)?!1:e===c.EVENT_TYPE_CLICK||e===c.EVENT_TYPE_CLICK_TRACKING||e===c.EVENT_TYPE_IMPRESSION&&(b===c.EVENT_AD_IMPRESSION||b===c.EVENT_AD_FIRST_QUARTILE||b===c.EVENT_AD_MIDPOINT||b===c.EVENT_AD_THIRD_QUARTILE||b===c.EVENT_AD_COMPLETE)||e===c.EVENT_TYPE_STANDARD&&(b===c.EVENT_AD_PAUSE||b===c.EVENT_AD_RESUME||b===c.EVENT_AD_REWIND||
 b===c.EVENT_AD_MUTE||b===c.EVENT_AD_UNMUTE||b===c.EVENT_AD_COLLAPSE||b===c.EVENT_AD_EXPAND||b===c.EVENT_AD_MINIMIZE||b===c.EVENT_AD_CLOSE||b===c.EVENT_AD_ACCEPT_INVITATION)||e===c.EVENT_TYPE_ERROR&&b===c.EVENT_ERROR},isPlayable:function(){var b=!(this._rendererController.getRendererState()===c.RendererFailedState.instance&&!this._isImpressionSent);if(!b)return c.debug("AdInstance.isPlayable returning false isImpressionSent:",this._isImpressionSent),b;(b=b&&!this._translated)||c.debug("AdInstance.isPlayable returning false translated:",
 this._translated);return b},toString:function(){return"[AdInstance "+this._adId+"]"},getCompanionAdInstances:function(){for(var b=[],c=0;c<this._companionAdInstances.length;++c)this._companionAdInstances[c].isPlaceholder()||b.push(this._companionAdInstances[c]);return b},isRequiredToShow:function(){return this._context._adResponse.getAd(this._adId).isRequiredToShow()},incrementWrapperCount:function(){this._wrapperCount++},getWrapperCount:function(){return this._wrapperCount}});c.EventDispatcher=function(){this._listeners=
 {}};c.EventDispatcher.prototype={addEventListener:function(b,c){"undefined"===typeof this._listeners[b]&&(this._listeners[b]=[]);this._listeners[b].push(c)},dispatchEvent:function(b){"string"===typeof b&&(b={type:b});b.target||(b.target=this);if(b.type&&this._listeners[b.type]instanceof Array)for(var e=this._listeners[b.type],d=0,f=e.length;d<f;d++)try{e[d]&&e[d].call(this,b)}catch(g){c.warn("EventDispatcher.dispatchEvent",b.type,g)}},removeEventListener:function(b,c){if(this._listeners[b]instanceof
 Array){var d=this._listeners[b];if(null==c)this._listeners[b]=[];else{b=0;for(var e=d.length;b<e;b++)if(d[b]===c){d.splice(b,1);break}}}}};c.EventDispatcher.prototype.constructor=c.EventDispatcher;c.DashRenderer=function(){this._fwDashPlayer=null;this._duration=this._playheadTime=-1;this._dragging=this._stopInvoked=this._isEnded=!1;this._volume=1;this._rendererController=null;this._isBuffering=!1;this._autoPauseAdOnVisibilityChange=!0;this._dashjs=window.tv.freewheel.Dashjs};c.DashRenderer.prototype=
 {pause:function(){this._rendererController&&this._rendererController.processEvent({name:c.EVENT_AD_PAUSE});this._fwDashPlayer&&!this._fwDashPlayer.isPaused()&&this._fwDashPlayer.pause()},resume:function(){this._rendererController&&this._rendererController.processEvent({name:c.EVENT_AD_RESUME});this._fwDashPlayer&&this._fwDashPlayer.isPaused()&&this._fwDashPlayer.play()},start:function(b){this._rendererController=b;b=this._rendererController.getAdInstance();var e=b.getSlot(),d=this,f=!1,g=!1,k=!1;
 this._autoPauseAdOnVisibilityChange=this._rendererController.getParameter(c.PARAMETER_AUTO_PAUSE_AD_ONVISIBILITYCHANGE);if(c.PLATFORM_NOT_SUPPORT_VIDEO_AD)this._onRendererFailed(c.ERROR_DEVICE_LIMIT,e.getTimePositionClass());else if(c.PLATFORM_NOT_SUPPORT_MIDROLL_AD&&e.getTimePositionClass()===c.TIME_POSITION_CLASS_MIDROLL)this._onRendererFailed(c.ERROR_DEVICE_LIMIT,"midroll");else if(c.PLATFORM_NOT_SUPPORT_DASH)this._onRendererFailed(c.ERROR_DEVICE_LIMIT,"MPEG-DASH playback not supported on this platform");
 else{c.log("DashRenderer.start",e.getTimePositionClass(),b);var h=this._rendererController.getContentVideoElement(),l=e.getVideoDisplaySize().width,p=e.getVideoDisplaySize().height,n=b.getRenderableCreativeRenditions(),m=this._rendererController.getParameter(c.PARAMETER_DESIRED_BITRATE);m=m&&0<Number(m)?Number(m):null;if((p=(l=(new c.RenditionSelector(m||1E3,this._rendererController.getParameter("arWeight")||1,this._rendererController.getParameter("pxWeight")||1,.2)).getBestDashRendition(n,l,p))?
 l.getPrimaryCreativeRenditionAsset():null)&&n.length)if(p.getProxiedUrl()){b.setActiveCreativeRendition(l);c.log("DashRenderer.start selected rendition is:",p.getUrl());this._rendererController.setCapability(c.EVENT_AD_QUARTILE,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_MUTE,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_PAUSE,c.CAPABILITY_STATUS_ON);var t=!c.PLATFORM_NOT_SUPPORT_CLICK_FOR_VIDEO;t||this._rendererController.setCapability(c.EVENT_AD_CLICK,
 c.CAPABILITY_STATUS_OFF);var r=c.PLATFORM_EVENT_CLICK,u=c.MOBILE_EVENT_DRAG;c.debug("DashRenderer","use content video element");h.controls=!1;var q=this._dashjs.MediaPlayer().create();q.initialize();c.debug("dash.js -v "+q.getVersion()+" loaded");q.setAutoPlay(!1);q.attachView(h);m&&q.updateSettings({streaming:{abr:{initialBitrate:{video:m}}}});q.attachSource(p.getUrl());q.preload();this._fwDashPlayer=q;var v=null,D=null,K=null;this._volume=this._rendererController.getContext().getAdVolume();q.setVolume(this._volume);
 q.setMute(0===this._volume);var H=function(b){c.debug("DashRenderer.checkTimeUpdate timeout");I(b)},S=function(){D&&(clearTimeout(D),D=null)},L=c.Util.bind(this,function(b){c.debug("onAdVideoPlaybackStalled(): Ad video event "+b.type);b=this._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_PLAY_AFTER_STALLED);null!==b&&"undefined"!==typeof b&&!1!==c.Util.str2bool(b)&&(c.debug("play the ad immediately after the stalled event"),q&&q._fw_videoAdPlaying&&q.play())}),y=function(b){d._isBuffering||
 (d._isBuffering=!0,d._rendererController.processEvent({name:c.EVENT_AD_BUFFERING_START}),c.debug("onAdVideoBufferingStarted(): Ad video event "+b.type))},G=function(b){d._isBuffering&&(d._isBuffering=!1,d._rendererController.processEvent({name:c.EVENT_AD_BUFFERING_END}),c.debug("onAdVideoBufferingEnded(): Ad video event "+b.type))};b=this._rendererController.getParameter(c.PARAMETER_EXTENSION_AD_CONTROL_CLICK_ELEMENT);var F=null;b&&(F=document.getElementById(b));F||(F=h);var E=c.Util.bind(this,function(b){if(q.isPaused()&&
 c.PLATFORM_NOT_FIRE_CLICK_WHEN_AD_VIDEO_PAUSED)q.play();else{var d=this._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_CLICK_DETECTION);null==d&&(d="true");!1!==c.Util.str2bool(d)&&(g?(c.debug("Ad video event "+b.type),this._dragging?this._dragging=!1:this._rendererController.processEvent({name:c.EVENT_AD_CLICK})):c.debug("Ad not started, ignore click."))}}),x=c.Util.bind(this,function(b){c.debug("Ad video event "+b.type);this._dragging=!0}),z,B=function(b){c.debug("Ad video event "+
 b.type+" ended: "+h.ended+" playing: "+q._fw_videoAdPlaying);b=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE);null==b&&(b="true");!1===c.Util.str2bool(b)?c.debug("Pause controls disabled"):h.controls=!0;S()},w=function(b){c.debug("Ad video event "+b.type);h.controls=!1},C=0,J=function(b){c.debug("Ad video event "+b.type);0>=q.time()?c.debug("DashRenderer.onAdVideoTimeUpdate currentTime is less than or 0"):(S(),q.isPaused()||(b=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT)||
 8E3,D=setTimeout(H,b,b+"ms timeout when playing")),g||(g=!0,d._playheadTime=q.time(),0>d._playheadTime&&(d._playheadTime=0),v&&(clearTimeout(v),v=null),d._quartileTimerId=setInterval(function(){var b=q.time(),e=q.duration();0<b&&(d._playheadTime=b);0<e&&(d._duration=e);"number"!==typeof b||"number"!==typeof e||K||(b>=.25*e&&1>C&&(d._rendererController.processEvent({name:c.EVENT_AD_FIRST_QUARTILE}),C=1),b>=.5*e&&2>C&&(d._rendererController.processEvent({name:c.EVENT_AD_MIDPOINT}),C=2),b>=.75*e&&3>
 C&&(clearInterval(d._quartileTimerId),d._quartileTimerId=null,d._rendererController.processEvent({name:c.EVENT_AD_THIRD_QUARTILE}),C=3))},1E3),d._rendererController.handleStateTransition(c.RENDERER_STATE_STARTED)))};this.dispose=c.Util.bind(this,function(){N()});var N=function(b){d.playAdAfterStartDelay&&(clearTimeout(d.playAdAfterStartDelay),d.playAdAfterStartDelay=null);var e=K;b&&b.type&&(c.debug("DashRenderer onAdVideoEnded. Ad video event: "+b.type),"error"===b.type&&b.target&&(c.warn(b.target.src),
 c.warn(b.target.currentSrc),G(b)));S();v&&(clearTimeout(v),v=null);t&&(F.removeEventListener(r,E,!1),F.removeEventListener(u,x,!1));z&&(clearTimeout(z),z=null);O&&d._autoPauseAdOnVisibilityChange&&(document.removeEventListener("visibilitychange",O,!1),O=null);var g=d._dashjs.MediaPlayer.events;q.off(g.PLAYBACK_ENDED,N,d);q.off(g.PLAYBACK_ERROR,N,d);q.off(g.ERROR,N,d);q.off(g.PLAYBACK_PAUSED,B,d);q.off(g.PLAYBACK_PLAYING,w,d);q.off(g.PLAYBACK_TIME_UPDATED,J,d);q.off(g.PLAYBACK_STALLED,L,d);q.off(g.BUFFER_EMPTY,
 y,d);q.off(g.BUFFER_LOADED,G,d);q.off(g.PLAYBACK_NOT_ALLOWED,V,d);q.isPaused()||(c.debug("try pausing video before complete"),q.pause());b&&"error"===b.type&&b.target?(e="video error",(b=h.error||b.target.error)&&(e="error:"+b+",code:"+b.code)):b&&"error"===b.type&&b.error?e="dashjs error, dashjs-error-message: "+b.error.message+", dashjs-error-code: "+b.error.code:b&&"playbackError"===b.type&&b.error&&(e="dashjs playbackError");e||(d._isEnded=!0);c.log("DashRenderer.complete");if(!f){f=!0;delete q._fw_videoAdPlaying;
 b=q.time();g=q.duration();d._fwDashPlayer=null;try{q.reset()}catch(Q){c.warn("Error resetting fw dashjs player: ",Q)}q=null;d._quartileTimerId&&(clearInterval(d._quartileTimerId),d._quartileTimerId=null);e?(b=null,e.includes("timeout")?b=c.ERROR_TIMEOUT:e.includes("dashjs")&&(b=c.ERROR_DASHJS),d._onRendererFailed(b,e)):(d._stopInvoked||(b>=.25*g&&1>C&&(d._rendererController.processEvent({name:c.EVENT_AD_FIRST_QUARTILE}),C=1),b>=.5*g&&2>C&&(d._rendererController.processEvent({name:c.EVENT_AD_MIDPOINT}),
 C=2),b>=.75*g&&3>C&&(d._rendererController.processEvent({name:c.EVENT_AD_THIRD_QUARTILE}),C=3),b>=g-.5&&4>C&&(d._rendererController.processEvent({name:c.EVENT_AD_COMPLETE}),C=4)),d._stopInvoked=!1,d._rendererController.handleStateTransition(c.RENDERER_STATE_COMPLETED))}d._rendererController=null};var I=function(b){K=b;c.warn(K);c.PLATFORM_WAIT_WHEN_AD_VIDEO_TIMEOUT||N()},O=function(b){c.log("onVisibilityChange:"+(document.hidden?"invisible":"visible"));document.hidden?q&&!q.isPaused()&&(q.pause(),
 k=!0,d._rendererController&&d._rendererController.processEvent({name:c.EVENT_AD_PAUSE}),v&&(clearTimeout(v),v=null)):q&&(q.isPaused()||null===q.isPaused())&&k&&(q.play(),k=!1,d._rendererController&&d._rendererController.processEvent({name:c.EVENT_AD_RESUME}),g||!q._fw_fromVideoPool&&!c.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT||(b=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5E3,v=setTimeout(I,b,b+"ms timeout before playing")))},V=function(){c.warn("Blocked by browser, need player to display a start button");
 d._fwDashPlayer.off(d._dashjs.MediaPlayer.events.PLAYBACK_NOT_ALLOWED,V,d);v&&(clearTimeout(v),v=null);e.setAutoPlayBlocked(!0);d._rendererController.processEvent({name:c.EVENT_AD_AUTO_PLAY_BLOCKED,info:{apiOnly:!0}})};q._fw_videoAdPlaying=!0;var U=!1;(function(){if(!U){U=!0;t&&(F.addEventListener(r,E,!1),F.addEventListener(u,x,!1));var b=d._dashjs.MediaPlayer.events;q.on(b.PLAYBACK_ENDED,N,d);q.on(b.PLAYBACK_ERROR,N,d);q.on(b.ERROR,N,d);q.on(b.PLAYBACK_PAUSED,B,d);q.on(b.PLAYBACK_PLAYING,w,d);q.on(b.PLAYBACK_TIME_UPDATED,
 J,d);q.on(b.PLAYBACK_STALLED,L,d);q.on(b.BUFFER_EMPTY,y,d);q.on(b.BUFFER_LOADED,G,d);q.on(b.PLAYBACK_NOT_ALLOWED,V,d);c.log("DashRenderer, play video ad "+q.getSource());if(q._fw_fromVideoPool||c.PLATFORM_SUPPORT_VIDEO_START_DETECT_TIMEOUT)b=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT)||5E3,v=setTimeout(I,b,b+"ms timeout before playing");c.PLATFORM_VIDEO_DOESNOT_SUPPORT_TIMEUPDATE&&d._rendererController.handleStateTransition(c.RENDERER_STATE_STARTED);b=100;0<
 c.PLATFORM_ANDROID_VERSION&&(b=d._rendererController.getParameter(c.PARAMETER_RENDERER_VIDEO_ANDROID_DELAY)||100);d.playAdAfterStartDelay=setTimeout(function(){d.playAdAfterStartDelay=null;document.hidden&&d._autoPauseAdOnVisibilityChange?(c.log("DashRenderer pause ad when tab is invisible."),k=!0,q&&q.pause(),d._rendererController&&d._rendererController.processEvent({name:c.EVENT_AD_PAUSE}),v&&(clearTimeout(v),v=null)):q.play()},b);d._autoPauseAdOnVisibilityChange&&document.addEventListener("visibilitychange",
 O,!1)}})()}else this._onRendererFailed(c.ERROR_NULL_ASSET);else this._onRendererFailed(c.ERROR_DEVICE_LIMIT,"no compatible asset")}},stop:function(){c.debug("DashRenderer stop");this._stopInvoked=!0;this._fwDashPlayer&&(this._fwDashPlayer._fw_videoAdPlaying=!1,this._fwDashPlayer.pause(),this.dispose());this._rendererController=null},info:function(){return{moduleType:c.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){if(this._isEnded&&0<this._duration)return this._duration;if(this._fwDashPlayer){var b=
 this._fwDashPlayer.time();if(0<b)return b}return this._playheadTime},getDuration:function(){return this._duration},setVolume:function(b){c.debug("DashRenderer setVolume("+b+")");this._fwDashPlayer?(this._fwDashPlayer.setVolume(b),this._fwDashPlayer.setMute(0===b),this._volume!==b&&this._rendererController.processEvent({name:c.EVENT_AD_VOLUME_CHANGE}),0===this._volume&&0!==b?this._rendererController.processEvent({name:c.EVENT_AD_UNMUTE}):0!==this._volume&&0===b&&this._rendererController.processEvent({name:c.EVENT_AD_MUTE}),
 this._volume=b):c.debug("DashRenderer ad video is null, ignore.")},_onRendererFailed:function(b,e,d){var f={};f[c.INFO_KEY_ERROR_MODULE]="DashRenderer";f[c.INFO_KEY_ERROR_CODE]=b;d||(d=c.ERROR_VAST_GENERAL_LINEAR_ERROR);f[c.INFO_KEY_VAST_ERROR_CODE]=d;e&&(f[c.INFO_KEY_ERROR_INFO]=e);this._rendererController.handleStateTransition(c.RENDERER_STATE_FAILED,f)}};c.DashRenderer.prototype.constructor=c.DashRenderer;c.HTMLAdGenerator={log:function(b){c.log("HTMLAdGenerator\t"+b)},getExtension:function(b){return b?
 (b=b.match(/^[^?]+\/[^?.]*(\.\w+)+/))?b[b.length-1].slice(1):"":""},generateAd:function(b,e,d,f,g,k,h){c.HTMLAdGenerator.log("generatorAd("+[].slice.call(arguments,0).join(",")+")");var l=k,p=!1;null==l&&(p=!0,l=c.HTMLAdGenerator.getExtension(b).toLowerCase());switch(l){case "jpeg":case "jpg":case "gif":case "png":case "image/jpeg":case "image/jpg":case "image/gif":case "image/png":case "image/bmp":l=c.HTMLAdGenerator.generateImageHTML(b,e);break;case "swf":case "application/x-shockwave-flash":l=
 c.HTMLAdGenerator.generateFlashHTML(b,e,d,f,g);break;case "script":case "js":case "text/javascript":case "text/js_ref":case "application/x-javascript":l=c.HTMLAdGenerator.generateScriptHTML(b,d,f,g);break;case "iframe":case "html":case "htm":case "text/html":case "text/html_doc_ref":case "text/html_lit_nowrapper":case "text/html_doc_lit_mobile":l=c.HTMLAdGenerator.generateIFrameHTML(b,e,d,f,g);break;default:l=p?c.HTMLAdGenerator.generateIFrameHTML(b,e,d,f,g):c.HTMLAdGenerator.generateAd(b,e,d,f,g,
 null,h)}return"text/html_doc_lit_mobile"===h?c.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(l):l},generateImageHTML:function(b,e){c.HTMLAdGenerator.log("generateImageHTML");return e?'<a rel="noopener noreferrer" href="'+e+'" target="_blank"><img src="'+b+'" border="0" /></a>':'<img src="'+b+'" border="0" />'},generateFlashHTML:function(b,e,d,f,g){c.HTMLAdGenerator.log("generateFlashHTML");var k=b;e&&0<e.length&&(k+=-1===b.indexOf("?")?"?":"&",k+="clickTag="+encodeURIComponent(e));b='<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"WIDTH="'+
 f+'" HEIGHT="'+g+'" id="'+d+'_external_ad">'+('<PARAM NAME=movie VALUE="'+k+'"/>')+'<PARAM NAME=quality VALUE=high/><PARAM NAME=bgcolor VALUE=#FFFFFF/><PARAM NAME="allowScriptAccess" VALUE="always"/><PARAM NAME="loop" VALUE="true"/>';b+='<EMBED src="'+k+'" ';return b+('quality=high bgcolor=#FFFFFF WIDTH="'+f+'" HEIGHT="'+g+'"NAME="'+d+'_external_video" ALIGN="" TYPE="application/x-shockwave-flash"PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"></EMBED></OBJECT>')},generateIFrameHTML:function(b,
 e,d,f,g){c.HTMLAdGenerator.log("generateIFrameHTML");return'<iframe height="'+g+'" width="'+f+'" frameborder="0" scrolling="no" allowtransparency="true" leftmargin="0" rightmargin="0" marginwidth="0" marginheight="0" src="'+b+'"></iframe>'},docLitToHTMLLit:function(b,e,d,f){c.HTMLAdGenerator.log("docLitToHTMLLit");return'<iframe id="_fw_frame_'+e+'" width="'+d+'" height="'+f+'" marginwidth="0" marginheight="0" frameborder="0" scrolling="no"></iframe><script language="javascript" type="text/javascript" id="_fw_container_js_'+
 e+"\">if(!fw_targets) {var fw_targets = [];}var _fw_wr;var fw_scope = document;var fw_content = '"+c.Util.encodeToHex(b)+"';var trgtFrm = fw_scope.getElementById(\"_fw_frame_"+e+'");trgtFrm = (trgtFrm.contentWindow) ? trgtFrm.contentWindow : (trgtFrm.contentDocument.document) ? trgtFrm.contentDocument.document : trgtFrm.contentDocument;fw_targets["'+e+'"] = trgtFrm;if(navigator.userAgent.match(/\\bMSIE\\b/) || navigator.userAgent.match(/\\bOpera\\b/)){trgtFrm.document.open();trgtFrm.document.write(fw_content);setTimeout(function(){fw_close(fw_targets["'+
 e+'"])}, 7500);} else if (navigator.userAgent.match(/\\bFirefox\\b/)) {if(true && fw_content.length < 2000){var ec = escape(fw_content);var fw_iframe_url = "http://m2.feiwei.tv/g/lib/template/echo.html?s="+ec;fw_scope.getElementById("_fw_frame_'+e+'").src = fw_iframe_url;} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}} else {trgtFrm.document.open();trgtFrm.document.write(fw_content);trgtFrm.document.close();}function fw_close(theFrame){theFrame.document.close();}\x3c/script>'},
 htmlLitToDocLit:function(b){c.HTMLAdGenerator.log("htmlLitToDocLit");return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>Advertisement</title></head><body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">'+b+"</body></html>"},wrapUnsafeHTML:function(b,e,d,f){return c.HTMLAdGenerator.htmlLitToHTMLDocLitMobile(c.HTMLAdGenerator.docLitToHTMLLit(c.HTMLAdGenerator.htmlLitToDocLit(b),e,d,f))},wrapJSCode:function(b,
 e,d,f){return c.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript">'+b+"\x3c/script>",e,d,f)},generateScriptHTML:function(b,e,d,f){c.HTMLAdGenerator.log("generateScriptHTML");return c.HTMLAdGenerator.wrapUnsafeHTML('<script language="javascript" type="text/javascript" src="'+b+'">\x3c/script>',e,d,f)},htmlLitToHTMLDocLitMobile:function(b){c.HTMLAdGenerator.log("htmlLitToHTMLDocLitMobile");return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><meta name = "viewport" content = "initial-scale = 1.0, target-densitydpi = device-dpi" /><title>Advertisement</title><script type="text/javascript">window._fw_page_url = "";\x3c/script></head><body style="margin:0px;background-color:transparent;">'+
 b+"</body></html>"}};c.RenditionSelector=function(b,c,d,f){this._targetByterate=b;this._arWeight=c;this._pxWeight=d;this._conversionFactor=f};c.RenditionSelector.prototype={getBestFitRendition:function(b,e,d){var f=this;b.reverse();b=b.filter(function(b){return b&&b.getPrimaryCreativeRenditionAsset()&&(b.getPrimaryCreativeRenditionAsset().getProxiedUrl()||b.getPrimaryCreativeRenditionAsset().getContent())&&c.Util.canPlayVideoType(b.getPrimaryCreativeRenditionAsset().getMimeType())}).sort(function(b,
 c){return f.getBitrate(b)-f.getBitrate(c)});if(!b.length)return null;var g=Number.MAX_VALUE,k=b.filter(function(b){b=f.getBitrate(b);g=b<g?b:g;return b<=f._targetByterate});k.length||(k=b.filter(function(b){return f.getBitrate(b)<=g}));return k.sort(function(b,c){return f.compareVisualMetrics(b,c,e,d)}).pop()},getBestDashRendition:function(b,c,d){var e=this;b.reverse();return b.sort(function(b,f){return e.compareVisualMetrics(b,f,c,d)})[b.length-1]},compareVisualMetrics:function(b,c,d,f){var e=this.calculateVisualRatios(b.getWidth(),
 b.getHeight(),d,f);f=this.calculateVisualRatios(c.getWidth(),c.getHeight(),d,f);return!e&&f?-1:e&&!f?1:e&&f&&(d=this._conversionFactor*this._arWeight*Math.log(f.arRatio),f=this._pxWeight*Math.log(f.pixelation),e=this.findDistance(this._conversionFactor*this._arWeight*Math.log(e.arRatio),this._pxWeight*Math.log(e.pixelation),0,0),d=this.findDistance(d,f,0,0),d!==e)?d-e:b.getPreference()-c.getPreference()},calculateVisualRatios:function(b,c,d,f){if(0<b&&0<c&&0<d&&0<f){var e=b/c,k=d/f;e>k?f=d/e:d=f*
 e;return{arRatio:e/k,pixelation:b*c/(d*f)}}return null},findDistance:function(b,c,d,f){return isNaN(b)||isNaN(d)||isNaN(c)||isNaN(f)?NaN:Math.sqrt(Math.pow(d-b,2)+Math.pow(f-c,2))},getBitrate:function(b){var c=b.getDuration();return(b=b.getPrimaryCreativeRenditionAsset().getBytes())&&c&&!isNaN(b)&&!isNaN(c)&&0<b&&0<c?8*b/1E3/c:-1}};c.RenditionSelector.prototype.constructor=c.RenditionSelector;c.PageSlotScanner=function(b){this.OPTION_INIT=1;this.OPTION_FCAI=2;this.OPTION_NIIC=4;this.OPTION_NOSA=8;
 this.OPTION_NSIT=16;this._knownSlots=[];this._slots={};this._candidateAds=[];this._slotOptionFound=!1;this._context=b};c.PageSlotScanner.prototype={isSlotDuplicate:function(b){for(var c=0;c<this._knownSlots.length;++c)if(this._knownSlots[c].id===b)return!0;return!1},findPageSlotByScope:function(b){var e=b.document;if(e){var d=/(^|\s)_fwph(\s|$)/,f=e.getElementsByTagName("span");b._fw_admanager||(b._fw_admanager={});b._fw_admanager.pageScanState=!0;for(b=0;b<f.length;++b){var g;var k=f[b];if(d.test(k.className)&&
 (k=k.getAttribute("id"),(g=e.getElementById("_fw_input_"+k))&&!this.isSlotDuplicate(k)&&(g=g.getAttribute("value")))){";"!==g.charAt(g.length-1)&&(g+=";");g=g.split(";");var h=g[g.length-2],l=!1;-1!==h.search("lo=i")&&(l=!0);var p=!1;-1!==h.search("prct=")&&(p=!0);0>h.search("flag=")&&(h+="&flag=");0>h.search("ptgt=")&&(h="ptgt=s&"+h);g=[];var n=h.split("&"),m,t;h=!0;for(var r=c.SLOT_OPTION_INITIAL_AD_STAND_ALONE,u=0;u<n.length;++u){var q=n[u].split("=");if(2===q.length){q[1]=decodeURIComponent(q[1]);
 if("ssct"===q[0])if(p)continue;else p=!0,q[0]="prct";"flag"===q[0]?(-1===q[1].search(/[-\+]cmpn/)&&(q[1]+="+cmpn"),"+"!==q[1].charAt(0)&&"-"!==q[1].charAt(0)&&(q[1]="+"+q[1]),l&&-1===q[1].search("-init")&&(q[1]+="-init"),-1!==q[1].search("-nrpl")&&(q[1]=q[1].replace("-nrpl","+cmpn")),-1!==q[1].search("-cmpn")&&(h=!1),r=this._getInitialOption(q[1]),this._slotOptionFound||(r=l?c.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL:c.SLOT_OPTION_INITIAL_AD_STAND_ALONE)):"w"===q[0]?m=Number(q[1]):"h"===q[0]?t=Number(q[1]):
 "cana"===q[0]&&this._addCandidateAds(q[1]);q=encodeURIComponent(q[0])+"="+encodeURIComponent(q[1]);g.push(q)}}p||""==this._context.getParameter(c.PARAMETER_PAGE_SLOT_CONTENT_TYPE)||(l=this._context.getParameter(c.PARAMETER_PAGE_SLOT_CONTENT_TYPE)||"text/html_doc_lit_mobile,text/html_doc_ref",g.push("prct="+encodeURIComponent(l)));(l=e.getElementById("_fw_container_"+k))?(this._slots[k]=g.join("&")+";",this._knownSlots.push({id:k,width:m,height:t,element:l,acceptCompanion:h,initialAdOption:r})):c.warn("Failed to find container for slot "+
 k)}}}},scanPageSlots:function(){for(var b=0;b<window.frames.length;++b)try{c.debug("scanPageSlots in frame",b),this.findPageSlotByScope(window.frames[b])}catch(e){c.debug("PageSlotScanner: scanPageSlots exception "+e)}try{window.parent&&window.parent!==window&&(c.debug("scanPageSlots in parent frame"),this.findPageSlotByScope(window.parent))}catch(e){c.debug("PageSlotScanner: scanPageSlots exception "+e)}try{c.debug("scanPageSlots in current window"),this.findPageSlotByScope(window)}catch(e){c.debug("PageSlotScanner: scanPageSlots exception "+
 e)}},slotsToTypeBStr:function(){var b="",c;for(c in this._slots)if(this._slots.hasOwnProperty(c)){var d=this._slots[c];-1===d.search("slid=")&&(d="slid="+encodeURIComponent(c)+"&"+d);b+=d;";"!==b.charAt(b.length-1)&&(b+=";")}b&&(b=b.substring(0,b.length-1));return b},_addCandidateAds:function(b){b=b.split(",");for(var c=0;c<b.length;c++){var d=parseInt(b[c],10);0<d&&this._candidateAds.push(d)}},_parseFlags:function(b){var c=[],d=[],f="",g=!0;b+="+";for(var k=0;k<b.length;++k){var h=b.charAt(k);switch(h){case "+":case "-":""!==
 f&&((g?c:d).push(f),f="");g="+"===h;break;default:f+=h}}return[c,d]},_getInitialOption:function(b){var e=!0,d=!1,f=0;b=this._parseFlags(b);for(var g=c.SLOT_OPTION_INITIAL_AD_STAND_ALONE,k=0;k<b.length;++k)for(var h=0;h<b[k].length;++h)switch(b[k][h].toString().toLowerCase()){case "cmpn":e=0===k;break;case "nrpl":e=0!==k;break;case "init":f=0===k?f&~this.OPTION_INIT:f|this.OPTION_INIT;d=!0;break;case "fcai":f=0===k?f|this.OPTION_FCAI:f&~this.OPTION_FCAI;d=!0;break;case "niic":f=0===k?f|this.OPTION_NIIC:
 f&~this.OPTION_NIIC;d=!0;break;case "nosa":f=0===k?f|this.OPTION_NOSA:f&~this.OPTION_NOSA;d=!0;break;case "nsit":f=0===k?f|this.OPTION_NSIT:f&~this.OPTION_NSIT,d=!0}c.debug("PageSlotScanner: _getInitialOption: acceptCompanion = "+e);switch(f){case 0:d&&(g=c.SLOT_OPTION_INITIAL_AD_STAND_ALONE);break;case 1:g=c.SLOT_OPTION_INITIAL_AD_KEEP_ORIGINAL;break;case 3:g=c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY;break;case 2:g=c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE;break;case 6:g=c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE;
 break;case 8:g=c.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE;break;case 10:g=c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE;break;case 16:g=c.SLOT_OPTION_INITIAL_AD_NO_STAND_ALONE_IF_TEMPORAL;break;case 18:g=c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL;break;default:g=c.SLOT_OPTION_INITIAL_AD_STAND_ALONE}this._slotOptionFound=d;return g}};c.PageSlotScanner.prototype.constructor=c.PageSlotScanner;c.DisplayRefreshExtension=function(){this.REFRESH_TYPE_NONE="refresh_none";
 this.REFRESH_TYPE_AD="refresh_ad";this.REFRESH_TYPE_TIME="refresh_time";this.REPLACE_TYPE_NONE="replace_none";this.REPLACE_TYPE_BLANK="replace_blank";this.REPLACE_TYPE_AD="replace_ad";this._subContext=null;this._displaySlots=[];this._companionSlots=[];this._keyValues=[];this._globalParameters=[];this._overrideParameters=[];this._refreshType=this.REFRESH_TYPE_NONE;this._replaceType=this.REPLACE_TYPE_NONE;this._refreshInterval=0;this._refreshTimer=null;this._firstTemporalAd=!0;this._REQUEST_TIME_OUT=
 5};c.DisplayRefreshExtension.prototype={init:function(b){this._context=b;c.debug("DisplayRefreshExtension.init(context)");this._onRendererEvent=c.Util.bind(this,function(b){c.debug("DisplayRefreshExtension._onRendererEvent()");b.subType===c.EVENT_AD_IMPRESSION&&this._onAdStarted(b)});this._onSlotEnded=c.Util.bind(this,function(b){var d=b.slot.getTimePositionClass();b=b.slot;c.debug("DisplayRefreshExtension._onSlotEnded()",b,d);if(null!=b&&d!==c.TIME_POSITION_CLASS_DISPLAY&&0!==b.getAdInstances().length)if(this._refreshType===
 this.REFRESH_TYPE_AD)this._resetSubContext(),this._refreshSlots(this._displaySlots);else if(this._refreshType===this.REFRESH_TYPE_TIME){this._resetSubContext();this._refreshSlots(this._displaySlots);var e=this;this._refreshTimer=setInterval(function(){c.debug("DisplayRefreshExtension._onTimeout()");e._resetSubContext();e._refreshSlots(e._displaySlots)},1E3*this._refreshInterval)}});this._onRequestComplete=c.Util.bind(this,function(b){c.debug("DisplayRefreshExtension._onRequestComplete()");if(b.success){switch(this._context.getParameter("refreshType")){case "ad":this._refreshType=
 this.REFRESH_TYPE_AD;break;case "time":this._refreshInterval=this._context.getParameter("refreshInterval");this._refreshType=0<this._refreshInterval?this.REFRESH_TYPE_TIME:this.REFRESH_TYPE_NONE;break;default:this._refreshType=this.REFRESH_TYPE_NONE}switch(this._context.getParameter("replaceMissingCompanion")){case "blank":this._replaceType=this.REPLACE_TYPE_BLANK;break;case "ad":this._replaceType=this.REPLACE_TYPE_AD;break;default:this._replaceType=this.REPLACE_TYPE_NONE}if(this._refreshType!==this.REFRESH_TYPE_NONE||
 this._replaceType!==this.REPLACE_TYPE_NONE){if(this._displaySlots=this._context.getSlotsByTimePositionClass(c.TIME_POSITION_CLASS_DISPLAY),this._companionSlots=this._displaySlots.filter(function(b){return b.getAcceptCompanion()}),this._keyValues=this._context._adRequest._keyValues,this._globalParameters=this._context._globalLevelParameterDictionary,this._overrideParameters=this._context._overrideLevelParameterDictionary,this._firstTemporalAd=!0,this._context.addEventListener(c.EVENT_AD,this._onRendererEvent),
 this._context.addEventListener(c.EVENT_SLOT_ENDED,this._onSlotEnded),this._refreshType===this.REFRESH_TYPE_TIME){var d=this;this._refreshTimer=setInterval(function(){c.debug("DisplayRefreshExtension._onTimeout()");d._resetSubContext();d._refreshSlots(d._displaySlots)},1E3*this._refreshInterval)}}else this._refreshTimer&&clearInterval(this._refreshTimer)}else c.debug("DisplayRefreshExtension: request complete failed")});this._context.addEventListener(c.EVENT_REQUEST_COMPLETE,this._onRequestComplete)},
 _resetSubContext:function(){c.debug("DisplayRefreshExtension._resetSubContext()");this._subContext=this._context._adManager.cloneContext(this._context);this._subContext._extensionManager._displayRefreshExtension.dispose();this._subContext._extensionManager._videoStateExtension.dispose();this._subContext.setCapability(c.CAPABILITY_SLOT_TEMPLATE,c.CAPABILITY_STATUS_OFF);this._subContext.setCapability(c.CAPABILITY_DISPLAY_REFRESH,c.CAPABILITY_STATUS_ON);this._playRefreshedSlots=c.Util.bind(this,function(b){c.debug("DisplayRefreshExtension._playRefreshedSlots()");
 if(b.success){b=this._subContext.getSlotsByTimePositionClass(c.TIME_POSITION_CLASS_DISPLAY);for(var d=0;d<b.length;d++)b[d].play()}else c.debug("DisplayRefreshExtension._playRefreshedSlots(): subContext refresh request error:",b)});this._subContext.addEventListener(c.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots);for(var b=this._subContext._adRequest._keyValues,e=0;e<this._keyValues.length;e++)0>b.indexOf(this._keyValues[e])&&b.push(this._keyValues[e]);for(var d in this._globalParameters)this._globalParameters.hasOwnProperty(d)&&
 this._subContext.setParameter(d,this._globalParameters[d],c.PARAMETER_LEVEL_GLOBAL);for(d in this._overrideParameters)this._overrideParameters.hasOwnProperty(d)&&this._subContext.setParameter(d,this._overrideParameters[d],c.PARAMETER_LEVEL_OVERRIDE)},_onAdStarted:function(b){c.debug("DisplayRefreshExtension._onAdStarted()");var e=b.adInstance.getSlot();c.debug("DisplayRefreshExtension._onAdStarted(): slot: ",e," | timePositionClass:",e.getTimePositionClass());if(null!=e&&e.getTimePositionClass()!==
 c.TIME_POSITION_CLASS_DISPLAY&&(this._resetSubContext(),this._refreshTimer&&clearInterval(this._refreshTimer),this._replaceType!==this.REPLACE_TYPE_NONE)){b=b.adInstance;e=e.getAdInstances();for(var d=0;d<e.length;d++)b.getAdId()===e[d].getAdId()&&this._checkMissingCompanionForAd(b)}},_checkMissingCompanionForAd:function(b){c.debug("DisplayRefreshExtension._checkMissingCompanionForAd()",b);var e=this._companionSlots.slice();b=b.getCompanionAdInstances();var d;for(d=0;d<b.length;d++){var f=e.indexOf(b[d].getSlot());
 -1<f&&e.splice(f,1)}this._firstTemporalAd&&(this._firstTemporalAd=!1,e=e.filter(function(b){if(b.getInitialAdOption()!==c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_ONLY&&b.getInitialAdOption()!==c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_STAND_ALONE&&b.getInitialAdOption()!==c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_THEN_STAND_ALONE&&b.getInitialAdOption()!==c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE&&b.getInitialAdOption()!==c.SLOT_OPTION_INITIAL_AD_FIRST_COMPANION_OR_NO_STAND_ALONE_IF_TEMPORAL)return c.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial false in slot ",
 b.getCustomId()),!0;for(var d=b.getAdInstances(),e=0;e<d.length;e++)if(!d[e].isPlaceholder())return c.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): first companion found in slot ",b.getCustomId()),!1;c.debug("DisplayRefreshExtension._checkMissingCompanionForAd(): firstCompanionAsInitial true, no ad in slot ",b.getCustomId());return!0}));if(this._replaceType===this.REPLACE_TYPE_BLANK)for(d=0;d<e.length;d++)e[d].stop(),this._subContext._replacePageSlot(e[d].getCustomId(),"");else this._replaceType===
 this.REPLACE_TYPE_AD&&this._refreshSlots(e)},_refreshSlots:function(b){c.debug("DisplayRefreshExtension._refreshSlots()",b);if(null!=b&&0!==b.length){for(var e=0;e<b.length;e++)b[e].stop(),this._subContext._refreshSlots.push(b[e].getCustomId());this._subContext._isRefreshRequest=!0;this._subContext.submitRequest(this._REQUEST_TIME_OUT)}},dispose:function(){c.debug("DisplayRefreshExtension.dispose()");this._context&&(this._context.removeEventListener(c.EVENT_REQUEST_COMPLETE,this._onRequestComplete),
 this._context.removeEventListener(c.EVENT_SLOT_ENDED,this._onSlotEnded),this._context.removeEventListener(c.EVENT_AD,this._onRendererEvent),this._context=null);this._subContext&&(this._subContext.removeEventListener(c.EVENT_REQUEST_COMPLETE,this._playRefreshedSlots),this._subContext=null);this._displaySlots=[];this._companionSlots=[];this._keyValues=[];this._globalParameters=[];this._overrideParameters=[];this._refreshType=this.REFRESH_TYPE_NONE;this._replaceType=this.REPLACE_TYPE_NONE;this._refreshInterval=
 0;this._refreshTimer&&clearInterval(this._refreshTimer);this._refreshTimer=null;this._firstTemporalAd=!0}};c.DisplayRefreshExtension.prototype.constructor=c.DisplayRefreshExtension;c.Ad=function(){this._id=null;this._creatives=[];this._noLoad=!1;this._soAdUnit=null;this._isRequiredToShow=!1};c.Ad.prototype={isRequiredToShow:function(){return this._isRequiredToShow},parse:function(b){if(b){this._id=b.adId||null;this._noLoad=b.noLoad;this._soAdUnit=b.adUnit;b.hasOwnProperty("required")&&(this._isRequiredToShow=
 b.required);var e=0;for(b=b.creatives||[];e<b.length;e++){var d=b[e],f=new c.Creative;f.parse(d);this._creatives.push(f)}}},getSoAdUnit:function(){return this._soAdUnit},getId:function(){return this._id},getNoLoad:function(){return this._noLoad},getCreative:function(b){for(var c=0;c<this._creatives.length;c++)if(this._creatives[c].getId()===b)return this._creatives[c];return null},addCreativeRendition:function(){var b=new c.Creative;this._creatives.push(b);return b}};c.Ad.prototype.constructor=c.Ad;
 c.Creative=function(){this._duration=this._baseUnit=this._id=null;this._parameters={};this._creativeRenditions=[]};c.Creative.prototype={getId:function(){return this._id},getBaseUnit:function(){return this._baseUnit},getDuration:function(){return this._duration},getParameter:function(b){return this._parameters[b]},setParameter:function(b,c){null==c?delete this._parameters[b]:this._parameters[b]=c},parse:function(b){if(b){this._id=b.creativeId||null;this._baseUnit=b.baseUnit||null;this._duration=1*
 b.duration;if(b.parameters)if(b.parameters.constructor===Array)for(var e=0,d=b.parameters||[];e<d.length;e++){var f=d[e];this._parameters[f.name]=f.value}else"object"===typeof b.parameters&&(this._parameters=c.Util.copy(b.parameters));e=0;for(d=b.creativeRenditions||[];e<d.length;e++){f=d[e];b=new c.CreativeRendition;b.parse(f);b.setDuration(this._duration);b.setBaseUnit(this._baseUnit);for(var g in this._parameters)this._parameters.hasOwnProperty(g)&&b.setParameter(g,this._parameters[g]);this._creativeRenditions.push(b)}}},
 getAllCreativeRenditions:function(){return this._creativeRenditions},addCreativeRendition:function(b){this._creativeRenditions.push(b)},getEligibleCreativeRenditionsForAdInstance:function(b){var c=[],d=[],f;for(f=0;f<this._creativeRenditions.length;f++){var g=this._creativeRenditions[f];g.getId()===b._creativeRenditionId&&g.getReplicaId()===b._replicaId&&c.push(g);""===g.getReplicaId()&&d.push(g)}return 0===c.length?d:c},cloneForTranslation:function(){var b=new c.Creative;b.parse({creativeId:this._id,
 baseUnit:this._baseUnit,duration:this._duration,parameters:c.Util.copy(this._parameters)});return b}};c.Creative.prototype.constructor=c.Creative;c.CreativeRendition=function(){this._id=null;this._creativeApi="None";this._baseUnit=null;this._replicaId="";this._height=this._width=this._preference=this._wrapperUrl=this._wrapperType=this._contentType=null;this._parameters={};this._primaryCreativeRenditionAsset=null;this._otherCreativeRenditionAssets=[];this._universalAdId=this._duration=null};c.CreativeRendition.prototype=
 {getId:function(){return this._id},getCreativeApi:function(){return this._creativeApi},setCreativeApi:function(b){this._creativeApi=b||"None"},getReplicaId:function(){return this._replicaId},getContentType:function(){return this._contentType?this._contentType:this._primaryCreativeRenditionAsset&&this._primaryCreativeRenditionAsset.getContentType()?this._primaryCreativeRenditionAsset.getContentType():null},setContentType:function(b){this._contentType=b},getWrapperType:function(){return this._wrapperType},
 setWrapperType:function(b){this._wrapperType=b},getWrapperUrl:function(){return this._wrapperUrl},setWrapperUrl:function(b){this._wrapperUrl=b},getBaseUnit:function(){return this._baseUnit},setBaseUnit:function(b){this._baseUnit=b},getPreference:function(){return this._preference},setPreference:function(b){this._preference=b},getWidth:function(){return this._width},setWidth:function(b){this._width=b},getHeight:function(){return this._height},setHeight:function(b){this._height=b},getDuration:function(){return this._duration},
 setDuration:function(b){this._duration=b},getParameter:function(b){return this._parameters[b]},setParameter:function(b,c){null==c?delete this._parameters[b]:this._parameters[b]=c},getUniversalAdId:function(){return this._universalAdId},setUniversalAdId:function(b){this._universalAdId=b},getPrimaryCreativeRenditionAsset:function(){return this._primaryCreativeRenditionAsset},getOtherCreativeRenditionAssets:function(){return this._otherCreativeRenditionAssets.slice()},addCreativeRenditionAsset:function(b,
 e){var d=new c.CreativeRenditionAsset;d.setName(b);e?this._primaryCreativeRenditionAsset=d:this._otherCreativeRenditionAssets.push(d);return d},parse:function(b){if(b){this._id=b.creativeRenditionId||null;this._creativeApi=b.creativeApi||"None";this._replicaId=b.hasOwnProperty("adReplicaId")?b.adReplicaId:"";this._contentType=b.contentType||null;this._wrapperType=b.wrapperType||null;this._wrapperUrl=b.wrapperUrl||null;this._preference=1*b.preference;this._width=1*b.width;this._height=1*b.height;for(var e,
 d=0,f=b.parameters||[];d<f.length;d++)e=f[d],this._parameters[e.name]=e.value;this._primaryCreativeRenditionAsset=new c.CreativeRenditionAsset;this._primaryCreativeRenditionAsset.parse(b.asset);d=0;for(f=b.otherAssets||[];d<f.length;d++)e=f[d],b=new c.CreativeRenditionAsset,b.parse(e),this._otherCreativeRenditionAssets.push(b)}}};c.CreativeRendition.prototype.constructor=c.CreativeRendition;c.CreativeRenditionAsset=function(){this._bytes=this._mimeType=this._contentType=this._content=this._proxiedUrl=
 this._url=this._name=this._id=null};c.CreativeRenditionAsset.prototype={getName:function(){return this._name},setName:function(b){this._name=b},getUrl:function(){return this._url},getProxiedUrl:function(){return this._proxiedUrl},setUrl:function(b){this._url=b;this._proxiedUrl=c.Util.transformCreativeUrlToProxy(this._url)},getContent:function(){return this._content},setContent:function(b){this._content=b},getContentType:function(){return this._contentType},setContentType:function(b){this._contentType=
 b},getMimeType:function(){return this._mimeType},setMimeType:function(b){this._mimeType=b},getBytes:function(){return this._bytes},setBytes:function(b){this._bytes=b},parse:function(b){b&&(this._id=b.id||null,this._name=b.name||null,this._url=b.url||null,this._proxiedUrl=c.Util.transformCreativeUrlToProxy(this._url),this._content=b.content||null,this._contentType=b.contentType||null,this._mimeType=b.mimeType||null,this._bytes=1*b.bytes)}};c.CreativeRenditionAsset.prototype.constructor=c.CreativeRenditionAsset;
 c.AdManager=function(){var b=this,e=this;this._context=this.newContext();this._context.addEventListener(c.EVENT_REQUEST_COMPLETE,function(b){e.onRequestComplete(b)});this._networkId=this._serverURL="";this._fwGDPRConsent=this._fwGDPR=this._location=null;this._fwTCFAPIExecuted=!1;this._fwUSPString=null;this._fwUSPAPIExecuted=!1;this._onRequestComplete=null;this._isListeningForTCData=!1;this._tcfapiImpl=null;this._tcfapiCallback=function(d,e){e?b._onTCFSuccess(d):(b._fwTCFAPIExecuted=!0,b._isListeningForTCData=
 !1,c.warn("TCFAPI add listener failed."))};this._fetchGDPRData();this._fetchCCPAData()};c.AdManager.prototype={getVersion:function(){if(c.version){var b=c.version.match(/^js-(\d)\.(\d)\.(\d).(\d)/)||c.version.match(/^js-(\d)\.(\d)\.(\d)/)||c.version.match(/^js-(\d)\.(\d)/);if(null!=b&&0<b.length){for(var e=0,d=0;d<b.length-1;d++)e+=b[b.length-d-1]<<(d<<3);return e}if(0===c.version.indexOf("js-master"))return 4294967295}return 0},setNetwork:function(b){c.debug("AdManager.setNetwork("+Array.prototype.slice.call(arguments).join(",")+
 ")");if(0<1*b){this._networkId=1*b;for(var e in c._instanceQueue)if(c._instanceQueue.hasOwnProperty(e)){var d=c._instanceQueue[e];d&&d._videoAsset._videoPlayPending&&d._videoAsset.play()}}else c.warn("AdManager.setNetwork","valid networkId required")},setServerURL:function(b){c.debug("AdManager.setServerURL("+Array.prototype.slice.call(arguments).join(",")+")");c.warn("AdManager.setServerURL method is DEPRECATED, use AdManager.setServer instead.");this.setServer(b)},setServer:function(b){c.debug("AdManager.setServer("+
 Array.prototype.slice.call(arguments).join(",")+")");if(b&&"string"===typeof b){this._serverURL=b;for(var e in c._instanceQueue)if(c._instanceQueue.hasOwnProperty(e)){var d=c._instanceQueue[e];d&&d._videoAsset._videoPlayPending&&d._videoAsset.play()}}else c.warn("AdManager.setServer","server url required")},setLocation:function(b){c.debug("AdManager.setLocation("+Array.prototype.slice.call(arguments).join(",")+")");this._location=b},newContext:function(){c.debug("AdManager.newContext("+Array.prototype.slice.call(arguments).join(",")+
 ")");return new c.Context(this)},newContextWithContext:function(b){c.debug("AdManager.newContextWithContext("+Array.prototype.slice.call(arguments).join(",")+")");var e=this.cloneContext(b);e._temporalSlotBase=b._temporalSlotBase;b.getContentVideoElement()&&(e.setContentVideoElement(b.getContentVideoElement()),delete e._temporalSlotBase["_fw_contentVideo_"+b._instanceId]);e._videoDisplaySize=b._videoDisplaySize;e._overriddenAdRenderers=b._overriddenAdRenderers;e._currentContentPlayheadTime=b._currentContentPlayheadTime;
 e.startSubsession(b._adRequest._subsessionToken);e.setRequestMode(b._adRequest._requestMode);e._adRequest._compatibleDimensions=b._adRequest._compatibleDimensions;e._adRequest._keyValues=b._adRequest._keyValues;e._videoAsset._state=b._videoAsset._state;e._videoAsset._callbackTimer=b._videoAsset._callbackTimer;e._videoAsset._videoPlayPending=b._videoPlayPending;e._videoAsset._requestedVideoViewUrl=b._videoAsset._requestedVideoViewUrl;e._videoAsset._delay=b._videoAsset._delay;e._videoAsset._durationType=
 b._videoAsset._durationType;var d=b._extensionManager.extensions,f;for(f in d)d.hasOwnProperty(f)&&e.loadExtension(d[f]);return this._context=e},setParameter:function(b,e,d){c.debug("AdManager.setParameter("+Array.prototype.slice.call(arguments).join(",")+")");this._context.setParameter(b,e,d)},getParameter:function(b){return this._context.getParameter(b)},submitRequest:function(b,e){c.debug("AdManager.submitRequest()");b&&"function"===typeof b?this._onRequestComplete=b:c.warn("AdManager.submitRequest(): callback function required");
 this._context.submitRequest(e/1E3)},onRequestComplete:function(b){c.debug("AdManager.onRequestComplete("+Array.prototype.slice.call(arguments).join(",")+")");this._onRequestComplete&&(this._onRequestComplete({success:b.success,response:b.response}),this._onRequestComplete=null)},registerVideoDisplayBase:function(b){c.debug("AdManager.registerVideoDisplayBase("+Array.prototype.slice.call(arguments).join(",")+")");this._context.registerVideoDisplayBase(b)},setVideoAsset:function(b,e){c.debug("AdManager.setVideoAsset("+
 Array.prototype.slice.call(arguments).join(",")+")");this._context.setVideoAsset(b,e)},setSiteSection:function(b){c.debug("AdManager.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")");this._context.setSiteSection(b)},addKeyValue:function(b,e){c.debug("AdManager.addKeyValue("+Array.prototype.slice.call(arguments).join(",")+")");this._context.addKeyValue(b,e)},setVideoDisplayCompatibleSizes:function(b){c.debug("AdManager.setVideoDisplayCompatibleSizes("+Array.prototype.slice.call(arguments).join(",")+
 ")");this._context.setVideoDisplayCompatibleSizes(b)},playSlots:function(b,e){var d=b;c.warn("AdManager.playSlots() has DEPRECATED, use tv.freewheel.SDK.Slot.Play() instead");c.debug("AdManager.playSlots("+b+")");"string"===typeof b&&(d=b.toUpperCase());this._playSlots(d,e)},_playSlots:function(b,e){var d=e;"function"!==typeof d&&(d=function(){});if(this._context._adResponse){var f=[];e=this._context.getTemporalSlots();for(var g=0;g<e.length;++g){var k=e[g];(.1>Math.abs(k.getTimePosition()-b)||b===
 k.getTimePositionClass())&&f.push(k)}if(0===f.length)c.warn("AdManager.playSlots","no slot matches",b),d();else if(b===c.TIME_POSITION_CLASS_OVERLAY)for(g=0;g<f.length;g++)(function(b){if(!b._onContentVideoTimeUpdate){var d=this._context.getContentVideoElement(),e=b._onContentVideoTimeUpdate=function(f){c.log("_onContentVideoTimeUpdate: event.type = "+f.type);!d.paused&&!0!==d._fw_videoAdPlaying&&0<=d.currentTime-b.getTimePosition()&&1>d.currentTime-b.getTimePosition()&&(d.removeEventListener("timeupdate",
 e,!1),b._play(function(){var c=setInterval(function(){!d.paused&&2<Math.abs(d.currentTime-b.getTimePosition())&&(d.addEventListener("timeupdate",e,!1),clearInterval(c))},1E3)}))};d.addEventListener("timeupdate",e,!1)}})(f[g]);else(function(){var b=f.shift();b?b._play(d):d()})()}else c.warn("AdManager._playSlots","request is not completed"),d()},_setupConsentPostMessage:function(b){c.debug("AdManager.setupConsentPostMessage");var e=b+"Locator",d=b+"Call",f=b+"Return",g=c.Util.getFrameAncestor(e),k=
 {};window[b]=function(b,c,f){if(g){var h=Math.random()+"",l={};b=(l[d]={command:b,parameter:c,callId:h},l);k[h]=f;g.postMessage(b,"*")}else f({msg:e+" not found"},!1)};window.addEventListener("message",function(b){b="string"===typeof b.data?JSON.parse(b.data):b.data;b[f]&&(b=b[f],"function"===typeof k[b.callId]&&(k[b.callId](b.returnValue,b.success),delete k[b.callId]))},!1)},_retrieveGDPRWithPostMessage:function(){c.debug("AdManager.retrieveGDPRWithPostMessage");this._setupConsentPostMessage("__tcfapi");
 this._tcfapiImpl=window.__tcfapi;this._getGdprConsentData()},_fetchGDPRData:function(){c.debug("AdManager.fetchGDPRData");var b=c.Util.getTopMostWindow();try{this._tcfapiImpl=b.__tcfapi,this._getGdprConsentData()}catch(e){c.warn("__tcfapi function on top window is inaccessible due to the following error: "+e.description),this._retrieveGDPRWithPostMessage()}},_addEventListenerForTCData:function(){c.debug("AdManager._addEventListenerForTCData");this._isListeningForTCData=!0;try{this._tcfapiImpl("addEventListener",
 c.GDPR_TCFAPI_VERSION,this._tcfapiCallback.bind(this))}catch(b){this._fwTCFAPIExecuted=!0,c.warn("AdManager._addEventListenerForTCData failed with err: ",b,b.description)}},_removeEventListenerForTCData:function(){c.debug("AdManager._removeEventListenerForTCData");this._isListeningForTCData=!1;try{this._tcfapiImpl("removeEventListener",c.GDPR_TCFAPI_VERSION,function(b){b?c.log("removeEventListener succeeded"):c.warn("TCFAPI remove listener failed.")},this._tcfapiCallback.bind(this))}catch(b){c.warn("AdManager._removeEventListenerForTCData failed with err: ",
 b,b.description)}},_getTCStringFromTCData:function(b){var e=b.gdprApplies;null!==e?void 0==e?this._fwGDPR="":"boolean"==typeof e?this._fwGDPR=e?1:0:(this._fwGDPR=e.toString(),c.warn("VendorConsentData's gdprApplies value is malformed.")):c.warn("VendorConsentData's gdprApplies value is missing.");b=b.tcString;null!=b?"string"==typeof b?this._fwGDPRConsent=b:(this._fwGDPRConsent=b.toString(),c.warn("VendorConsentData's consentData value is malformed.")):c.warn("VendorConsentData's consentData value is missing.")},
 _onTCFSuccess:function(b){c.debug("AdManager._onTCFSuccess with event status ",b.eventStatus);this._getTCStringFromTCData(b);"tcloaded"==b.eventStatus||"useractioncomplete"==b.eventStatus?(this._fwTCFAPIExecuted=!0,this._isListeningForTCData&&this._removeEventListenerForTCData()):"cmpuishown"==b.eventStatus?this._isListeningForTCData||this._addEventListenerForTCData():(this._fwGDPRConsent=this._fwGDPR="",this._fwTCFAPIExecuted=!0,c.warn("VendorConsentData's event status is missing or not valid."))},
 _getGdprConsentData:function(){c.debug("AdManager.getGdprConsentData");if("function"==typeof this._tcfapiImpl)try{this._tcfapiImpl("getTCData",c.GDPR_TCFAPI_VERSION,this._tcfapiCallback.bind(this))}catch(b){this._fwTCFAPIExecuted=!0,c.warn("AdManager.getGdprConsentData failed with err: ",b,b.description)}else this._fwTCFAPIExecuted=!0,c.warn("TCFAPI function cannot be found. _fw_gdpr: "+this._fwGDPR+", _fw_gdpr_consent: "+this._fwGDPRConsent)},_retrieveCCPAWithPostMessage:function(){c.debug("AdManager.retrieveCCPAWithPostMessage");
 this._setupConsentPostMessage("__uspapi");this._getUSPData(window.__uspapi)},_fetchCCPAData:function(){c.debug("AdManager.fetchCCPAData");var b=c.Util.getTopMostWindow();try{var e=b.__uspapi;this._getUSPData(e)}catch(d){c.warn("__uspapi function on top window is inaccessible due to the following error: "+d.description),this._retrieveCCPAWithPostMessage()}},_getUSPData:function(b){c.debug("AdManager.getUSPData");if("function"==typeof b)try{var e=this;b("getUSPData",1,function(b,f){f?(b=b.uspString,
 null!=b?"string"==typeof b?e._fwUSPString=b:(e._fwUSPString=b.toString(),c.warn("USPData's uspString value is malformed.")):c.warn("USPData's uspString value is missing.")):c.warn("Cannot retrieve CCPA params from USPAPI.");e._fwUSPAPIExecuted=!0},this)}catch(d){this._fwUSPAPIExecuted=!0,c.warn("AdManager.getUSPData "+d.description)}else this._fwUSPAPIExecuted=!0,c.warn("USPAPI function cannot be found. _fw_us_privacy: "+this._fwUSPString)},dispose:function(){c.debug("AdManager.dispose()");this._context.dispose();
 this._onRequestComplete=null},cloneContext:function(b){var c=this.newContext(),d=b._adRequest._capabilities._capabilities,f;for(f in d)d.hasOwnProperty(f)&&c.setCapability(f,d[f]);c.setProfile(b._adRequest._playerProfile);c.setSiteSection(b._ss_id,b._ss_networkId,b._ss_pageViewRandom,b._ss_idType,b._ss_fallbackId);c.setVideoAsset(b._va_id,b._va_duration,b._va_networkId,b._va_location,b._va_autoPlayType,b._va_viewRandom,b._va_idType,b._va_fallbackId,b._va_durationType);c.setVisitor(b._adRequest._visitorCustomId,
 b._adRequest._visitorIpV4Address);return c}};c.AdManager.prototype.constructor=c.AdManager;c._instanceCounter=0;c._instanceQueue={};c.Context=function(b){this._adManager=b;this._eventDispatcher=new c.EventDispatcher;this._adRequest=new c.AdRequest(this);this._adResponse=null;this._videoAsset=new c.VideoAsset(this);this._temporalSlotBase=null;this._videoDisplaySize={};this._globalLevelParameterDictionary={};this._overrideLevelParameterDictionary={};this._globalLevelParameterDictionary[c.PARAMETER_AUTO_PAUSE_AD_ONVISIBILITYCHANGE]=
 !0;this._globalLevelParameterDictionary[c.PARAMETER_DISABLE_CORS_ENFORCEMENT]=!0;this._globalLevelParameterDictionary[c.PARAMETER_USE_GDPR_TCFAPI]=!0;this._globalLevelParameterDictionary[c.PARAMETER_USE_CCPA_USPAPI]=!0;this._globalLevelParameterDictionary[c.PARAMETER_CONSENT_RETRIEVAL_TIMEOUT]=500;this._rendererManifest={};this._overriddenAdRenderers=[];this._extensionManager=new c.ExtensionManager(this);this._totalSetDisplaySizeCount=this._autoSetDisplaySizeCount=this._requestState=0;this._instanceId=
 c._instanceCounter;c._instanceQueue["Context_"+c._instanceCounter]=this;c._instanceCounter++;this._contentVideoAttached=!1;this._currentContentPlayheadTime=0;this._ss_id="";this._ss_networkId=this._ss_pageViewRandom=0;this._ss_idType=c.ID_TYPE_CUSTOM;this._va_location=this._va_networkId=this._va_duration=this._va_id=this._ss_fallbackId="";this._va_autoPlayType=c.VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED;this._va_fallbackId="";this._va_viewRandom=0;this._va_idType=c.ID_TYPE_CUSTOM;this._va_durationType=
 c.VIDEO_ASSET_DURATION_TYPE_EXACT;this._isRefreshRequest=!1;this._refreshSlots=[];this._adVolume=1;this._onVolumeChange=this.__onVolumeChange.bind(this)};c.Context.prototype={getAdVolume:function(){return this._adVolume},setAdVolume:function(b){c.debug("Context.setAdVolume",b);if(this.getContentVideoElement())if("number"!==typeof b||0>b||1<b)c.debug("Invalid volume: "+b);else if((c.PLATFORM_IS_IPHONE_IPOD||c.PLATFORM_IS_IPAD)&&0<b&&1>b)c.debug("iOS doesn't allow volume values other than 0 and 1, ignore.");
 else if(b===this._adVolume)c.debug("Volume did not change, ignore.");else{this._adVolume=b;b=this.getTemporalSlots();for(var e=0;e<b.length;++e){var d=b[e];if(d.getType()===c.SLOT_TYPE_TEMPORAL&&d.getState()!==c.MediaInitState.instance&&d.getState()!==c.MediaEndState.instance&&(d=d.getCurrentAdInstance())){d.setVolume(this._adVolume);break}}}else c.debug("No video element set, ignore.")},__onVolumeChange:function(b){c.debug("Context._onVolumeChange(): event = "+b.type);c.debug("Context._onVolumeChange(): video element is muted: "+
 this.getContentVideoElement().muted);0!==this._adVolume||this.getContentVideoElement().muted?this.setAdVolume(this.getContentVideoElement().muted?0:this.getContentVideoElement().volume):this.setAdVolume(this.getContentVideoElement().volume)},addRenderer:function(b,c,d,f,g,k,h){this._overriddenAdRenderers.push({url:b,baseUnit:c,contentType:d,creativeApi:k,slotType:f,soAdUnit:g,parameter:h})},setCapability:function(b,e){c.debug("Context.setCapability",b,e);this._adRequest.setCapability(b,e)},addKeyValue:function(b,
 e){c.debug("Context.addKeyValue",b,e);this._adRequest.addKeyValue(b,e)},setParameter:function(b,e,d){c.debug("Context.setParameter",b,e,d);if(d===c.PARAMETER_LEVEL_GLOBAL)d=this._globalLevelParameterDictionary;else if(d===c.PARAMETER_LEVEL_OVERRIDE)d=this._overrideLevelParameterDictionary;else return;null==e?delete d[b]:d[b]=e},getParameter:function(b){return b?this._overrideLevelParameterDictionary.hasOwnProperty(b)?this._overrideLevelParameterDictionary[b]:this._adResponse&&this._adResponse._profileParameters.hasOwnProperty(b)?
 this._adResponse._profileParameters[b]:this._globalLevelParameterDictionary.hasOwnProperty(b)?this._globalLevelParameterDictionary[b]:null:null},setVideoState:function(b){c.debug("Context.setVideoState",b);this._videoAsset.setVideoState(b)},registerVideoDisplayBase:function(b){c.debug("Context.registerVideoDisplayBase",b);if(b&&"string"===typeof b){if(this._temporalSlotBase&&this._temporalSlotBase.id===b){c.debug("Context.registerVideoDisplayBase","register the same display base, will only change size");
 var e=this._temporalSlotBase.getElementsByTagName("video")}else{this._temporalSlotBase&&this.getContentVideoElement().removeEventListener("volumechange",this._onVolumeChange);this._temporalSlotBase=document.getElementById(b);if(!this._temporalSlotBase){c.warn("Context.registerVideoDisplayBase","could not get element",b);return}e=this._temporalSlotBase.getElementsByTagName("video");if(0===e.length){c.warn("Context.registerVideoDisplayBase","could not get video element from",b);this._temporalSlotBase=
 null;return}this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=e[0];this.getContentVideoElement().addEventListener("volumechange",this._onVolumeChange);this._adVolume=e[0].muted?0:e[0].volume}this._setVideoDisplaySizeByContentVideo(e[0])}else c.warn("Context.registerVideoDisplayBase","id required")},setContentVideoElement:function(b){c.debug("Context.setContentVideoElement()");if(b&&b.parentNode){var e=this._temporalSlotBase;this._temporalSlotBase=b.parentNode;this._temporalSlotBase["_fw_contentVideo_"+
 this._instanceId]===b?c.debug("Context.setContentVideoElement","set the same video in same div, will only change size"):(e&&e["_fw_contentVideo_"+this._instanceId]&&e["_fw_contentVideo_"+this._instanceId].removeEventListener("volumechange",this._onVolumeChange),this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=b,this.getContentVideoElement().addEventListener("volumechange",this._onVolumeChange),this._adVolume=this.getContentVideoElement().muted?0:this.getContentVideoElement().volume);this._setVideoDisplaySizeByContentVideo(b)}else c.warn("Context.setContentVideoElement",
 "contentVideo and contentVideo.parentNode is required")},getContentVideoElement:function(){return this._temporalSlotBase?this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]:(c.warn("SlotBase is null"),null)},setVideoDisplaySize:function(b,e,d,f,g){c.debug("Context.setVideoDisplaySize("+Array.prototype.slice.call(arguments).join(",")+")");this._totalSetDisplaySizeCount++;this._videoDisplaySize={left:b,top:e,width:d,height:f,position:g};for(var k=this.getTemporalSlots(),h=0;h<k.length;++h){var l=
 k[h];l.setWidth(d);l.setHeight(f);if(l.getState()===c.MediaPlayingState.instance||l.getState()===c.MediaReplayingState.instance){if(k=l.getCurrentAdInstance())(k=k.getRendererController().getRenderer())&&k.resize?k.resize():c.debug("renderer do not support resize");break}}},getVideoDisplaySize:function(){function b(b){b=parseInt(b,10);isNaN(b)&&(b=0);return b}this._videoDisplaySize.left=b(this._videoDisplaySize.left);this._videoDisplaySize.right=b(this._videoDisplaySize.right);this._videoDisplaySize.width=
 b(this._videoDisplaySize.width);this._videoDisplaySize.height=b(this._videoDisplaySize.height);return this._videoDisplaySize},setVideoDisplayCompatibleSizes:function(b){c.debug("Context.setVideoDisplayCompatibleSizes",b);this._adRequest.setVideoDisplayCompatibleSizes(b)},resize:function(b,e){c.debug("Context.resize("+Array.prototype.slice.call(arguments).join(",")+")");if(!this._temporalSlotBase)return c.warn("SlotBase is null"),null;this.setVideoDisplaySize(this._videoDisplaySize.left,this._videoDisplaySize.right,
 b,e,this._videoDisplaySize.position)},setProfile:function(b){c.debug("Context.setProfile",b);this._adRequest.setProfile(b)},setVideoAsset:function(b,e,d,f,g,k,h,l,p){c.debug("Context.setVideoAsset("+Array.prototype.slice.call(arguments).join(",")+")");this._videoAsset.setVideoAsset(b,e,d,f,g,k,h,l,p);this._va_id=b;this._va_duration=e;this._va_networkId=d;this._va_location=f;this._va_autoPlayType=g;this._va_viewRandom=k;this._va_idType=h;this._va_fallbackId=l;this._va_durationType=p},setVideoAssetCurrentTimePosition:function(b){c.debug("Context.setVideoAssetCurrentTimePosition("+
 b+")");this._videoAsset.setVideoAssetCurrentTimePosition(b)},setSiteSection:function(b,e,d,f,g){c.debug("Context.setSiteSection("+Array.prototype.slice.call(arguments).join(",")+")");this._adRequest.setSiteSection(b,e,d,f,g);this._ss_id=b;this._ss_networkId=e;this._ss_pageViewRandom=d;this._ss_idType=f;this._ss_fallbackId=g},setVisitor:function(b,e){c.debug("Context.setVisitor("+Array.prototype.slice.call(arguments).join(",")+")");this._adRequest.setVisitor(b,e)},startSubsession:function(b){c.debug("Context.startSubsession("+
 b+")");this._adRequest.setSubsessionToken(b)},setRequestMode:function(b){c.debug("Context.setRequestMode("+b+")");this._adRequest.setRequestMode(b)},setRequestDuration:function(b){c.debug("Context.setRequestDuration("+b+")");this._adRequest.setRequestDuration(b)},addCandidateAd:function(b){c.debug("Context.addCandidateAd("+b+")");this._adRequest.addCandidateAd(b)},addTemporalSlot:function(b,e,d,f,g,k,h,l,p){c.debug("Context.addTemporalSlot("+Array.prototype.slice.call(arguments).join(",")+")");this._adRequest.addTemporalSlot(b,
 e,d,f,g,k,h,l,p)},getTemporalSlots:function(){return this._adResponse?this._adResponse._temporalSlots.slice():[]},getSlotByCustomId:function(b){return this._adResponse?this._adResponse.getSlotByCustomId(b):null},getSlotsByTimePositionClass:function(b){var c=[],d;if(this._adResponse){for(d=0;d<this._adResponse._temporalSlots.length;d++)this._adResponse._temporalSlots[d].getTimePositionClass()===b&&c.push(this._adResponse._temporalSlots[d]);for(d=0;d<this._adResponse._siteSectionNonTemporalSlots.length;d++)this._adResponse._siteSectionNonTemporalSlots[d].getTimePositionClass()===
 b&&c.push(this._adResponse._siteSectionNonTemporalSlots[d]);for(d=0;d<this._adResponse._videoPlayerNonTemporalSlots.length;d++)this._adResponse._videoPlayerNonTemporalSlots[d].getTimePositionClass()===b&&c.push(this._adResponse._videoPlayerNonTemporalSlots[d])}return c},_isConsentRequired:function(){var b=this.getParameter(c.PARAMETER_USE_GDPR_TCFAPI)&&!this._adManager._fwTCFAPIExecuted,e=this.getParameter(c.PARAMETER_USE_CCPA_USPAPI)&&!this._adManager._fwUSPAPIExecuted;return b||e},submitRequest:function(b){c.debug("Context.submitRequest",
 b);var e=0;if(!this._isConsentRequired()||this._isRefreshRequest)this._submitValidatedRequest(b);else var d=this.getParameter(c.PARAMETER_CONSENT_RETRIEVAL_TIMEOUT),f=setInterval(function(){e+=100;if(!this._isConsentRequired()||e>=d)clearInterval(f),this._submitValidatedRequest(b)}.bind(this),100)},_submitValidatedRequest:function(b){this.dispatchEvent(c.EVENT_REQUEST_INITIATED,{});this._adManager._isListeningForTCData&&this._adManager._removeEventListenerForTCData();if(this._requestState)c.warn("Context.submitRequest: request already submitted");
 else if(c.Util.isBlank(this._adManager._serverURL))c.warn("Context.submitRequest: serverURL is not set");else{this._requestState=1;this._adRequest.useTCFAPI();this._adRequest.useUSPAPI();this._adRequest.scanPageSlots();if(this._isRefreshRequest){var e={},d=[],f,g;for(f=0;f<this._refreshSlots.length;f++){var k=this._refreshSlots[f];if(void 0!==this._adRequest._slotScanner._slots[k]){e[k]=this._adRequest._slotScanner._slots[k];var h=e[k].split("&");for(g=0;g<h.length;g++)-1!==h[g].search("flag")&&(h[g]=
 "flag=-cmpn");e[k]=h.join("&")}for(g=0;g<this._adRequest._slotScanner._knownSlots.length;g++)this._adRequest._slotScanner._knownSlots[g].id===k&&(h=this._adRequest._slotScanner._knownSlots[g],h.acceptCompanion=!1,h.initialAdOption=c.SLOT_OPTION_INITIAL_AD_STAND_ALONE,d.push(h))}this._adRequest._slotScanner._slots=e;this._adRequest._slotScanner._knownSlots=d}this.getParameter(c.PARAMETER_ENABLE_FORM_TRANSPORT)&&(c.debug("Context.submitRequest: enabling Safari transport mechanism globally"),c.PLATFORM_SEND_REQUEST_BY_FORM=
 !0);e=this._adManager._serverURL;".js"!==e.substring(e.length-3,e.length)&&(e=this._adRequest.generateTypeBRequestUrl());d=function(){1===this._requestState&&(c.warn("Context.submitRequest: request timeout"),this.requestComplete(null))}.bind(this);if("number"!==typeof b||0>=b||!b)b=5;setTimeout(d,1E3*b);c.log("Context.submitRequest: sending request to",e,"timeout",b);c.PLATFORM_SEND_REQUEST_BY_FORM?(c.debug("Context.submitRequest:","use json2"),c.Util.pingURLWithForm(e,this._instanceId,!0),this._onMessagePosted=
 function(b){"object"===typeof b.data&&b.data.hasOwnProperty("cbfn")&&-1<b.data.cbfn.indexOf("['Context_"+this._instanceId+"']")&&this.requestComplete(b.data.response)}.bind(this),window.addEventListener("message",this._onMessagePosted,!1)):c.Util.pingURLWithScript(e)}},requestComplete:function(b){if(1!==this._requestState)c.warn("ad request complete after timeout"),this.dispatchEvent(c.EVENT_REQUEST_COMPLETE,{success:!1});else{this._requestState=2;c.debug("Context.requestComplete");if(c.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",
 this._onMessagePosted,!1);var e=document.getElementById("_fw_request_iframe_"+this._instanceId);document.body.removeChild(e)}if(null!=b){c._instanceQueue["Context_"+this._instanceId]=null;this._adResponse=new c.AdResponse(this);this._adResponse.parse(b,this._temporalSlotBase);c.log("Ad request succeeded");if(this._adResponse._profileParameters.autoloadExtensions){e=this._adResponse._profileParameters.autoloadExtensions.split(",");for(var d=0;d<e.length;d++){var f=e[d].trim();c.log("Loading extension: "+
 f);this.loadExtension(f)}}this.dispatchEvent(c.EVENT_REQUEST_COMPLETE,{success:!0,response:b});e=this._adResponse.getSiteSectionNonTemporalSlots();for(b=0;b<e.length;++b)c.log("Auto play site section nonTemporal slots"),e[b].play();e=this._adResponse.getVideoPlayerNonTemporalSlots();for(b=0;b<e.length;++b)c.log("Auto play video player nonTemporal slots"),e[b].play()}else c.warn("Ad request failed"),this.dispatchEvent(c.EVENT_REQUEST_COMPLETE,{success:!1})}},addEventListener:function(b,e){c.debug("Context.addEventListener",
 b);this._eventDispatcher.addEventListener(b,e)},removeEventListener:function(b,e){c.debug("Context.removeEventListener",b);this._eventDispatcher.removeEventListener(b,e)},dispatchEvent:function(b,e){c.log("Context.dispatchEvent type: "+b+", payload: "+e);if(b===c.EVENT_SLOT_STARTED){var d=e.slot.getTimePositionClass();if(d===c.TIME_POSITION_CLASS_PREROLL||d===c.TIME_POSITION_CLASS_MIDROLL||d===c.TIME_POSITION_CLASS_POSTROLL)this._contentVideoAttached=!0,this._markCurrentContentPlayheadTime()}else b===
 c.EVENT_SLOT_ENDED&&(d=e.slot.getTimePositionClass(),d===c.TIME_POSITION_CLASS_PREROLL||d===c.TIME_POSITION_CLASS_MIDROLL||d===c.TIME_POSITION_CLASS_POSTROLL)&&(this._contentVideoAttached=!1);e=e||{};e.type=b;e.target=this;this._eventDispatcher.dispatchEvent(e)},dispose:function(){c.debug("Context.dispose");this.setVideoState(c.VIDEO_STATE_STOPPED);if(this._adResponse){if(this._temporalSlotBase){for(var b=0,e=this._adResponse._temporalSlots||[];b<e.length;++b){var d=e[b];d.getCurrentAdInstance()&&
 d.stop();if(d._onContentVideoTimeUpdate){var f=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId];f&&f.removeEventListener("timeupdate",d._onContentVideoTimeUpdate,!1);d._onContentVideoTimeUpdate=null}}this.getContentVideoElement().removeEventListener("volumechange",this._onVolumeChange);this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]=null}this._isRefreshRequest=!1;this._refreshSlots=[];this._extensionManager.dispose();this._extensionManager=null}},loadExtension:function(b){this._extensionManager.load(b,
 this)},_markCurrentContentPlayheadTime:function(){var b=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime;0<b&&(this._currentContentPlayheadTime=b)},_getContentPlayheadTime:function(){var b=-1;!this._contentVideoAttached&&this._temporalSlotBase&&this._temporalSlotBase["_fw_contentVideo_"+this._instanceId]&&(b=this._temporalSlotBase["_fw_contentVideo_"+this._instanceId].currentTime);return 0<b?b:this._currentContentPlayheadTime},_requestContentVideoToPauseBySlot:function(b){this._videoAsset.requestPauseBySlot(b)},
 _requestContentVideoToResumeBySlot:function(b){this._videoAsset.requestResumeBySlot(b)},_setVideoDisplaySizeByContentVideo:function(b){if(this._autoSetDisplaySizeCount===this._totalSetDisplaySizeCount){var c=b.style.left,d=b.style.top,f=b.offsetWidth?b.offsetWidth:b.style.pixelWidth,g=b.offsetHeight?b.offsetHeight:b.style.pixelHeight;b=b.style.position;this._autoSetDisplaySizeCount++;this.setVideoDisplaySize(c,d,f,g,b)}},_replacePageSlot:function(b,e){c.debug("fw replace %s",b);var d;try{var f=document.getElementById(b)?
 document:parent.document.getElementById(b)?parent.document:null;var g=document.getElementById(b)?"window":parent.document.getElementById(b)?"parent":null}catch(p){g=f=null}if(!f)for(var k=0;k<window.frames.length;k++)try{window.frames[k].document.getElementById(b)&&(f=window.frames[k].document,g="window.frames["+k+"]")}catch(p){c.debug(p)}g&&(d=g+".document");c.debug("fw replacing slot %s in frame %s",b,d);if(!f)throw"Slot element not found: "+b;k=f.getElementById("_fw_container_"+b);k.innerHTML=
 e;e=k.getElementsByTagName("script");var h=f.getElementsByTagName("head")[0];for(k=0;k<e.length;++k)if(c.PLATFORM_IS_FIREFOX||e[k].src){var l=f.createElement("script");e[k].charset&&(l.charset=e[k].charset);e[k].src&&(l.src=e[k].src);e[k].innerHTML&&(l.innerHTML=e[k].innerHTML);l.onload=l.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||h.removeChild(l)};c.debug("fw append script for %s",b);h.appendChild(l)}else l=e[k].innerHTML,l=l.replace(/var fw_scope = document;/,
 "var fw_scope="+d+";"),l=l.replace(/var fw_scope_window = window;/,"var fw_scope_window="+g+";"),c.debug("fw eval in %s for %s, %s",d,b,l),eval(l);c.debug("fw finish replace %s",b)}};c.Context.prototype.constructor=c.Context;c.Capabilities=function(){this._capabilities={};this.init()};c.Capabilities.prototype={init:function(){for(var b=[c.CAPABILITY_SLOT_TEMPLATE,c.CAPABILITY_MULTIPLE_CREATIVE_RENDITIONS,c.CAPABILITY_FALLBACK_UNKNOWN_ASSET,c.CAPABILITY_FALLBACK_UNKNOWN_SITE_SECTION,c.CAPABILITY_FALLBACK_ADS,
 c.CAPABILITY_SLOT_CALLBACK,c.CAPABILITY_NULL_CREATIVE,c.CAPABILITY_AUTO_EVENT_TRACKING,c.CAPABILITY_RENDERER_MANIFEST],e=0;e<b.length;e++)this._capabilities[b[e]]=c.CAPABILITY_STATUS_ON},setCapability:function(b,c){this._capabilities[b]=c},getCapability:function(b){return this._capabilities[b]},parseCapabilities:function(b){var e="",d;for(d in this._capabilities)if(this._capabilities.hasOwnProperty(d)){switch(this._capabilities[d]){case c.CAPABILITY_STATUS_ON:e+="+"+d;break;case c.CAPABILITY_STATUS_OFF:e+=
 "-"+d}b=b.replace(new RegExp("(%2B|-|\\+)"+d,"g"),"")}e=encodeURIComponent(e);return b=-1<b.indexOf("flag=")?b.replace(/flag=/,"flag="+e):b+("&flag="+e)}};c.VideoAsset=function(b){this._defaultTimeouts=[5,10,15,30,60,120,180,300];this._context=b;this._internalState=c.MediaInitState.instance;this._eventCallback=this._state="";this._callbackTimer=null;this._requestedVideoViewUrl=this._videoPlayPending=!1;this._dummyInstanceId="";this._delay=0;this._location=this._networkId=this._duration=this._customId=
 this._id="";this._autoPlayType=null;this._fallbackId="";this._viewRandom=0;this._durationType=null;this._currentTpos=0};c.VideoAsset.prototype={setVideoAsset:function(b,e,d,f,g,k,h,l,p){if(b){switch(h){case c.ID_TYPE_FW:h=this._id!==b;this._id=b;break;case c.ID_TYPE_GROUP:h=this._id!=="g"+b;this._id="g"+b;break;default:h=this._customId!==b,this._customId=b}h&&(this._eventCallback="");"number"===typeof e&&(this._duration=Math.round(10*e)/10);0<1*d&&(this._networkId=1*d);"string"===typeof f&&(this._location=
 f);"number"===typeof g&&(this._autoPlayType=g);0<1*k&&(this._viewRandom=1*k);"number"===typeof l&&0<l?this._fallbackId=""+l:"string"===typeof l&&(this._fallbackId=l.trim());if(p===c.VIDEO_ASSET_DURATION_TYPE_EXACT||p===c.VIDEO_ASSET_DURATION_TYPE_VARIABLE)this._durationType=p;this._videoPlayPending&&this.play()}else c.warn("AdRequest.setVideoAsset","id is required.")},setVideoAssetCurrentTimePosition:function(b){!b||0>b?c.warn("AdRequest.setVideoAssetCurrentTimePosition","valid timePosition is required"):
 this._currentTpos=b},setVideoState:function(b){b===c.VIDEO_STATE_PLAYING?(this._state===c.VIDEO_STATE_PAUSED&&this._context.dispatchEvent(c.EVENT_CONTENT_VIDEO_RESUMED),this.play()):b===c.VIDEO_STATE_PAUSED||b===c.VIDEO_STATE_STOPPED?(this.pause(),b===c.VIDEO_STATE_PAUSED&&this._state===c.VIDEO_STATE_PLAYING&&this._context.dispatchEvent(c.EVENT_CONTENT_VIDEO_PAUSED)):b===c.VIDEO_STATE_COMPLETED&&this.complete();this._state=b},callback:function(b){this._eventCallback?this._eventCallback.process():
 b=!0;b||((b=this._defaultTimeouts.shift())||(b=300),this._callbackTimer=new c.Timer(b,c.Util.bind(this,this.callback)),this._callbackTimer.start())},getPlayheadTime:function(){var b=this._delay;this._delay=0;b+=this._callbackTimer?this._callbackTimer.getCTValue():0;return Math.floor(b)},play:function(){this._context._adManager._serverURL&&this._context._adManager._networkId&&(this._id||this._customId)?this._eventCallback?(this._videoPlayPending=!1,this._internalState.play(this)):this._requestedVideoViewUrl||
 (this._requestedVideoViewUrl=!0,this.requestForVideoViewCallback(),this._callbackTimer||(this._callbackTimer=new c.Timer,this._callbackTimer.tick())):(c.warn("Server URL or Network ID or Video Asset id/customId is not set, delay video asset state change until these are provided."),this._videoPlayPending=!0,this._callbackTimer||(this._callbackTimer=new c.Timer,this._callbackTimer.tick()))},pause:function(){this._internalState.pause(this)},complete:function(){this._internalState.complete(this)},onStartPlaying:function(){this.callback()},
 onStartReplaying:function(){this.callback()},onPausePlaying:function(){this.callback(!0);this._callbackTimer.pause()},onResumePlaying:function(){this._callbackTimer.start()},onCompletePlaying:function(){this.callback(!0);this._callbackTimer.stop();this._callbackTimer=null;this._eventCallback="";this._requestedVideoViewUrl=!1},onCompleteReplaying:function(){this.onCompletePlaying()},setMediaState:function(b){this._internalState=b},requestPauseBySlot:function(b){c.debug("requestPauseBySlot");this._internalState===
 c.MediaPlayingState.instance||this._internalState===c.MediaReplayingState.instance?this._context.dispatchEvent(c.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,{slot:b}):c.debug("Not sending content pause request because content video state is",JSON.stringify(this._internalState))},requestResumeBySlot:function(b){c.debug("requestResumeBySlot");this._internalState===c.MediaPausedState.instance||this._internalState===c.MediaReplayPausedState.instance?this._context.dispatchEvent(c.EVENT_CONTENT_VIDEO_RESUME_REQUEST,
 {slot:b}):c.debug("Not sending content resume request because content video state is ",JSON.stringify(this._internalState))},requestForVideoViewCallback:function(){var b=new c.Context(this._context._adManager);b._videoAsset=this;this._dummyInstanceId=b._instanceId;b=this._context._adRequest.generateVideoViewRequestUrlWithDummyContextInstanceId(b._instanceId);var e=this;c.PLATFORM_SEND_REQUEST_BY_FORM?(c.debug("Context.submitRequest:","use json2"),c.Util.pingURLWithForm(b,this._dummyInstanceId,!0),
 e._onMessagePosted=function(b){"object"===typeof b.data&&b.data.hasOwnProperty("cbfn")&&-1<b.data.cbfn.indexOf("['Context_"+this._dummyInstanceId+"']")&&e.requestComplete(b.data.response)},window.addEventListener("message",e._onMessagePosted,!1)):c.Util.pingURLWithScript(b)},requestComplete:function(b){this._delay=this._callbackTimer.tick();this._callbackTimer=null;if(c.PLATFORM_SEND_REQUEST_BY_FORM){window.removeEventListener("message",this._onMessagePosted,!1);var e=document.getElementById("_fw_request_iframe_"+
 this._dummyInstanceId);document.body.removeChild(e)}null!=b?(c._instanceQueue["Context_"+this._dummyInstanceId]=null,this.parse(c.Util.getObject("siteSection.videoPlayer.videoAsset",b)||{}),this.play()):c.warn("Failed to get video view callback url.")},parse:function(b){if(b){this._customId=b.customId;this._networkId=parseInt(b.networkId);for(var e=0,d=b.eventCallbacks||[];e<d.length;e++){b=d[e];var f=c.EventCallback.newEventCallback(this._context,b.name,b.type);if(f&&b.name===c.EVENT_VIDEO_VIEW){f.parse(b);
 this._eventCallback=f;c.debug("Parsed video view url: "+this._eventCallback._url);break}}}}};c.NullRenderer=function(){this._rendererController=null};c.NullRenderer.prototype={start:function(b){this._rendererController=b;this._rendererController.setCapability(c.EVENT_AD_CLICK,c.CAPABILITY_STATUS_OFF);this._rendererController.handleStateTransition(c.RENDERER_STATE_STARTED);this._rendererController.handleStateTransition(c.RENDERER_STATE_COMPLETED)},info:function(){return{moduleType:c.MODULE_TYPE_RENDERER}},
 getPlayheadTime:function(){return-1},getDuration:function(){return-1}};c.NullRenderer.prototype.constructor=c.NullRenderer;c.VPAIDWrapper=function(){this._creative=null;this._timeoutInMs=0;this._eventHandlers={};this._timeoutTimer=null;this._timeoutOperation="";this.timeoutReached=!1;this._visibilityChangeListener=null;this._creativePausedByTabSwitch=!1;this._autoPauseAdOnVisibilityChange=!0;this._loadIntervalTimer=null;this._isCORSEnforcementDisabled=!0};c.VPAIDWrapper.prototype={_isCreativeFunctionInvokable:function(b){return this._creative?
 (b=this._creative[b])&&"function"===typeof b:!1},checkVPAIDInterface:function(b){for(var c={passed:!0,missingInterfaces:""},d=b.length-1;0<=d;d--)this._isCreativeFunctionInvokable(b[d])||(c.passed=!1,c.missingInterfaces+=b[d]+" ");return c},loadCreativeAsset:function(b){c.log("loadCreativeAsset("+b+")");var e=document.getElementById("vpaidFrame"),d=document.createElement("iframe");d.id="vpaidFrame";null==e?document.body.appendChild(d):document.body.replaceChild(d,e);d.width=0;d.height=0;d.style.display=
 "none";d.contentWindow.document.open();if(this._isCORSEnforcementDisabled){c.log("CORS Enforcement Disabled");d.contentWindow.document.write('<script type="text/javascript" src="'+b+'"> \x3c/script>');d.contentWindow.document.close();this._timeoutOperation="loadCreativeAsset";this._waitForTimeout();var f=this;this._loadIntervalTimer=setInterval(function(){var b=document.getElementById("vpaidFrame").contentWindow.getVPAIDAd;b&&"function"===typeof b&&(clearInterval(f._loadIntervalTimer),b=b(),"undefined"===
 typeof b?c.debug("getVPAIDAd() returns undefined value"):null==b?c.debug("getVPAIDAd() returns null"):(f._creative=b,f._eventHandlers.CreativeAssetLoaded()))},200)}else{d.contentWindow.document.close();this._timeoutOperation="loadCreativeAsset";f=this;var g=new XMLHttpRequest;g.open("GET",b);g.timeout=f._timeoutInMs;g.onreadystatechange=function(){if(4==g.readyState)if(200===g.status)try{d.contentWindow.eval(g.responseText);var e=d.contentWindow.getVPAIDAd;if(e&&"function"===typeof e){var h=e();if("undefined"===
 typeof h)throw"getVPAIDAd() returns undefined value";if(null==h)throw"getVPAIDAd() returns null";f._creative=h;f._eventHandlers.CreativeAssetLoaded()}else throw"getVPAIDAd() funtion does not exist";}catch(l){c.warn(l),f._eventHandlers.loaderror(c.ERROR_3P_COMPONENT,"Creative is not VPAID: "+l)}else 400<=g.status&&f._eventHandlers.loaderror(c.ERROR_IO,"creativeUrl="+b+"; status code="+g.status+"; status text="+g.statusText)};g.ontimeout=function(){f._eventHandlers.timeout.call()};g.onerror=function(){0===
 g.status?(c.warn("CORS error"),f._eventHandlers.loaderror(c.ERROR_SECURITY,"creativeUrl="+b+";cors error")):(c.warn("exception:"+g.statusText),f._eventHandlers.loaderror(c.ERROR_IO,"creativeUrl="+b+";exception="+g.statusText))};g.send()}},setCallbacksForCreative:function(b,c){for(var d in b)b.hasOwnProperty(d)&&this._creative.subscribe(b[d],d,c)},removeCallbacksForCreative:function(b){for(var c in b)b.hasOwnProperty(c)&&this._creative.unsubscribe(b[c],c)},handshakeVersion:function(b){c.log("VPAID Creative: handshakeVersion("+
 b+")");return this._creative.handshakeVersion(b)},initAd:function(b,e,d,f,g,k){c.log("VPAID Creative: initAd()");this._timeoutOperation="initAd";this._waitForTimeout();this._creative.initAd(b,e,d,f,g,k)},startAd:function(){c.log("VPAID Creative: startAd()");this._timeoutOperation="startAd";this._waitForTimeout();this._creative.startAd();document.hidden&&this._autoPauseAdOnVisibilityChange&&(c.log("VPAIDRenderer pause ad when tab is invisible"),this._creative.pauseAd(),this._creativePausedByTabSwitch=
 !0)},stopAd:function(){c.log("VPAID Creative: stopAd()");"loadCreativeAsset"===this._timeoutOperation?(clearInterval(this._loadIntervalTimer),this._timeoutOperation="loadCreativeAsset and stopAd"):"startAd"===this._timeoutOperation?(clearTimeout(this._timeoutTimer),this._timeoutOperation="startAd and stopAd"):this._timeoutOperation+="stopAd";this._creative&&(this._waitForTimeout(),this._creative.stopAd())},canPauseAd:function(){return this._isCreativeFunctionInvokable("pauseAd")},canResumeAd:function(){return this._isCreativeFunctionInvokable("resumeAd")},
 canResizeAd:function(){return this._isCreativeFunctionInvokable("resizeAd")},pauseAd:function(){this.canPauseAd()&&(c.log("VPAID Creative: pauseAd()"),this._creative.pauseAd())},resumeAd:function(){this.canResumeAd()&&(c.log("VPAID Creative: resumeAd()"),this._creative.resumeAd())},resizeAd:function(b,e,d){this.canResizeAd()?(c.log("VPAID Creative: resizeAd()"),this._creative.resizeAd(b,e,d)):c.log("The creative is not able to resize")},getAdVolume:function(){return this._isCreativeFunctionInvokable("getAdVolume")?
 this._creative.getAdVolume():-1},setAdVolume:function(b){this._isCreativeFunctionInvokable("setAdVolume")&&this._creative.setAdVolume(b)},getAdExpanded:function(){return this._isCreativeFunctionInvokable("getAdExpanded")?this._creative.getAdExpanded():!1},getAdRemainingTime:function(){return this._isCreativeFunctionInvokable("getAdRemainingTime")?this._creative.getAdRemainingTime():-1},getAdDuration:function(){return this._isCreativeFunctionInvokable("getAdDuration")?this._creative.getAdDuration():
 -1},getAdLinear:function(){return this._creative.getAdLinear()},getAdCompanions:function(){return this._isCreativeFunctionInvokable("getAdCompanions")?this._creative.getAdCompanions():""},setTimeoutValueInMs:function(b){this._timeoutInMs=b},cancelTimeoutEvent:function(){c.log("cancelTimeoutEvent");var b="startAd and stopAd"!==this._timeoutOperation;clearTimeout(this._timeoutTimer);if(!b){this._timeoutOperation="startAd";var e=this;setTimeout(function(){e._eventHandlers&&e._eventHandlers.timeout&&
 e._eventHandlers.timeout.call()},500)}},addEventListener:function(b,c){this._eventHandlers[b]=c},removeEventListener:function(b){this._eventHandlers[b]=null},_waitForTimeout:function(){c.log("Wait for "+this._timeoutOperation+" for "+this._timeoutInMs+"ms");if(this._eventHandlers.timeout){var b=this;this._timeoutTimer=setTimeout(function(){b.timeoutReached||(b.timeoutReached=!0);"startAd"===b._timeoutOperation?b.stopAd():("loadCreativeAsset"===b._timeoutOperation&&clearInterval(b._loadIntervalTimer),
 b._eventHandlers&&b._eventHandlers.timeout&&b._eventHandlers.timeout.call())},this._timeoutInMs)}},getTimeoutOperation:function(){return this._timeoutOperation}};c.VPAIDWrapper.prototype.constructor=c.VPAIDWrapper;c.VPAIDRenderer=function(){this._rendererController=null;this._isCORSEnforcementDisabled=!0;this.vpaidCreative=null;this.vpaidVolume=this.vpaidDuration=-1;this.creativeEventCallbacks={};this.isMuted=!1;this.adPlaybackState="";this.creativeTimeoutDelayInMs=1E4;this.vpaidDesiredBitrate=268;
 this.vpaidViewmode="normal";this.playheadTime=0;this.videoBase=document.createElement("div");this.videoParent=null;this.SUPPORTED_CREATIVE_VPAID_VERSION_MIN=this.PLAYER_VPAID_VERSION=2};c.VPAIDRenderer.prototype={};c.VPAIDRenderer.prototype.constructor=c.VPAIDRenderer;c.VPAIDRenderer.VastCompanion=function(b,c,d,f){this._width=b;this._height=c;this._apiFramework=d;this._xmlNode=f};c.VPAIDRenderer.VastCompanion.prototype={getWidth:function(){return this._width},getHeight:function(){return this._height},
 _isValidResource:function(b,c){return"StaticResource"===b&&c["@attributes"].creativeType||"IFrameResource"===b&&c.value||"HTMLResource"===b&&c.value},hasValidRendtions:function(){for(var b in this._xmlNode)if(this._xmlNode.hasOwnProperty(b)&&("StaticResource"===b||"IFrameResource"===b||"HTMLResource"===b))for(var c=[].concat(this._xmlNode[b]),d=c.length-1;0<=d;d--)if(this._isValidResource(b,c[d]))return!0;return!1},translateToAdInstance:function(b){this._xmlNode.CompanionClickThrough&&b.setClickThroughUrl(c.EVENT_AD_CLICK,
 this._xmlNode.CompanionClickThrough.value);var e;if(this._xmlNode.TrackingEvents){var d=this._xmlNode.TrackingEvents;if(d.Tracking){d=[].concat(d.Tracking);var f=[];for(e=d.length-1;0<=e;e--)"creativeView"===d[e]["@attributes"].event&&f.push(d[e].value);0<f.length&&b.addEventCallbackUrls(c.EVENT_AD_IMPRESSION,c.EVENT_TYPE_IMPRESSION,f)}}for(var g in this._xmlNode)if(this._xmlNode.hasOwnProperty(g)&&("StaticResource"===g||"IFrameResource"===g||"HTMLResource"===g))for(d=[].concat(this._xmlNode[g]),
 e=d.length-1;0<=e;e--)if(this._isValidResource(g,d[e])){f=d[e];var k=b.addCreativeRendition();k.setWidth(this._width);k.setHeight(this._height);k.setCreativeApi("None");var h=k.addCreativeRenditionAsset("VPAIDAsset"+e,!0);h.setContentType("text/html_doc_lit_mobile");h.setMimeType("text/html");var l=b.getEventCallbackUrls(c.EVENT_AD_CLICK,c.EVENT_TYPE_CLICK)[0],p=g;if("HTMLResource"===p)h.setContent(c.HTMLAdGenerator.wrapUnsafeHTML(f.value,b.getSlot().getCustomId(),this._width,this._height));else{var n;
 "IFrameResource"===p?n="iframe":"StaticResource"===p&&(n=this._xmlNode.creativeType);h.setContent(c.HTMLAdGenerator.generateAd(f.value,l,b.getSlot().getCustomId(),this._width,this._height,n,h.getContentType()))}c.debug("rendtion width: "+k.getWidth()+" height:"+k.getHeight()+" asset content:"+h.getContent())}}};c.VPAIDRenderer.VastCompanion.prototype.constructor=c.VPAIDRenderer.VastCompanion;c.VPAIDRenderer.VastAdSelect=function(){};c.VPAIDRenderer.VastAdSelect.prototype={_getDeadSpaceRatio:function(b,
 e){var d=b.getWidth();b=b.getHeight();var f=e.getWidth();e=e.getHeight();var g=1;d<=f&&b<=e&&(g=1-d*b/(f*e));c.debug("computing dead space ratio ("+g+") for slot "+f+"x"+e+" and ad "+d+"x"+b);return g},matchAdsWithSlots:function(b,e){c.log("VPAIDRenderer: Matching ads with slots");var d;for(d=0;d<e.length;++d)e[d].matched=!1;var f=[],g=[];for(d=0;d<b.length;d++)for(var k=0;k<e.length;k++)g.push({ratio:this._getDeadSpaceRatio(b[d],e[k]),adIndex:d,slotIndex:k});g.sort(function(b,c){return b.ratio-c.ratio});
 for(d=0;d<g.length&&1!==g[d].ratio;d++){k=g[d];var h=b[k.adIndex],l=e[k.slotIndex];h.matched||l.matched||(c.log("Winning ratio:"+k.ratio+" Winning ad:"+h.getWidth()+"x"+h.getHeight()+" for slot:"+l.getWidth()+"x"+l.getHeight()),f.push({ad:h,slot:l}),h.matched=!0,l.matched=!0)}return f}};c.VPAIDRenderer.VastAdSelect.prototype.constructor=c.VPAIDRenderer.VastAdSelect;c.Util.mixin(c.VPAIDRenderer.prototype,{_initParams:function(){var b=this._rendererController.getParameter(c.PARAMETER_VPAID_CREATIVE_TIMEOUT_DELAY);
 this._isCORSEnforcementDisabled=this._rendererController.getParameter(c.PARAMETER_DISABLE_CORS_ENFORCEMENT);b&&0<Number(b)&&(this.creativeTimeoutDelayInMs=Number(b));c.log("initParams(), creative timeout delay in miliseconds:"+this.creativeTimeoutDelayInMs);b=parseFloat(this._rendererController.getParameter(c.PARAMETER_DESIRED_BITRATE));this.vpaidDesiredBitrate=0<b?b:this.vpaidDesiredBitrate;c.log("initParams(), desired bitrate: "+this.vpaidDesiredBitrate)},_failWithError:function(b,e,d){var f={};
 f[c.INFO_KEY_ERROR_MODULE]="VPAIDRenderer";f[c.INFO_KEY_ERROR_CODE]=b;d||(d=c.ERROR_VAST_GENERAL_VPAID_ERROR);f[c.INFO_KEY_VAST_ERROR_CODE]=d;e&&(f[c.INFO_KEY_ERROR_INFO]=e);this._rendererController.handleStateTransition(c.RENDERER_STATE_FAILED,f);this.dispose()},onCreativeLoadError:function(b,e){c.log("VPAIDRenderer: onCreativeLoadError()");this.vpaidCreative.cancelTimeoutEvent();this._failWithError(b,e)},onCreativeTimeout:function(){c.log("VPAIDRenderer: onCreativeTimeout()");var b=this.vpaidCreative.getTimeoutOperation();
 this._failWithError(c.ERROR_TIMEOUT,"loadCreativeAsset"!==b?"Creative function "+b+" timeout":"load creative asset timeout")},setVolume:function(b){c.log("VPAIDRenderer: setVolume("+b+")");this.vpaidCreative&&this.vpaidCreative.setAdVolume(b)},onAdVolumeChange:function(){c.log("VPAIDRenderer: onAdVolumeChange()");var b=this.vpaidCreative.getAdVolume();0>b||1<b?c.log("Invalid ad volume value"):(this.isMuted&&2<100*b?(this.isMuted=!1,this._rendererController.processEvent({name:c.EVENT_AD_UNMUTE})):
 !this.isMuted&&2>100*b&&(this.isMuted=!0,this._rendererController.processEvent({name:c.EVENT_AD_MUTE})),this._rendererController.processEvent({name:c.EVENT_AD_VOLUME_CHANGE}))},onAdExpandedChange:function(){c.log("VPAIDRenderer: onAdExpandedChange()");this.vpaidCreative.getAdExpanded()?this._rendererController.processEvent({name:c.EVENT_AD_EXPAND}):this._rendererController.processEvent({name:c.EVENT_AD_COLLAPSE})},onAdDurationChange:function(){c.log("VPAIDRenderer: onAdDurationChange(): duration changed to "+
 this.vpaidCreative.getAdDuration())},onAdClickThru:function(b,e,d){c.log("VPAIDRenderer: onAdClickThru() with url:"+b+" id:"+e+" playerHandles:"+d);e={name:c.EVENT_AD_CLICK,info:{}};e.info[c.INFO_KEY_SHOW_BROWSER]=!0===d;!0===d?b?(c.log("onAdClickThru(): open window with overrided url"),e.info[c.INFO_KEY_URL]=b):c.log("onAdClickThru(): open window with url booked in MRM UI or VAST clickthru url"):c.log("onAdClickThru(): send click tracking");this._rendererController.processEvent(e)},onCreativeAssetLoaded:function(){c.log("VPAIDRenderer: onCreativeAssetLoaded()");
 this.vpaidCreative.cancelTimeoutEvent();var b=this,e=function(){var d=b.vpaidCreative.handshakeVersion(b.PLAYER_VPAID_VERSION.toFixed(1));return d?parseFloat(d)<b.SUPPORTED_CREATIVE_VPAID_VERSION_MIN?(b._failWithError(c.ERROR_INVALID_VALUE,"Only support creatives with VPAID version >= "+b.SUPPORTED_CREATIVE_VPAID_VERSION_MIN.toFixed(1)),!1):!0:(b._failWithError(c.ERROR_3P_COMPONENT,"Cannot get VPAID version from the creative"),!1)};if(function(){var d=b.vpaidCreative.checkVPAIDInterface("handshakeVersion initAd startAd stopAd subscribe unsubscribe getAdLinear".split(" "));
 d.passed||b._failWithError(c.ERROR_3P_COMPONENT,"Missing interfaces in the VPAID creative: "+d.missingInterfaces);return d.passed}()&&e()){b.creativeEventCallbacks={AdStarted:b.onAdStarted,AdStopped:b.onAdStopped,AdSkipped:b.onAdSkipped,AdLoaded:b.onAdLoaded,AdLinearChange:b.onAdLinearChange,AdSizeChange:b.onAdSizeChange,AdExpandedChange:b.onAdExpandedChange,AdDurationChange:b.onAdDurationChange,AdVolumeChange:b.onAdVolumeChange,AdImpression:b.onAdImpression,AdClickThru:b.onAdClickThru,AdVideoFirstQuartile:b.onAdVideoFirstQuartile,
 AdVideoMidpoint:b.onAdVideoMidpoint,AdVideoThirdQuartile:b.onAdVideoThirdQuartile,AdVideoComplete:b.onAdVideoComplete,AdUserAcceptInvitation:b.onAdUserAcceptInvitation,AdUserMinimize:b.onAdUserMinimize,AdUserClose:b.onAdUserClose,AdPaused:b.onAdPaused,AdPlaying:b.onAdResumed,AdError:b.onAdError,AdLog:b.onAdLog};b.vpaidCreative.setCallbacksForCreative(b.creativeEventCallbacks,b);this._rendererController.setCapability(c.EVENT_AD_QUARTILE,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_MUTE,
 c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_EXPAND,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_PAUSE,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_CLOSE,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_MINIMIZE,c.CAPABILITY_STATUS_ON);this._rendererController.setCapability(c.EVENT_AD_ACCEPT_INVITATION,c.CAPABILITY_STATUS_ON);(e=this.rendition?this.rendition.getParameter("creativeData"):
 null)||(e=this.rendition?this.rendition.getParameter("VPAID_creativeData"):null);e&&(e=c.Util.trim(e));e={AdParameters:e};var d=this._rendererController.getAdInstance().getSlot();this.videoBase.style.width="0px";this.videoBase.style.height="0px";this.videoBase.style.zIndex="100000";this.videoBase.style.position="absolute";this.videoBase.style.left=this._rendererController.getContentVideoElement().style.left;this.videoBase.style.top=this._rendererController.getContentVideoElement().style.top;this.videoBase.className=
 "fw_vpaid_slot";this.videoParent=d.getBase();var f=this._rendererController.getContentVideoElement();if("nodeType"in f&&0<f.nodeType)try{this.videoParent.insertBefore(this.videoBase,this._rendererController.getContentVideoElement())}catch(k){this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild)}else this.videoParent.insertBefore(this.videoBase,this.videoParent.firstChild);f={slot:this.videoBase,videoSlot:this._rendererController.getContentVideoElement(),videoSlotCanAutoPlay:!0};
 var g=d.getWidth();d=d.getHeight();g&&d||!this.rendition||(g=this.rendition.getWidth(),d=this.rendition.getHeight());this.vpaidCreative.initAd(g,d,this.vpaidViewmode,this.vpaidDesiredBitrate,e,f)}},onAdLoaded:function(){c.log("VPAIDRenderer: onAdLoaded()");this.vpaidCreative.cancelTimeoutEvent();c.log("Ad duration:"+this.getDuration());var b=this,e=function(d,e){var f=e;c.debug(f.length+" companion slots to fill.");if(0!==f.length&&0!==d.length){var g=(new c.VPAIDRenderer.VastAdSelect).matchAdsWithSlots(d,
 f);if(0!==g.length){d=[];f=[];for(e=g.length-1;0<=e;e--)d.push(g[e].ad),f.push(g[e].slot);f=b._rendererController.scheduleAdInstances(f);for(e=f.length-1;0<=e;e--)d[e].translateToAdInstance(f[e])}}},d=function(b){if(!b)return c.log("The adCompanions property is empty."),null;c.log("parsing adCompanions: "+b);if(window.DOMParser)var d=(new DOMParser).parseFromString(b,"text/xml");else d=new ActiveXObject("Microsoft.XMLDOM"),d.async=!1,d.loadXML(b);b=c.Util.xmlToJson(d);if(!b||!b.CompanionAds||!b.CompanionAds.Companion)return c.log("No companion ads found in parsed xml"),
 [];b=[].concat(b.CompanionAds.Companion);d=[];for(var e=b.length-1;0<=e;e--){var f=b[e];if(f["@attributes"]){var l=f["@attributes"].width,p=f["@attributes"].height;if(!l||!p||0>l||0>p)c.log("Missing width/height for companion.");else{var n=f["@attributes"].apiFramework||"";c.debug("Companion "+l+"x"+p+" api:"+n);f=new c.VPAIDRenderer.VastCompanion(l,p,n,f);f.hasValidRendtions()&&d.push(f)}}}return d}(b.vpaidCreative.getAdCompanions());d&&0<d.length?e(d,this._rendererController.getCompanionSlots()):
 c.log("VPAIDAdRenderer: No companions from VPAID creative.");e=this._rendererController.getAdInstance()._context.getAdVolume();!this.isMuted&&2>100*e&&(this.isMuted=!0);this.setVolume(e);this.vpaidCreative.startAd()},onVisibilityChange:function(){c.log("onVisibilityChange:"+(document.hidden?"invisible":"visible"));c.log("Current playback state:"+this.adPlaybackState);document.hidden&&"playing"===this.adPlaybackState?(c.log("Pause the VPAID creative"),this.vpaidCreative.pauseAd(),this.vpaidCreative._creativePausedByTabSwitch=
 !0):!document.hidden&&"paused"===this.adPlaybackState&&this.vpaidCreative._creativePausedByTabSwitch&&(c.log("Resume the VPAID creative"),this.vpaidCreative.resumeAd(),this.vpaidCreative._creativePausedByTabSwitch=!1)},onAdStarted:function(){c.log("VPAIDRenderer: onAdStarted()");this.vpaidCreative.timeoutReached?c.log("VPAID ad has already failed due to timeout. The AdStarted event will not be handled."):(this.vpaidCreative.cancelTimeoutEvent(),this.vpaidCreative._autoPauseAdOnVisibilityChange&&(this._visibilityChangeListener=
 this.onVisibilityChange.bind(this),document.addEventListener("visibilitychange",this._visibilityChangeListener,!1)))},onAdStopped:function(){c.log("VPAIDRenderer: onAdStopped()");this.vpaidCreative?(this.vpaidCreative.cancelTimeoutEvent(),this.timePositionClass===c.TIME_POSITION_CLASS_OVERLAY&&this.vpaidCreative.getAdLinear()&&this._rendererController.requestContentStateChange(!1),this.vpaidCreative&&!this.vpaidCreative.timeoutReached&&(this.adPlaybackState?(this._rendererController.handleStateTransition(c.RENDERER_STATE_COMPLETED),
 this.dispose()):(c.warn("Expecting AdStarted and AdImpression events but got AdStopped event instead. Fail."),this._failWithError(c.ERROR_3P_COMPONENT,"Expecting AdStarted and AdImpression events from the VPAID creative but got AdStopped event instead")))):c.log("The VPAID creative has been disposed. Return.")},onAdImpression:function(){c.log("VPAIDRenderer: onAdImpression()");if(this.vpaidCreative.timeoutReached)c.log("VPAID ad has already failed due to timeout. The AdImpression event will not be handled.");
 else{var b=this.vpaidCreative.getAdVolume();this.isMuted=0<b&&2>=100*b;this.adPlaybackState="playing";this._rendererController.handleStateTransition(c.RENDERER_STATE_STARTED)}},onAdLinearChange:function(){c.log("VPAIDRenderer: onAdLinearChange()");var b=this.vpaidCreative.getAdLinear();b?c.log("onAdLinearChange(): non-linear click to linear -> request content video to pause"):c.log("onAdLinearChange(): linear back to non-linear -> request content video to resume");this._rendererController.requestContentStateChange(b)},
 onAdSizeChange:function(){c.log("VPAIDRenderer: onAdSizeChange()")},onAdPaused:function(){c.log("VPAIDRenderer: onAdPaused()");"playing"===this.adPlaybackState&&this._rendererController.processEvent({name:c.EVENT_AD_PAUSE});this.adPlaybackState="paused"},onAdResumed:function(){c.log("VPAIDRenderer: onAdResumed()");"paused"===this.adPlaybackState&&this._rendererController.processEvent({name:c.EVENT_AD_RESUME});this.adPlaybackState="playing"},onAdSkipped:function(){c.log("VPAIDRenderer: onAdSkipped()");
 this.dispose();this._rendererController.handleStateTransition(c.RENDERER_STATE_COMPLETED)},onAdVideoFirstQuartile:function(){c.log("VPAIDRenderer: onAdVideoFirstQuartile()");this._rendererController.processEvent({name:c.EVENT_AD_FIRST_QUARTILE})},onAdVideoMidpoint:function(){c.log("VPAIDRenderer: onAdVideoMidpoint()");this._rendererController.processEvent({name:c.EVENT_AD_MIDPOINT})},onAdVideoThirdQuartile:function(){c.log("VPAIDRenderer: onAdVideoThirdQuartile()");this._rendererController.processEvent({name:c.EVENT_AD_THIRD_QUARTILE})},
 onAdVideoComplete:function(){c.log("VPAIDRenderer: onAdVideoComplete");this._rendererController.processEvent({name:c.EVENT_AD_COMPLETE})},onAdUserAcceptInvitation:function(){c.log("VPAIDRenderer: onAdUserAcceptInvitation()");this._rendererController.processEvent({name:c.EVENT_AD_ACCEPT_INVITATION})},onAdUserClose:function(){c.log("VPAIDRenderer: onAdUserClose()");this._rendererController.processEvent({name:c.EVENT_AD_CLOSE})},onAdUserMinimize:function(){c.log("VPAIDRenderer: onAdUserMinimize()");
 this._rendererController.processEvent({name:c.EVENT_AD_MINIMIZE})},onAdLog:function(b){c.log("VPAIDRenderer: onAdLog: "+b)},onAdError:function(b){c.log("VPAIDRenderer: onAdError(): "+b);this._failWithError(c.ERROR_3P_COMPONENT,"AdError event:"+b)},start:function(b){c.log("VPAIDRenderer start()");this._rendererController=b;this.timePositionClass=this._rendererController.getAdInstance().getSlot().getTimePositionClass();this.rendition=this._rendererController.getAdInstance().getActiveCreativeRendition();
 this._initParams();if(b=(b=this.rendition?this.rendition.getPrimaryCreativeRenditionAsset():null)?b.getProxiedUrl():null){this.vpaidCreative=new c.VPAIDWrapper;this.vpaidCreative._autoPauseAdOnVisibilityChange=this._rendererController.getParameter(c.PARAMETER_AUTO_PAUSE_AD_ONVISIBILITYCHANGE);this.vpaidCreative._isCORSEnforcementDisabled=this._isCORSEnforcementDisabled;this.vpaidCreative.setTimeoutValueInMs(this.creativeTimeoutDelayInMs);this.vpaidCreative.addEventListener("loaderror",this.onCreativeLoadError.bind(this));
 this.vpaidCreative.addEventListener("timeout",this.onCreativeTimeout.bind(this));this.vpaidCreative.addEventListener("CreativeAssetLoaded",this.onCreativeAssetLoaded.bind(this));try{this.vpaidCreative.loadCreativeAsset(b)}catch(e){c.warn(e),this._isCORSEnforcementDisabled?(this._failWithError(c.ERROR_UNKNOWN,"Error when loading creative"+e),this.cancelTimeoutEvent()):that._eventHandlers.loaderror(c.ERROR_UNKNOWN,"Error when loading creative: "+e)}}else this._failWithError(c.ERROR_NULL_ASSET,"Creative asset url cannot be null")},
 stop:function(){c.log("VPAIDRenderer stop()");this.vpaidCreative.stopAd();"loadCreativeAsset and stopAd"==this.vpaidCreative.getTimeoutOperation()&&this.dispose()},info:function(){return{moduleType:c.MODULE_TYPE_RENDERER}},getPlayheadTime:function(){var b=this.vpaidCreative.getAdDuration(),c=this.vpaidCreative.getAdRemainingTime();0<=b&&0<=c&&(this.playheadTime=b-c);0>this.playheadTime&&(this.playheadTime=-1);return this.playheadTime},getDuration:function(){var b=this.vpaidCreative.getAdDuration();
 return 0<=b?b:-1},pause:function(){c.log("VPAIDRenderer pause()");this._rendererController.processEvent({name:c.EVENT_AD_PAUSE});this.vpaidCreative.canPauseAd()?"playing"===this.adPlaybackState&&(this.adPlaybackState="pausing",this.vpaidCreative.pauseAd()):c.log("The creative is not able to pause")},resume:function(){c.log("VPAIDRenderer resume()");this._rendererController.processEvent({name:c.EVENT_AD_RESUME});this.vpaidCreative.canResumeAd()?"paused"===this.adPlaybackState&&(this.adPlaybackState=
 "resuming",this.vpaidCreative.resumeAd()):c.log("The creative is not able to resume")},dispose:function(){c.log("VPAIDRenderer dispose()");this.vpaidCreative&&(this.videoParent&&(this.videoParent.removeChild(this.videoBase),this.videoParent=null),this._visibilityChangeListener&&this.vpaidCreative._autoPauseAdOnVisibilityChange&&(c.log("remove visibilitychange listener"),document.removeEventListener("visibilitychange",this._visibilityChangeListener,!1)),this.vpaidCreative.removeCallbacksForCreative(this.creativeEventCallbacks),
 this.vpaidCreative.removeEventListener("CreativeAssetLoaded"),this.vpaidCreative.removeEventListener("timeout"),this.vpaidCreative.removeEventListener("loaderror"),this.vpaidCreative=null)},resize:function(){c.log("VPAIDAdRenderer resize()");var b=this._rendererController.getAdInstance().getSlot(),e=b.getWidth();b=b.getHeight();c.log("VPAIDRenderer new size width:"+e+" height:"+b);this.vpaidCreative.resizeAd(e,b,this.vpaidViewmode)}});c.VastTranslator=function(){this._rendererController=this._request=
 null};c.VastTranslator.prototype={start:function(b){function e(b){c.log("VastTranslator\t"+b)}function d(b){c.warn("VastTranslator\t"+b)}function f(b,c){if(b)if(b.length&&"string"!==typeof b)for(var d=0;d<b.length;d++)c(b[d].value);else b.value&&c(b.value)}function g(b,c){f(c,function(c){c&&b.push(c)})}function k(b){if(!b)return!1;for(var d=0;d<G.length;d++)if(c.Util.trim(G[d]).toLowerCase()===c.Util.trim(b).toLowerCase())return!0;return!1}function h(b){if(!b)return null;"string"!==typeof b&&(b=b.toString());
 b=c.Util.trim(b);return-1<b.indexOf("://")?b:null}function l(b){this.code=this.url=null;this.height=this.width=NaN;this.resourceType=this.creativeType=null;this.bitrate=NaN;this.creativeApi=null;this.ad=b;this.clickThrough=null;this.clickTrackings=[];this.customClicks=[];this.creativeData=null}function p(){this.creativeView=[];this.start=[];this.firstQuartile=[];this.midpoint=[];this.thirdQuartile=[];this.complete=[];this.mute=[];this.unmute=[];this.pause=[];this.rewind=[];this.resume=[];this.replay=
 [];this.fullscreen=[];this.expand=[];this.collapse=[];this.acceptInvitation=[];this.stop=[]}function n(b){this._impressions=[];this.clickThrough=null;this.clickTrackings=[];this.customClicks=[];this.creativeData=null;this.sequence=-1;this.universalAdId=null;this.vastRenditions=[];this.duration=NaN;this.adp=b;this.isDrivingAd=!1}function m(b){n.call(this,b)}function t(b){n.call(this,b)}function r(b){n.call(this,b)}function u(){}function q(b,c,d,f){if(b&&f&&0<f.length){e("augmentCallbacks("+c+", "+
 d+", "+f+")");for(var g=b.getEventCallbackUrls(c,d),h=0;h<g.length;h++)-1<f.indexOf(g[h])&&(e("augmentCallbacks() url = "+g[h]),f.unshift(g[h]));b.addEventCallbackUrls(c,d,f)}else e("augmentCallbacks("+c+", "+d+", "+f+"), empty callbacks")}function v(b,d){e("initErrorTrackings()");b&&d&&q(b,c.EVENT_ERROR,c.EVENT_TYPE_ERROR,d.errorTrackings)}function D(b,d){e("initTrackingEvents()");d&&b&&(q(b,c.EVENT_AD_IMPRESSION,c.EVENT_TYPE_IMPRESSION,d.creativeView),q(b,c.EVENT_AD_IMPRESSION,c.EVENT_TYPE_IMPRESSION,
 d.start),q(b,c.EVENT_AD_FIRST_QUARTILE,c.EVENT_TYPE_IMPRESSION,d.firstQuartile),q(b,c.EVENT_AD_MIDPOINT,c.EVENT_TYPE_IMPRESSION,d.midpoint),q(b,c.EVENT_AD_THIRD_QUARTILE,c.EVENT_TYPE_IMPRESSION,d.thirdQuartile),q(b,c.EVENT_AD_COMPLETE,c.EVENT_TYPE_IMPRESSION,d.complete),q(b,c.EVENT_AD_MUTE,c.EVENT_TYPE_STANDARD,d.mute),q(b,c.EVENT_AD_UNMUTE,c.EVENT_TYPE_STANDARD,d.unmute),q(b,c.EVENT_AD_PAUSE,c.EVENT_TYPE_STANDARD,d.pause),q(b,c.EVENT_AD_RESUME,c.EVENT_TYPE_STANDARD,d.resume),q(b,c.EVENT_AD_REWIND,
 c.EVENT_TYPE_STANDARD,d.rewind),q(b,c.EVENT_AD_EXPAND,c.EVENT_TYPE_STANDARD,d.fullscreen),q(b,c.EVENT_AD_COLLAPSE,c.EVENT_TYPE_STANDARD,d.collapse),q(b,c.EVENT_AD_EXPAND,c.EVENT_TYPE_STANDARD,d.expand),q(b,c.EVENT_AD_CLOSE,c.EVENT_TYPE_STANDARD,d.stop),q(b,c.EVENT_AD_ACCEPT_INVITATION,c.EVENT_TYPE_STANDARD,d.acceptInvitation))}function K(b,d,f,g,h){e("initClickAndImpressionEvents");if(b){d&&b.setClickThroughUrl(c.EVENT_AD_CLICK,d);f&&0<f.length&&q(b,c.EVENT_AD_CLICK,c.EVENT_TYPE_CLICK_TRACKING,f);
 if(g&&0<g.length)for(d=0;d<g.length;d++)g[d].url&&q(b,g[d].id,c.EVENT_TYPE_CLICK_TRACKING,[g[d].url]);h&&q(b,c.EVENT_AD_IMPRESSION,c.EVENT_TYPE_IMPRESSION,h)}}function H(b,c){e("initTemporalAdInstance");b||d("initTemporalAdInstance: Invalid adInstance");if(c.selectedDrivingAd){c.surveyUrl&&b._creative.setParameter("_fw_survey_url",c.surveyUrl);var f=c.selectedDrivingAd,g=c.selectedDrivingRenditions;e("vastRenditions:"+g);for(var h=4===B,l=0;l<g.length;l++){var m=b.addCreativeRendition();var n=m.addCreativeRenditionAsset("VAST_CRA",
 !0);var p=g[l];a:{var q=p.creativeType;switch(q){case "video/mp4":q="video/mp4-h264";break a;case "video/3gp":q="video/3gpp"}}e("initTemporalAdInstance() set rendition/asset [vastRd.creativeApi,vastAd.duration,vastRd.width,vastRd.height,vastRd.url,assetContentType,vastRd.creativeType] =  "+[p.creativeApi,f.duration,p.width,p.height,p.url,q,p.creativeType]);m.setCreativeApi(p.creativeApi);isNaN(f.duration)||m.setDuration(f.duration);p.width&&!isNaN(p.width)&&m.setWidth(p.width);p.height&&!isNaN(p.height)&&
 m.setHeight(p.height);f.universalAdId&&m.setUniversalAdId(f.universalAdId);p.url&&n.setUrl(p.url);p.code&&n.setContent(p.code);n.setMimeType(p.creativeType);"static"===p.resourceType&&"text/html"===p.creativeType?n.setContentType("text/html_doc_ref"):"application/x-javascript"===p.creativeType||"application/javascript"===p.creativeType?n.setContentType("text/js_ref"):"iframe"===p.resourceType?n.setContentType("text/html_doc_ref"):"text/html"===p.creativeType||"text/html_doc_ref"===p.creativeType?
 n.setContentType("text/html_doc_ref"):"text/html_doc_lit_mobile"===p.creativeType?n.setContentType("text/html_doc_lit_mobile"):h||k(q)?(n.setContentType("text/html_doc_lit_mobile"),n.setUrl(null),n.setContent(S(b,z.getCustomId(),f,p,"text/html_doc_lit_mobile"))):n.setContentType(q);f.creativeData&&0!==f.creativeData.length&&(e("initTemporalAdInstance(), set asset parameter creativeData:"+f.creativeData),m.setParameter("creativeData",f.creativeData));h||k(q)||(p=p.bitrate,!isNaN(p)&&0<p&&n.setBytes(1E3*
 p*f.duration/8));q=C;n=J;p=!1;if(m.getContentType()&&q){var r=m.getContentType().toLowerCase(),M=q.toLowerCase();if(r===M)p=!0;else if(0===r.indexOf("video/mp4")&&0===M.indexOf("video/mp4")||"application/javascript"===M&&"text/js_ref"===r)m.setContentType(q),p=!0}q=!1;m.getCreativeApi()&&n&&(r=m.getCreativeApi().toLowerCase(),M=n.toLowerCase(),r===M?q=!0:0===r.indexOf("mraid")&&0===M.indexOf("mraid")&&(q=!0,m.setCreativeApi(n)));p&&q?m.setPreference(10):q?m.setPreference(6):p?m.setPreference(5):m.setPreference(0);
 e("adjustMatchedRendition "+m.getId()+", contentType "+m.getContentType()+", creativeAPI "+m.getCreativeApi()+", preference "+m.getPreference())}D(b,f.trackingEvents);v(b,c);K(b,h?g[0].clickThrough:f.clickThrough,f.clickTrackings,f.customClicks,f.impressions)}else m=b.addCreativeRendition(),m.setContentType("null/null"),n=m.addCreativeRenditionAsset("VAST_CRA",!0),n.setContentType("null/null")}function S(b,d,f,g,h){e("getCoadHTML, ad id = "+b.getAdId());return g.url&&0<g.url.length?((f=g.clickThrough)&&
 0<f.length&&b.setClickThroughUrl(c.EVENT_AD_CLICK,f),b=b.getEventCallbackUrls(c.EVENT_AD_CLICK,c.EVENT_TYPE_CLICK)[0],c.HTMLAdGenerator.generateAd(g.url,b,d,g.width,g.height,g.creativeType,h)):g.code&&0<g.code.length?"script"===g.resourceType||"text/javascript"===g.resourceType||"text/js_ref"===g.resourceType||"application/x-javascript"===g.resourceType?c.HTMLAdGenerator.wrapJSCode(g.code,d,g.width,g.height):c.HTMLAdGenerator.wrapUnsafeHTML(g.code,d,g.width,g.height):null}function L(b,d,f,g){e("initPageAdInstance ad:"+
 d.getAdId());var h=f.vastRenditions[0];if(h.url||h.code){var k=d.addCreativeRendition(),l=k.addCreativeRenditionAsset("VAST_CRA",!0);k.setCreativeApi(h.creativeApi);k.setWidth(h.width);k.setHeight(h.height);"static"===h.resourceType&&"text/html"===h.creativeType||"iframe"===h.resourceType?(l.setContentType("text/html_doc_ref"),l.setUrl(h.url)):"HTML"===h.resourceType?(l.setContentType("text/html_doc_lit_mobile"),l.setContent(c.HTMLAdGenerator.wrapUnsafeHTML(h.code,b.getCustomId(),h.width,h.height))):
 (l.setContentType("text/html_doc_lit_mobile"),l.setContent(S(d,b.getCustomId(),f,h,"text/html_doc_lit_mobile")));l.setMimeType("text/html")}else e("initPageAdInstance will add a tracking only companion ad");D(d,f.trackingEvents);v(d,g);K(d,h.clickThrough,h.clickTrackings,h.customClicks,f.impressions)}function y(b){if(200===b.status)if(b.responseXML){var d=(new u).parseAdData(b.responseXML);if(d){e("scheduleVastAds");if(d&&0!==d.length)if(b=d[0].selectedPackage,d=d[0].redirectPackage,!b&&!d)if(e("scheduleVastAds(), no ads from vast response!!!"),
 F)if(4!==B)x.onTranslatorFailed(c.ERROR_NO_AD_AVAILABLE,"Expecting linear ad but returned non-linear ad",c.ERROR_VAST_LINEARITY_NOT_MATCH);else x.onTranslatorFailed(c.ERROR_NO_AD_AVAILABLE,"Expecting non-linear ad but returned linear ad",c.ERROR_VAST_LINEARITY_NOT_MATCH);else x.onTranslatorFailed(c.ERROR_NO_AD_AVAILABLE,"wrapperUrl="+O);else if(!b&&d){e("scheduleVastAds(), no ads scheduled, redirect to downstream Secondary Ad Server");e("scheduleRedirect");b=[];var f=[];b.push(z);f.push({});for(var g=
 w,h=d.selectedCompanionAds,k=0;k<g.length;k++){var l=g[k];h&&h[l.getCustomId()]&&(b.push(l),f.push(h[l.getCustomId()]))}(g=x._rendererController.scheduleAdInstances(b))&&0<g.length&&(h=g[0],k=h.addCreativeRendition(),k.setWrapperUrl(c.Util.transformUrlToProxy(d.tagUrl)),k.setWrapperType(N),k.setContentType(C),k.setCreativeApi(J),D(h,d.getTrackingEventsOfWrapper()),v(h,d),K(h,d.getClickThroughOfWrapper(),d.getClickTrackingsOfWrapper(),d.getCustomClicksOfWrapper(),d.getImpressionOfWrapper()));e("scheduleRedirect, schedule companion for redirect ad "+
 d);for(k=1;k<g.length;k++)if(h=g[k])l=f[k],l instanceof r&&L(b[k],h,l,d)}else{if(b){e("scheduleVastAds(), ads returned from vast response, going to schedule them");b.selectedDrivingAd?(e("scheduleVastAds(), ads returned from vast response, going to schedule them with driving ad"),b.selectedDrivingAd.isDrivingAd=!0):e("scheduleVastAds(), ads returned from vast response, going to schedule them without driving ad");e("scheduleAdPackage()");d=[];f=[];d.push(z);b.selectedDrivingAd&&f.push(b.selectedDrivingAd);
 g=w;h=b.selectedCompanionAds;for(k=0;k<g.length;k++)l=g[k],h&&h[l.getCustomId()]&&(d.push(l),f.push(h[l.getCustomId()]));h=x._rendererController.scheduleAdInstances(d);if(0<h.length){e("scheduleAdPackage, scheduled "+h.length+" ads"+b.selectedDrivingAd?"":", 1 of it is nullAd for pure companion ad schedule");b.selectedDrivingAd||e("Driving ad is not selected, will create a dummy null ad.");b.selectedDrivingAd||(d.shift(),H(h.shift(),b));for(k=0;k<h.length;k++)if(l=h[k]){var m=f[k];m instanceof r?
 L(d[k],l,m,b):H(l,b)}!b.selectedDrivingAd&&0<g.length&&0<b.companionAds.length&&0===f.length&&(e("found empty companion slots and companion ads in package, but none of them matches slot size"),x.onTranslatorFailed(c.ERROR_UNMATCHED_SLOT_SIZE))}else e("scheduleAdPackage, no ad scheduled.")}}else e("no ads for scheduleVastAds");x._request=null;x._rendererController.handleStateTransition(c.TRANSLATOR_STATE_STARTED);x._rendererController.handleStateTransition(c.TRANSLATOR_STATE_COMPLETED)}}else x.onTranslatorFailed(c.ERROR_PARSE,
 "wrapperUrl="+O,c.ERROR_VAST_XML_PARSING);else if(400<=b.status)x.onTranslatorFailed(c.ERROR_IO,"wrapperUrl="+O)}this._rendererController=b;var G="image/gif image/jpeg image/png text/html text/javascript text/html_doc_ref text/html_doc_lit_mobile application/x-javascript application/javascript".split(" "),F=!1,E=this._rendererController.getAdInstance(),x=this,z=E.getSlot(),B=function(){if(!z)return 1;switch(z.getTimePositionClass()){case c.TIME_POSITION_CLASS_PREROLL:case c.TIME_POSITION_CLASS_MIDROLL:case c.TIME_POSITION_CLASS_POSTROLL:return 2;
 case c.TIME_POSITION_CLASS_OVERLAY:return 4;case c.TIME_POSITION_CLASS_DISPLAY:return z&&!z.getBase()?8:1;default:return 1}}(),w=this._rendererController.getCompanionSlots().filter(function(b){if(!b)return!1;switch(b.getTimePositionClass()){case c.TIME_POSITION_CLASS_PREROLL:case c.TIME_POSITION_CLASS_MIDROLL:case c.TIME_POSITION_CLASS_PAUSE_MIDROLL:case c.TIME_POSITION_CLASS_POSTROLL:return!1;default:return!0}});e("Checking CompanionSlots, length = "+w.length+", this._rendererController.getCompanionSlots().length = "+
 this._rendererController.getCompanionSlots().length+", AdInstance.getCompanionSlots.length = "+E.getCompanionSlots().length);var C=E.getActiveCreativeRendition().getContentType(),J=E.getActiveCreativeRendition().getCreativeApi()||"None";this.log("ExpectedDrivingContentType:"+C+", ExpectedDrivingAPI:"+J);var N=E.getActiveCreativeRendition().getWrapperType();l.prototype={init:function(b,c,d,e,f,g,h,k){this.log("init("+[].slice.call(arguments,0).join(",")+")");this.url=b;this.width=1*c;this.height=1*
 d;this.creativeType=e;this.resourceType=f;this.bitrate=g;var l;if((l=h)&&0!==l.length)switch(l.toLowerCase()){case "flashvar":case "flashvars":l="clickTag";break;case "vpaid":l="VPAID";break;case "mraid":l="MRAID-1.0"}else l="None";this.creativeApi=l;this.code=k||null},log:function(b){c.log("VastTranslator.VastRendition\t"+b)},toString:function(){var b=[],c;for(c in this)this.hasOwnProperty(c)&&"function"!==typeof this[c]&&"ad"!==c&&b.push(c+":"+this[c]);return b.join(",")}};l.prototype.constructor=
 l;n.prototype={parse:function(b){this.log("parse()");if(b.Duration)if(b.Duration.value){var d=/(\d+):(\d+):(\d+)/.exec(b.Duration.value);d?this.duration=3600*d[1]+60*d[2]+1*d[3]:this.warn("Failed to parse duration value for creative "+b)}else this.warn("No duration value set for creative "+b);b.VideoClicks&&(b.VideoClicks=[].concat(b.VideoClicks),c.Util.forEachOnArray(b.VideoClicks,function(b){b.ClickThrough&&b.ClickThrough.value&&(this.clickThrough=h(b.ClickThrough.value));var c;if(b.ClickTracking){b.ClickTracking=
 [].concat(b.ClickTracking);for(var d=0;d<b.ClickTracking.length;d++)(c=h(b.ClickTracking[d].value))&&this.clickTrackings.push(c)}if(b.CustomClick)for(b.CustomClick=[].concat(b.CustomClick),d=0;d<b.CustomClick.length;d++){var e=null;b.CustomClick[d]["@attributes"]&&(e=b.CustomClick[d]["@attributes"].id);(c=h(b.CustomClick[d].value))&&this.customClicks.push({id:e,url:c})}},this));b.MediaFiles&&b.MediaFiles.MediaFile&&(b.MediaFiles.MediaFile=[].concat(b.MediaFiles.MediaFile),c.Util.forEachOnArray(b.MediaFiles.MediaFile,
 function(b){var c=h(b.value),d=NaN,e=NaN,f=null,g="None",k=NaN;b["@attributes"]&&(d=b["@attributes"].width||NaN,e=b["@attributes"].height||NaN,f=b["@attributes"].type,g=b["@attributes"].apiFramework||"None",k=b["@attributes"].bitrate||NaN);c&&-1!==c.indexOf(":")?(b=new l(this),b.init(c,d,e,f,"",k,g,null),b.clickThrough=this.clickThrough,this.vastRenditions.push(b),(isNaN(d)||isNaN(e))&&this.log("continue with missing [width,height]"+[d,e])):this.warn("will ignore this mediaFile because some required field is missing [url,width,height]:"+
 [c,d,e])},this));b.TrackingEvents&&this.parseTrackingEvents(b.TrackingEvents,this.setTrackingEvents());b.AdParameters&&(this.log("parse() got AdParameters:"+b.AdParameters.value),this.creativeData=b.AdParameters.value);b.Companion&&(b.Companion=[].concat(b.Companion),c.Util.forEachOnArray(b.Companion,function(b){var d=null,e=null,f="",g="",m=null,n=null,p=!1;b.CompanionClickThrough&&(g=h(b.CompanionClickThrough.value));b.StaticResource&&(d=h(b.StaticResource.value),b.StaticResource["@attributes"]&&
 (e=b.StaticResource["@attributes"].creativeType),f="static");b.IFrameResource&&(d=h(b.IFrameResource.value))&&(e="text/html_doc_ref",f="iframe");b.HTMLResource&&(m=b.HTMLResource["#cdata-section"]||"",m=c.Util.trim(m))&&(e="text/html_doc_lit_mobile",f="HTML");b.TrackingEvents&&(n=b.TrackingEvents);var q=new r(this.adp);q.sequence=this.sequence;q.clickThrough=g;n&&q.parseTrackingEvents(n,q.setTrackingEvents());if(b["@attributes"]){n=b["@attributes"].width||NaN;var t=b["@attributes"].height||NaN;b=
 b["@attributes"].apiFramework||"None";if((d&&-1!==d.indexOf(":")||m)&&!isNaN(n)&&!isNaN(t)&&k(e)||this.adp.isWrapper){var u=new l(q);u.init(d,n,t,e,f,NaN,b,m);u.clickThrough=g;q.vastRenditions.push(u)}else p=!0,this.warn("will ignore this rendition because some required fields is missing or incompatible [creativeType,url,code,width,height]:"+[e,d,m,n,t])}else this.adp.isWrapper||(p=!0,this.warn("for InLine ad package, No attributes found for the Companion ads:"+b));p?this.adp.isWrapper&&this.adp.companionAds.push(q):
 this.adp.companionAds.push(q)},this));b.NonLinear&&(b.NonLinear=[].concat(b.NonLinear),c.Util.forEachOnArray(b.NonLinear,function(b){var d=null,e=null,f="",g="",m="",n=null,p=!1;b.AdParameters&&(m=b.AdParameters.value);b.NonLinearClickThrough&&(g=h(b.NonLinearClickThrough.value));b.StaticResource&&(d=h(b.StaticResource.value),b.StaticResource["@attributes"]&&(e=b.StaticResource["@attributes"].creativeType),f="static");b.IFrameResource&&(d=h(b.IFrameResource.value),e="text/html_doc_ref",f="iframe");
 b.HTMLResource&&(n=b.HTMLResource["#cdata-section"]||"",n=c.Util.trim(n),e="text/html_doc_lit_mobile",f="HTML");var q=new t(this.adp);q.sequence=this.sequence;q.clickThrough=g;q._trackingEvents=this._trackingEvents;m&&(q.creativeData=m);if(b["@attributes"]){m=b["@attributes"].width||NaN;var r=b["@attributes"].height||NaN;b=b["@attributes"].apiFramework||"None";if(!d&&!n||isNaN(m)||isNaN(r)||!k(e))p=!0,this.warn("will ignore this rendition because some required fields is missing or incompatible:[creativeType,url,code,width,height]:"+
 [e,d,n,m,r]);else{var u=new l(q);u.init(d,m,r,e,f,NaN,b,n);u.clickThrough=g;q.vastRenditions.push(u)}}else this.adp.isWrapper||(p=!0,this.warn("for InLine ad package, No attributes found for the NonLinear ads:"+b));this.adp.nonLinearAds.push(q);p?this.adp.isWrapper&&this.adp.nonLinearAds.push(q):this.adp.nonLinearAds.push(q)},this))},parseLinears:function(b){2!==B?(this.log("TargetAdType != TARGET_LINEAR, skipping parse"),F=!0):this.parse(b)},parseNonLinears:function(b){4!==B?(this.log("TargetAdType != TARGET_NONLINEAR, skipping parse"),
 F=!0):this.parse(b)},parseCompanionAds:function(b){this.parse(b)},setTrackingEvents:function(){this._trackingEvents||(this._trackingEvents=new p);return this._trackingEvents},parseTrackingEvents:function(b,d){this.log("parseTrackingEvents");b.Tracking&&(b.Tracking=[].concat(b.Tracking),c.Util.forEachOnArray(b.Tracking,function(b){var c=b["@attributes"].event;if(b=h(b.value))switch(c){case "creativeView":case "start":case "firstQuartile":case "midpoint":case "thirdQuartile":case "complete":case "mute":case "unmute":case "pause":case "resume":case "rewind":case "replay":case "fullscreen":case "expand":case "collapse":case "acceptInvitation":case "stop":d[c].push(b);
 break;case "close":d.stop.push(b)}},this))},toString:function(){return this.constructor.name+", renditions:"+this.vastRenditions},log:function(b){c.log("VastTranslator."+this.constructor.name+"\t"+b)},warn:function(b){c.warn("VastTranslator."+this.constructor.name+"\t"+b)}};b=Object.defineProperty||function(b,c,d){d.get&&b.__defineGetter__(c,d.get);d.set&&b.__defineSetter__(c,d.set)};b(n.prototype,"trackingEvents",{get:function(){this.log("get trackingEvents()");return this._trackingEvents?this._trackingEvents:
 this.isDrivingAd?this.adp.trackingEvents:null}});b(n.prototype,"impressions",{set:function(b){this._impressions=b},get:function(){return this.isDrivingAd?this._impressions.concat(this.adp.impressions):this._impressions}});n.prototype.constructor=n;m.prototype=new n;m.prototype.constructor=m;t.prototype=new n;t.prototype.constructor=t;r.prototype=new n;r.prototype.getPrimaryRendition=function(){return this.vastRenditions[0]||null};b(r.prototype,"impressions",{get:function(){return 8===B?this._impressions.concat(this.adp.impressions):
 this._impressions}});r.prototype.constructor=r;var I=function(){this.impressions=[];this.errorTrackings=[];this.linearAds=[];this.nonLinearAds=[];this.companionAds=[];this.extensions=[];this.tagUrl="";this.isWrapper=!1;this.surveyUrl=null;this.selectedDrivingRenditions=[];this.selectedDrivingAd=null;this.selectedCompanionAds={}};I.prototype={parse:function(b){this.log("parse("+b+")");if(b)if(this.isWrapper||b.Creatives&&b.Creatives.Creative){b.Creatives=b.Creatives||[];g(this.impressions,b.Impression);
 g(this.extensions,b.Extensions);g(this.errorTrackings,b.Error);this.isWrapper&&b.VASTAdTagURI&&(this.tagUrl=b.VASTAdTagURI.value||"");b.Survey&&b.Survey.value&&0<b.Survey.value.length&&(this.surveyUrl=b.Survey.value);b.Creatives.Creative=b.Creatives.Creative?[].concat(b.Creatives.Creative):[];for(var c=0;c<b.Creatives.Creative.length;c++){var d=b.Creatives.Creative[c],e=-1;d["@attributes"]&&(e=d["@attributes"].sequence||-1,e*=1);if(d.Linear){var f=new m(this);f.sequence=e;f.parseLinears(d.Linear);
 this.linearAds.push(f)}else d.NonLinearAds?(f=new t(this),f.sequence=e,f.parseNonLinears(d.NonLinearAds)):d.CompanionAds&&(f=new r(this),f.sequence=e,f.parseCompanionAds(d.CompanionAds));f&&d.UniversalAdId?(f.universalAdId={idRegistry:d.UniversalAdId["@attributes"].idRegistry,idValue:d.UniversalAdId["@attributes"].idValue},this.log("Universal Ad ID with idRegistry "+f.universalAdId.idRegistry+" and idValue "+f.universalAdId.idValue)):this.log("No Universal Ad ID is present in the VAST response.")}}else this.warn("parse(): no creative found!");
 else this.warn("parse(): empty adpackage")},testAndUpdatePackageForTemporalSlot:function(b){this.log("testAndUpdatePackageForTemporalSlot("+b+")");b=b?this.linearAds:this.nonLinearAds;if(1>b.length)return!1;this.log("testAndUpdatePackageForTemporalSlot(), ads.length = "+b.length+"");var c=!1;if(!c)for(var d=0;d<b.length;d++){var e=this.findRenditionGroupByContentType(b[d]);if(0<e.length){this.log("testAndUpdatePackageForTemporalSlot() : found driving ad and renditions group: "+e);this.selectedDrivingRenditions=
 e;this.selectedDrivingAd=b[d];c=!0;break}}return c},testAndUpdatePackageForPageSlots:function(b){var c=!1,d=this.companionAds,e=w.slice(0);this.log("testAndUpdatePackageForPageSlots("+b+"), ads are "+d.join(",")+", slots are "+e.join(","));if(b){if(b=this.matchAdsToSlots(d,e),0<b.length)for(c=!0,d=0;d<b.length;d++){e=b[d];var f=e.ad;this.selectedCompanionAds[e.slot.getCustomId()]=f}}else b=this.matchAdsToSlots(d,[z]),1===b.length?(c=!0,this.selectedDrivingAd=b[0].ad):this.selectedDrivingAd=null;return c},
 renditionFitsInSlot:function(b,c){return b?b.width<=c.getWidth()&&b.height<=c.getHeight():!1},calcDeadSpaceRatio:function(b,c){b=b.getPrimaryRendition();if(!b)return 0;this.log("ad w,h  slot w,h"+[b.width,b.height,c.getWidth(),c.getHeight()]);return this.renditionFitsInSlot(b,c)?1-b.width*b.height/c.getWidth()*c.getHeight():1},matchAdsToSlots:function(b,c){this.log("matchAdsToSlots(ads="+b.join(",")+", slots="+c.join(",")+")");for(var d=[],e=null,f=null,g=1,h=0;h<b.length;h++)for(var k=b[h],l=0;l<
 c.length;l++){var m=c[l],n=this.calcDeadSpaceRatio(k,m);n<g&&(e=k,f=m,g=n)}null!=e&&(d.push({ad:e,slot:f}),b.splice(b.indexOf(e),1),c.splice(c.indexOf(f),1),d=d.concat(this.matchAdsToSlots(b,c)));this.log("matchAdsToSlots: winningAd:"+e+" winningSlot:"+f+" ratio:"+g);return d},getAllRenditions:function(b){return b.vastRenditions},findRenditionGroupByContentType:function(b){this.log("findRenditionGroupByContentType:"+b);var d=[];if(b instanceof m&&isNaN(b.duration))return this.warn("findRenditionGroupByContentType(), duration of linear ad is NaN, will not used for scheduling"),
 d;for(var e=this.getAllRenditions(b),f=0;f<e.length;f++){var g=e[f];if(b instanceof m){if(null==g.creativeType||""===c.Util.trim(g.creativeType)){this.warn("findRenditionGroupByContentType, the contentType "+g.creativeType+" not supported for linearAd");continue}}else if(!k(g.creativeType)){this.warn("findRenditionGroupByContentType, the contentType "+g.creativeType+" not supported for non-linearAd");continue}d.push(g)}return d},formalizeString:function(b){return b?c.Util.trim(b).toLowerCase():""},
 getAdsByTargetType:function(){this.log("getAdsByTargetType");var b=[];switch(B){case 8:b=this.companionAds;break;case 2:b=this.linearAds;break;case 4:b=this.nonLinearAds}for(var c=0;c<b.length;c++)b[c].isDrivingAd=!0;return b},getImpressionOfWrapper:function(){this.log("getImpressionOfWrapper");for(var b=this.getAdsByTargetType(),c=null,d=0;d<b.length;d++){var e=b[d];if(e&&e._impressions&&0<e._impressions.length){c=e._impressions;break}}c||(c=this.impressions);return c},getTrackingEventsOfWrapper:function(){this.log("getTrackingEventsOfWrapper");
 for(var b=this.getAdsByTargetType(),c=null,d=0;d<b.length;d++){var e=b[d];if(e&&e._trackingEvents){c=e._trackingEvents;break}}return c},getClickThroughOfWrapper:function(){this.log("getClickThroughOfWrapper");for(var b=this.getAdsByTargetType(),c=null,d=0;d<b.length;d++){var e=b[d];if(e){e.clickThrough&&(c=e.clickThrough);e=e.vastRenditions;for(var f=0;f<e.length;f++){var g=e[f];if(g.clickThrough){c=g.clickThrough;break}}if(c)break}}return c},getClickTrackingsOfWrapper:function(){this.log("getClickTrackingsOfWrapper");
 for(var b=this.getAdsByTargetType(),c=null,d=0;d<b.length;d++){var e=b[d];if(e){e.clickTrackings&&0<e.clickTrackings.length&&(c=e.clickTrackings);e=e.vastRenditions;for(var f=0;f<e.length;f++){var g=e[f];if(g.clickTrackings&&0<g.clickTrackings.length){c=g.clickTrackings;break}}if(c)break}}return c},getCustomClicksOfWrapper:function(){this.log("getCustomClicksOfWrapper");for(var b=this.getAdsByTargetType(),c=null,d=0;d<b.length;d++){var e=b[d];if(e){e.customClicks&&0<e.customClicks.length&&(c=e.customClicks);
 e=e.vastRenditions;for(var f=0;f<e.length;f++){var g=e[f];if(g.customClicks&&0<g.customClicks.length){c=g.customClicks;break}}if(c)break}}return c},testWrapperForRedirect:function(){this.log("testAndUpdateWrapperForRedirect()");return this.tagUrl&&0<this.tagUrl.length},log:function(b){c.log("VastTranslator.VastAdPackage\t"+b)},warn:function(b){c.warn("VastTranslator.VastAdPackage\t"+b)}};I.prototype.constructor=I;u.prototype={getVastVersion:function(b){this.log("getVastVersion("+b+")");return b&&
 0!==b.indexOf(".")?0<b.indexOf(".")?parseInt(b.substring(0,b.indexOf("."))):parseInt(b):-1},parseAdData:function(b){this.log("parseAdData()");var d={},e;d.selectedPackage=null;d.redirectPackage=null;var f=c.Util.xmlToJson(b);if(f)if(f.VAST&&f.VAST["@attributes"])if(this.getVastVersion(f.VAST["@attributes"].version)<c.MINIMUM_VAST_VERSION_SUPPORTED||this.getVastVersion(f.VAST["@attributes"].version)>c.MAXIMUM_VAST_VERSION_SUPPORTED)x.onTranslatorFailed(c.ERROR_PARSE,"wrapperUrl="+O,c.ERROR_VAST_VERSION_NOT_SUPPORTED);
 else{if(f.VAST.Ad){f.VAST.Ad=[].concat(f.VAST.Ad);var g=[];b=[];for(e=0;e<f.VAST.Ad.length;e++){var h=new I;h.isWrapper=!!f.VAST.Ad[e].Wrapper;h.isWrapper?(h.parse(f.VAST.Ad[e].Wrapper),b.push(h)):(h.parse(f.VAST.Ad[e].InLine),g.push(h))}f=!1;if(0===g.length&&0===b.length)return this.log("parseAdData(): no ads from vast response!!!"),[d];this.log("parseAdData(): "+g.length+"inline ads, "+b.length+" wrapper ads.");h=null;for(e=0;e<g.length;e++)if(this.selectUsableAdsForDrivingSlot(g[e])){this.log("parseAdData(): package for driving slot is found!!!");
 h=g[e];break}e=0<w.length&&E.getSlot().getTimePositionClass()!==c.TIME_POSITION_CLASS_DISPLAY;if(h)e&&this.selectUsableAdsCompanionSlots(h)&&this.log("parseAdData(): companion ads are found for companion slots, with driving slot"),d.selectedPackage=h;else if(e){e=!1;for(var k=0;k<g.length;k++)h=g[k],this.selectUsableAdsCompanionSlots(h)&&(this.log("parseAdData(): companion ads are found for companion slots,without driving slot"),d.selectedPackage=h,e=!0);e||(this.log("parseAdData(): companion ads are not found for companion slots,without driving slot"),
 f=!0)}else this.log("parseAdData(): no usable ads found in vast response!!!"),f=!0;if(f&&0<b.length)for(g=0;g<b.length;g++)if(this.testWrapperForRedirect(b[g])){d.redirectPackage=b[g];E.incrementWrapperCount();this.selectUsableAdsCompanionSlots(b[g])&&this.log("parseAdData(): companion ads are found for wrapper ad");break}return[d]}f.VAST.Error&&q(E,c.EVENT_ERROR,c.EVENT_TYPE_ERROR,f.VAST.Error.value);x.onTranslatorFailed(c.ERROR_NO_AD_AVAILABLE,"wrapperUrl="+O,c.ERROR_VAST_NO_AD)}else x.onTranslatorFailed(c.ERROR_PARSE,
 "wrapperUrl="+O,c.ERROR_VAST_SCHEMA_VALIDATION);else x.onTranslatorFailed(c.ERROR_PARSE,"wrapperUrl="+O,c.ERROR_VAST_XML_PARSING)},selectUsableAdsForDrivingSlot:function(b){this.log("selectUsableAdsForDrivingSlot()");switch(B){case 2:b=this.testAndUpdatePackageForTemporalSlot(b,!0);break;case 4:b=this.testAndUpdatePackageForTemporalSlot(b,!1);break;case 8:b=this.testAndUpdatePackageForPageSlots(b,!1);break;default:b=!1}return b},selectUsableAdsCompanionSlots:function(b){this.log("selectUsableAdsCompanionSlots(pk)");
 return this.testAndUpdatePackageForPageSlots(b,!0)},testAndUpdatePackageForTemporalSlot:function(b,c){this.log("testAndUpdatePackageForTemporalSlot(pk,isLinear), isLinear = "+c);return b.testAndUpdatePackageForTemporalSlot(c)},testAndUpdatePackageForPageSlots:function(b,c){this.log("testAndUpdatePackageForPageSlots(pk,isCompanion) isCompanion = "+c);return b.testAndUpdatePackageForPageSlots(c)},testWrapperForRedirect:function(b){this.log("testWrapperForRedirect(pk)");return b.testWrapperForRedirect()},
 log:function(b){c.log("VastTranslator.VastParser\t"+b)},warn:function(b){c.warn("VastTranslator.VastParser\t"+b)}};var O=E.getActiveCreativeRendition().getWrapperUrl();b=E.getActiveCreativeRendition().getWrapperType();e("AdInstance.getActiveCreativeRendition().getWrapperUrl()="+O+", getWrapperType()="+b);if(0!==b.indexOf("external/vast-"))x.onTranslatorFailed(c.ERROR_NO_RENDERER,"wrapperType="+b+";wrapperUrl="+O,c.ERROR_VAST_TRACKING_ERROR);else if(O&&0!==O.length){var V=c.VAST_DEFAULT_MAX_WRAPPER_COUNT;
 (b=this._rendererController.getParameter(c.PARAMETER_VAST_MAX_WRAPPER_COUNT))&&0<Number(b)&&(V=Number(b));if(E.getWrapperCount()>=V)x.onTranslatorFailed(c.ERROR_IO,"maximum wrapper limit is reached "+E.getWrapperCount(),c.ERROR_VAST_WRAPPER_LIMIT_REACH);else{V=this._rendererController.getParameter("translator.vast.asyncLoad");V=!0===c.Util.str2bool(V);e("will load vast xml, asyncAjax:"+V);var U=this._rendererController.getParameter("translator.vast.loadWithCookie");U=!0===c.Util.str2bool(U);var ca=
 null,Z=5E3;(b=this._rendererController.getParameter(c.PARAMETER_VAST_TIMEOUT_IN_MILLISECONDS))&&0<Number(b)&&(Z=Number(b));try{window.XDomainRequest?(ca=new XDomainRequest,V=!0):(ca=new XMLHttpRequest,ca.withCredentials=U),x._request=ca,V?(ca.open("GET",O),window.XDomainRequest?ca.onload=function(){var b=new ActiveXObject("Microsoft.XMLDOM");b.async=!1;b.loadXML(ca.responseText);ca.responseXML=b;ca.status=200;y(ca)}:(ca.timeout=Z,ca.onreadystatechange=function(){4===ca.readyState&&y(ca)}),ca.ontimeout=
 function(){x.onTranslatorFailed(c.ERROR_TIMEOUT,"wrapperUrl="+O+" timed out.",c.ERROR_VAST_URI_TIMEOUT)},ca.onerror=function(){window.XDomainRequest&&(ca.status=0);0===ca.status?(d("CORS error"),x.onTranslatorFailed(c.ERROR_SECURITY,"wrapperUrl="+O)):(d("exception:"+ca.statusText),x.onTranslatorFailed(c.ERROR_UNKNOWN,"wrapperUrl="+O+";exception="+ca.statusText))},ca.send()):(ca.open("GET",O,!1),ca.send(),y(ca))}catch(M){b=!1;if(!window.XMLHttpRequestException)M.code===DOMException.NETWORK_ERR&&(d("CORS in IE10"),
 b=!0);else if(M instanceof XMLHttpRequestException)switch(M.code){case XMLHttpRequestException.NETWORK_ERR:b=!0}b?(d("CORS error:"+M),x.onTranslatorFailed(c.ERROR_SECURITY,"wrapperUrl="+O)):(d("exception:"+M),x.onTranslatorFailed(c.ERROR_UNKNOWN,"wrapperUrl="+O+";exception="+M))}}}else x.onTranslatorFailed(c.ERROR_NULL_ASSET,"wrapperUrl="+O,c.ERROR_VAST_TRACKING_ERROR)},info:function(){return{moduleType:c.MODULE_TYPE_TRANSLATOR}},log:function(b){c.log("VastTranslator\t"+b)},warn:function(b){c.warn("VastTranslator\t"+
 b)},getPlayheadTime:function(){return-1},getDuration:function(){return-1},stop:function(){c.debug("VastTranslator stop");this._request&&(this._request.abort(),c.log("VastTranslator Stop: request aborted"));this._request=null;this._rendererController&&this._rendererController.handleStateTransition(c.TRANSLATOR_STATE_COMPLETED)},onTranslatorFailed:function(b,e,d){this._request&&(this._request=null);var f={};f[c.INFO_KEY_ERROR_MODULE]="VastTranslator";f[c.INFO_KEY_ERROR_CODE]=b;f[c.INFO_KEY_VAST_ERROR_CODE]=
 d;e&&(f[c.INFO_KEY_ERROR_INFO]=e);this._rendererController.handleStateTransition(c.TRANSLATOR_STATE_FAILED,f)}};c.VastTranslator.prototype.constructor=c.VastTranslator;c.ContentVideoExtension=function(){this.autoSourceRestore=this.respondPauseResume=!0;this._originalTime=0;this._contentVideoControls=this._contentVideoSrc=null};c.ContentVideoExtension.prototype={_isEnabled:function(){var b=this._context.getParameter(c.PARAMETER_EXTENSION_CONTENT_VIDEO_ENABLED);return(null==b||!0===c.Util.str2bool(b))&&
 null!=this._context.getContentVideoElement()},_getBooleanParameter:function(b,e){b=this._context.getParameter(b);null==b&&(b=e);return c.Util.str2bool(b)},init:function(b){c.debug("ContentVideoExtension.init(context)");this._context=b;this._fixContentVideoCurrentTime=c.Util.bind(this,function(b){c.log("_fixContentVideoCurrentTime: event = "+b.type);if(!(0>=this._context.getContentVideoElement().currentTime||0>=this._context.getContentVideoElement().seekable.length)&&(this._context.getContentVideoElement().removeEventListener("timeupdate",
 this._fixContentVideoCurrentTime,!1),0<this._context.getContentVideoElement().currentTime&&1>this._context.getContentVideoElement().currentTime&&1<this._originalTime)){c.log("ContentVideoExtension: seeking to original time",this._originalTime);try{this._context.getContentVideoElement().currentTime=this._originalTime}catch(d){c.warn("ContentVideoExtension: seek error")}}});this._pause=c.Util.bind(this,function(b){c.log("_pause: event = "+b.type);this._isEnabled()?this._respondPauseResume()&&(c.debug("ContentVideoExtension: EVENT_CONTENT_VIDEO_PAUSE_REQUEST pausing content video",
 this._context.getContentVideoElement().src),this._originalTime=this._context.getContentVideoElement().currentTime,this._context.getContentVideoElement().pause()):c.debug("ContentVideoExtension: extension is not enabled, do nothing.")});this._resume=c.Util.bind(this,function(b){c.log("_resume: event = "+b.type);this._isEnabled()?this._respondPauseResume()&&(c.debug("ContentVideoExtension: EVENT_CONTENT_VIDEO_RESUME_REQUEST resume content video",this._context.getContentVideoElement().src),!this._context._videoAsset||
 null!=this._context._videoAsset._state&&this._context._videoAsset._state!==c.VIDEO_STATE_COMPLETED?(c.log("ContentVideoExtension: resume content video"),this._context.getContentVideoElement().play(),c.PLATFORM_AUTO_SEEK_AFTER_MIDROLL&&!0===this._getBooleanParameter(c.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SEEK_BACK,!0)&&this._context.getContentVideoElement().addEventListener("timeupdate",this._fixContentVideoCurrentTime,!1)):c.warn("ContentVideoExtension: video state is uninitialized or completed, skip resume.")):
 c.debug("ContentVideoExtension: extension is not enabled, do nothing.")});this._onAttach=c.Util.bind(this,function(b){if(!this._isEnabled())c.debug("ContentVideoExtension: extension is not enabled, do nothing.");else if(this._autoSourceRestore())switch(b.slot.getTimePositionClass()){case c.TIME_POSITION_CLASS_PREROLL:case c.TIME_POSITION_CLASS_POSTROLL:c.debug("ContentVideoExtension: store current content video src",this._context.getContentVideoElement().src),this._contentVideoSrc=this._context.getContentVideoElement().src,
 this._contentVideoControls=this._context.getContentVideoElement().controls,this._context.getContentVideoElement().paused||this._context.getContentVideoElement().pause()}});this._onDetach=c.Util.bind(this,function(b){if(!this._isEnabled())c.debug("ContentVideoExtension: extension is not enabled, do nothing.");else if(this._autoSourceRestore())switch(b=b.slot.getTimePositionClass(),b){case c.TIME_POSITION_CLASS_PREROLL:case c.TIME_POSITION_CLASS_POSTROLL:c.debug("ContentVideoExtension: restore content video src to",
 this._contentVideoSrc),this._context.getContentVideoElement().src!==this._contentVideoSrc&&(this._context.getContentVideoElement().src=this._contentVideoSrc),this._context.getContentVideoElement().controls=this._contentVideoControls,b===c.TIME_POSITION_CLASS_PREROLL&&this._context.getContentVideoElement().load()}});c.debug("ContentVideoExtension: enabling content video pause resume request handling.");this._context.addEventListener(c.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this._pause);this._context.addEventListener(c.EVENT_CONTENT_VIDEO_RESUME_REQUEST,
 this._resume);c.debug("ContentVideoExtension: enabling content video source management.");this._context.addEventListener(c.EVENT_SLOT_STARTED,this._onAttach);this._context.addEventListener(c.EVENT_SLOT_ENDED,this._onDetach)},_respondPauseResume:function(){return this._getBooleanParameter(c.PARAMETER_EXTENSION_CONTENT_VIDEO_RESPOND_PAUSE_RESUME,!0)},_autoSourceRestore:function(){return this._getBooleanParameter(c.PARAMETER_EXTENSION_CONTENT_VIDEO_AUTO_SOURCE_RESTORE,!0)},dispose:function(){c.debug("ContentVideoExtension.dispose()");
 this._context&&(this._context.removeEventListener(c.EVENT_CONTENT_VIDEO_PAUSE_REQUEST,this._pause),this._context.removeEventListener(c.EVENT_CONTENT_VIDEO_RESUME_REQUEST,this._resume),this._context.removeEventListener(c.EVENT_SLOT_STARTED,this._onAttach),this._context.removeEventListener(c.EVENT_SLOT_ENDED,this._onDetach),this._context=null)}};c.ContentVideoExtension.prototype.constructor=c.ContentVideoExtension;return c};fa.tv.freewheel.SDK||(fa.tv.freewheel.SDK=fa.tv.freewheel[D]("tv.freewheel.SDK"));
 return fa})();